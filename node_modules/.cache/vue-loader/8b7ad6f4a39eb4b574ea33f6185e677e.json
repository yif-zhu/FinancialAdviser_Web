{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\Detail.vue","mtime":1604625921307},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapState, mapMutations} from 'vuex';\nimport TaskProcess from \"@/api/TaskProcess\";\nimport dataGrid from '@/components/common/DataGrid.vue';\nimport { BasePath } from '@/utils/config.js';\nexport default {\n  data() {\n    return {\n      listOrder: 'ItemId asc,TrustStartDate asc',\n      listFilter:'',\n      checkedData:[],\n      tableAssetS:false,\n      searchProduct:'',\n      aflodS:true\n    }\n  },\n  components: {\n    dataGrid,\n  },\n  created() {\n    this.getTrustDetail();\n  },\n  mounted() {\n    this.handleScroll()\n  },\n  computed:{\n    ...mapState('productInfo',['productDetail']),\n    trustId() {\n      return this.$route.params.id;\n    },\n    AssetType() {\n      console.log(this.productDetail)\n      return this.productDetail.AssetType\n    },\n\n  },\n  watch:{\n    $route(to,from){\n      this.handleScroll()\n    },\n  },\n  beforeRouteUpdate(to,from,next) {\n    var box = document.getElementsByClassName('contentBox')[0]\n    if (to.name == 'AssetPoolDistributions') {\n      box.addEventListener('scroll', this.$refs.assetPooldisRou.listenerFun,true)\n    }else{\n      console.log('remove')\n      box.removeEventListener(\"scroll\", this.$refs.assetPooldisRou.listenerFun, true);\n    }\n    next()\n  },\n  methods:{\n    ...mapMutations('productInfo',['setProductDetail', 'setTrustId']),\n    //选中产品\n    selectionChange(data){\n      console.log(data)\n      this.checkedData = data\n\n    },\n    row_key(row) {\n      //console.log(row)\n      return row.TrustId\n    },\n    // 对比工具\n\n    backProductList() {\n      this.$router.push('/Product/ProductList')\n    },\n    handleScroll () {\n      this.$nextTick(() => {\n        var box = document.getElementsByClassName('contentBox')[0]\n        if (document.getElementsByClassName('assetPooldis')[0]) {\n          box.addEventListener('scroll', this.$refs.assetPooldisRou.listenerFun,true)\n        }else{\n          box.removeEventListener(\"scroll\", this.$refs.assetPooldisRou.listenerFun, true);\n        }\n      })\n    },\n    getTrustDetail() {\n      var self = this;\n      let trustId = Number(self.trustId);\n      this.setTrustId(trustId);\n      var svc = this.$http('PortfolioManagement', 'DV.TrustInfo_Get');\n      svc.AddParam({ Name: 'TrustID', Value: trustId, DBType: 'int' });\n      svc.ExecTable().then(res=> {\n        console.log(res)\n        this.setProductDetail(res[0]);\n        this.$title(res[0].TrustName);\n\n      })\n    },\n  }\n}\n",{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/product","sourcesContent":["<template>\n  <div class=\"productDetail\">\n    <div class=\"baseInfo\">\n      <p class=\"text\">\n        <span class=\"name\"><i class=\"iconfont icon-biaoqian\" style=\"color:#5264D9;margin-right:5px;\"></i>{{this.productDetail.TrustName}}</span>\n        <span>所属行业：<b> {{this.productDetail.AssetTypeName}}</b></span>\n        <span>所属经营机构：<b> {{this.productDetail.IssueAmount?this.productDetail.IssueAmount.toLocaleString():this.productDetail.IssueAmount}}</b></span>\n      </p>\n    </div>\n    <div class=\"contentBox\">\n      <div class=\"contentBoxMain\">\n        <ul class=\"leftMenu\" :class=\"!aflodS?'noShow':''\">\n        <li>\n          <el-button size=\"mini\" style=\"width: 100%\" @click=\"backProductList\">\n            <i class=\"iconfont icon-fanhui\" style=\"margin-right:5px;font-size:13px;\"></i>返回产品列表\n          </el-button>\n        </li>\n        <li class=\"title\"><span>企业详情</span></li>\n        <li>\n          <router-link to=\"ProductInformation\">基本信息\n            <i class=\"iconfont icon-arr-left\"></i></router-link>\n        </li>\n        <li>\n          <router-link to=\"SecuritiesInformation\">财务数据\n            <i class=\"iconfont icon-arr-left\"></i></router-link>\n        </li>\n        <li>\n          <router-link to=\"productDatesReport\">财务分析报告\n            <i class=\"iconfont icon-arr-left\"></i></router-link>\n        </li>\n\n      </ul>\n      <div class=\"rightRouter\">\n        <i class=\"iconfont icon-Group- aflod\" @click=\"aflodS = !aflodS\" :class=\"!aflodS?'noShow':''\" :title=\"!aflodS?'展开左侧菜单':'收起左侧菜单'\"></i>\n        <keep-alive>\n          <router-view ref=\"assetPooldisRou\"></router-view>\n        </keep-alive>\n      </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport {mapState, mapMutations} from 'vuex';\nimport TaskProcess from \"@/api/TaskProcess\";\nimport dataGrid from '@/components/common/DataGrid.vue';\nimport { BasePath } from '@/utils/config.js';\nexport default {\n  data() {\n    return {\n      listOrder: 'ItemId asc,TrustStartDate asc',\n      listFilter:'',\n      checkedData:[],\n      tableAssetS:false,\n      searchProduct:'',\n      aflodS:true\n    }\n  },\n  components: {\n    dataGrid,\n  },\n  created() {\n    this.getTrustDetail();\n  },\n  mounted() {\n    this.handleScroll()\n  },\n  computed:{\n    ...mapState('productInfo',['productDetail']),\n    trustId() {\n      return this.$route.params.id;\n    },\n    AssetType() {\n      console.log(this.productDetail)\n      return this.productDetail.AssetType\n    },\n\n  },\n  watch:{\n    $route(to,from){\n      this.handleScroll()\n    },\n  },\n  beforeRouteUpdate(to,from,next) {\n    var box = document.getElementsByClassName('contentBox')[0]\n    if (to.name == 'AssetPoolDistributions') {\n      box.addEventListener('scroll', this.$refs.assetPooldisRou.listenerFun,true)\n    }else{\n      console.log('remove')\n      box.removeEventListener(\"scroll\", this.$refs.assetPooldisRou.listenerFun, true);\n    }\n    next()\n  },\n  methods:{\n    ...mapMutations('productInfo',['setProductDetail', 'setTrustId']),\n    //选中产品\n    selectionChange(data){\n      console.log(data)\n      this.checkedData = data\n\n    },\n    row_key(row) {\n      //console.log(row)\n      return row.TrustId\n    },\n    // 对比工具\n\n    backProductList() {\n      this.$router.push('/Product/ProductList')\n    },\n    handleScroll () {\n      this.$nextTick(() => {\n        var box = document.getElementsByClassName('contentBox')[0]\n        if (document.getElementsByClassName('assetPooldis')[0]) {\n          box.addEventListener('scroll', this.$refs.assetPooldisRou.listenerFun,true)\n        }else{\n          box.removeEventListener(\"scroll\", this.$refs.assetPooldisRou.listenerFun, true);\n        }\n      })\n    },\n    getTrustDetail() {\n      var self = this;\n      let trustId = Number(self.trustId);\n      this.setTrustId(trustId);\n      var svc = this.$http('PortfolioManagement', 'DV.TrustInfo_Get');\n      svc.AddParam({ Name: 'TrustID', Value: trustId, DBType: 'int' });\n      svc.ExecTable().then(res=> {\n        console.log(res)\n        this.setProductDetail(res[0]);\n        this.$title(res[0].TrustName);\n\n      })\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.productDetail{\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  padding-left:0;\n  border-radius: 3px;\n  position: relative;\n  height: 100%;\n  .baseInfo{\n    padding: 10px 20px;\n    position: relative;\n    background: #f1f2fb url(\"../../assets/images/info-bg.jpg\") no-repeat center;\n    border-bottom: 1px solid #e6e9f0;\n\n    .text{\n      margin:10px 0;\n      span{\n        margin-right: 20px;\n        color: #444;\n        font-size: 12px;\n        &.name{\n          font-size: 15px;\n          font-weight: bold;\n          border-right: 1px solid #bbb;\n          display: inline-block;\n          padding-right: 20px;\n        }\n        &.datatate{\n          font-size: 14px;\n        }\n      }\n    }\n  }\n  .contentBox{\n    flex:1;\n    background-color: #fff;\n    overflow: auto;\n    .contentBoxMain{\n      width: 100%;\n      display: flex;\n      min-height: 100%;\n    }\n    .leftMenu{\n      flex:0 0 210px;\n      background-color: #fff;\n      max-height:100%;\n      border-right: 1px solid $--color-grey-border;\n      box-shadow: #f5f9ff 1px 2px 0px 1px;\n      padding: 20px;\n      &.noShow{\n        display: none;\n      }\n      li{\n        text-align: left;\n        margin-bottom: 5px;\n        &.title{\n          padding: 10px 0;\n          color: $--color-grey;\n          font-size: 13px;\n          position: relative;\n          &:before{\n            display: inline-block;\n            content: '';\n            width: 55%;\n            height: 1px;\n            background-color:$--color-grey-border;\n            position: absolute;\n            right: 0;\n            top: 50%;\n          }\n        }\n        a{\n          display: inline-block;\n          width: 100%;\n          padding:8px 15px;\n          color: rgba($--color-black, 0.8);\n          position: relative;\n          &:hover{\n            color: $--color-black;\n          }\n          i{\n            font-size:14px;\n            position: absolute;\n            top: 9px;\n            right: 15px;\n            display: none;\n          }\n          &.router-link-exact-active.router-link-active{\n            background-color: $--color-grey-border;\n            color: $--color-black;\n            border-radius: 5px;\n            i{\n              display: inline-block;\n            }\n          }\n        }\n      }\n    }\n    .rightRouter{\n      flex:1;\n      width:0;\n      position: relative;\n      .aflod{\n        font-size: 22px;\n        color: #5264d9;\n        cursor: pointer;\n        position: absolute;\n        top: 200px;\n        left: 0;\n        font-weight: bold;\n        transform: rotate(90deg);\n        animation:move 1s infinite;\n        &.noShow{\n          transform: rotate(270deg);\n        }\n      }\n    }\n  }\n\n}\n@keyframes move\n{\n0% {opacity: 1;}\n50%{opacity: 0.2;}\n100% {opacity: 1;}\n}\n/deep/.el-table tr.noShow{\n  background-color: #ededed;\n  .link{\n    color: #bbb;\n  }\n  .cell{\n    color: #bbb;\n  }\n}\n/deep/ .tool-bar .tool-filter{\n    display: flex;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n}\n</style>\n"]}]}