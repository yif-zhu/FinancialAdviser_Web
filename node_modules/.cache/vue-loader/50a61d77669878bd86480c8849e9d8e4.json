{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\Detail.vue","mtime":1604625921307},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapState, mapMutations} from 'vuex';\nimport TaskProcess from \"@/api/TaskProcess\";\nimport dataGrid from '@/components/common/DataGrid.vue';\nimport { BasePath } from '@/utils/config.js';\nexport default {\n  data() {\n    return {\n      listOrder: 'ItemId asc,TrustStartDate asc',\n      listFilter:'',\n      checkedData:[],\n      tableAssetS:false,\n      searchProduct:'',\n      aflodS:true\n    }\n  },\n  components: {\n    dataGrid,\n  },\n  created() {\n    this.getTrustDetail();\n  },\n  mounted() {\n    this.handleScroll()\n  },\n  computed:{\n    ...mapState('productInfo',['productDetail']),\n    trustId() {\n      return this.$route.params.id;\n    },\n    AssetType() {\n      console.log(this.productDetail)\n      return this.productDetail.AssetType\n    },\n\n  },\n  watch:{\n    $route(to,from){\n      this.handleScroll()\n    },\n  },\n  beforeRouteUpdate(to,from,next) {\n    var box = document.getElementsByClassName('contentBox')[0]\n    if (to.name == 'AssetPoolDistributions') {\n      box.addEventListener('scroll', this.$refs.assetPooldisRou.listenerFun,true)\n    }else{\n      console.log('remove')\n      box.removeEventListener(\"scroll\", this.$refs.assetPooldisRou.listenerFun, true);\n    }\n    next()\n  },\n  methods:{\n    ...mapMutations('productInfo',['setProductDetail', 'setTrustId']),\n    //选中产品\n    selectionChange(data){\n      console.log(data)\n      this.checkedData = data\n\n    },\n    row_key(row) {\n      //console.log(row)\n      return row.TrustId\n    },\n    // 对比工具\n\n    backProductList() {\n      this.$router.push('/Product/ProductList')\n    },\n    handleScroll () {\n      this.$nextTick(() => {\n        var box = document.getElementsByClassName('contentBox')[0]\n        if (document.getElementsByClassName('assetPooldis')[0]) {\n          box.addEventListener('scroll', this.$refs.assetPooldisRou.listenerFun,true)\n        }else{\n          box.removeEventListener(\"scroll\", this.$refs.assetPooldisRou.listenerFun, true);\n        }\n      })\n    },\n    getTrustDetail() {\n      var self = this;\n      let trustId = Number(self.trustId);\n      this.setTrustId(trustId);\n      var svc = this.$http('PortfolioManagement', 'DV.TrustInfo_Get');\n      svc.AddParam({ Name: 'TrustID', Value: trustId, DBType: 'int' });\n      svc.ExecTable().then(res=> {\n        console.log(res)\n        this.setProductDetail(res[0]);\n        this.$title(res[0].TrustName);\n\n      })\n    },\n  }\n}\n",null]}