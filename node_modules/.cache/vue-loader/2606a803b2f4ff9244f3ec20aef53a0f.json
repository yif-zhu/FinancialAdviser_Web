{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\ProductList.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\ProductList.vue","mtime":1604373902573},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.productList {\n  background: #fff;\n  display: flex;\n  flex: 1;\n  min-height: 0;\n  height: 100%;\n  flex-direction: row;\n  overflow: hidden;\n\n  /deep/ .tool-bar {\n    height: 38px;\n\n    .tool-inner {\n      height: 38px;\n    }\n\n    .tool-right {\n      height: 38px;\n    }\n\n    .tool-left {\n      height: 38px;\n    }\n  }\n  .searchBox-fold{\n    width: 0px;\n    height: 50px;\n    transition: all .3s ease;\n    position: absolute;\n    top: 50%;\n    left: 0;\n    z-index: 9;\n    cursor: pointer;\n    border-left: 13px solid #3345b9;\n    border-bottom: 13px solid transparent;\n    border-top: 13px solid transparent;\n\n    i{\n      height: 20px;\n      position: absolute;\n      top: 5px;\n      left: -14px;\n      color: #fff;\n    }\n  }\n\n  .transactionBox {\n    height: 100%;\n    flex: 1;\n    width: 0;\n  }\n\n  .searchBox {\n    flex: 0 0 300px;\n    width: 0;\n    background-color: #f4f5fe;\n    padding-left: 15px;\n  }\n\n  .icon-guanzhu1 {\n    color: rgb(247, 186, 42);\n    font-size: 13px;\n    cursor: pointer;\n  }\n\n  .icon-guanzhu {\n    color: #c0c4cc;\n    font-size: 13px;\n    cursor: pointer;\n  }\n\n  .searchBox {\n    background-color: #f1f2fb;\n    width: 25%;\n    min-height: 0;\n    padding-left: 15px;\n  }\n\n  .el-checkbox-button--small .el-checkbox-button__inner {\n    border-radius: 2px !important;\n    margin-right: 10px;\n    background-color: #ddd;\n  }\n\n  .el-checkbox-button.is-checked .el-checkbox-button__inner {\n    background-color: $--app-theme-color;\n  }\n\n  .tableWrap {\n    position: relative;\n    width: 75%;\n    height: 100%;\n\n    >.data-grid {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      .el-table--mini th {\n        padding: 1px 0;\n      }\n    }\n  }\n}\n\n.view-type{\n  line-height: 40px;\n  padding: 0 14px;\n\n  a{\n    color: #4D4D4D;\n    margin-right: 21px;\n    &:hover{\n      color: rgba(#4D4D4D, 0.8);\n    }\n    &.active{\n      color: $--color-primary;\n      font-weight: bold;\n    }\n  }\n}\n\n.clear-condition {\n  font-size: 12px;\n  text-align: center;\n  color: $--color-primary;\n  display: inline-block;\n  width: 100%;\n  cursor: pointer;\n}\n\n.chosen-fields {\n  display: inline-block;\n  margin-bottom: 10px;\n  margin-right: 10px;\n  background-color: #fff;\n  border: 1px solid $--color-grey-light;\n  color: $--color-primary;\n  border-radius: 3px;\n  font-size: 12px;\n  position: relative;\n  padding-right: 22px;\n  overflow: hidden;\n\n  &:hover {\n    border-color: $--color-primary;\n\n    .field-remove {\n      background-color: $--color-primary;\n      color: #fff;\n    }\n  }\n\n  .field-titles {\n    margin-right: 5px;\n    display: inline-block;\n    padding: 3px 0 3px 10px;\n\n    .title {\n      color: $--color-black;\n    }\n  }\n\n  .field-remove {\n    display: inline-block;\n    height: 100%;\n    cursor: pointer;\n    padding: 0 5px;\n    position: absolute;\n    top: 0;\n    right: -1px;\n    line-height: 26px;\n    width: 15px;\n    background-color: #f1f1f1;\n\n    i {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%)\n    }\n  }\n}\n\n",{"version":3,"sources":["ProductList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductList.vue","sourceRoot":"src/views/product","sourcesContent":["<template>\n  <div class=\"productList\" style=\"height:100%;display:flex;\">\n    <div class=\"searchBox\" v-show=\"searchS\">\n      <adv-filter conName=\"PortfolioManagement\" templateName=\"ProductListFilter\"\n        v-on:handleSearch=\"doProductListFilter\" @handleSearchCon=\"handleSearchCon\" ref=\"advFilterR\">\n      </adv-filter>\n    </div>\n    <div class=\"tableWrap transactionBox\" ref=\"tableWrap\">\n      <div class=\"searchBox-fold\" @click=\"searchSC\">\n        <i :class=\"searchS?'el-icon-caret-left':'el-icon-caret-right'\"></i>\n      </div>\n      <data-grid :showFilter=\"true\" id=\"export-table\" conName=\"PortfolioManagement\" :tableName=\"viewType\"\n        ref=\"refDataGrid\" isFixed :order=\"listOrder\" @sortChange=\"doListSortChange\"\n        :filter=\"listFilter\" :needUserName=\"true\" :bondCode=\"bondCode\"  @select=\"selectRow\" @select-all=\"selectAll\" :multiSelection=\"true\" :row-key=\"row_key\" @listDataChanged=\"listDataChanged\" :key=\"viewType\">\n        <template slot=\"toolbar-filter\">\n          <div class=\"view-type\">\n            <a href=\"javascript:;\" :class=\"viewType === 'DV.view_Products' ? 'active' : ''\" @click=\"viewType = 'DV.view_Products'\">产品列表</a>\n            <a href=\"javascript:;\" :class=\"viewType === 'DV.tbl_view_TrustBond' ? 'active' : ''\" @click=\"viewType = 'DV.tbl_view_TrustBond'\">债券列表</a>\n          </div>\n        </template>\n        <template slot=\"toolbar-right\">\n          <el-button size=\"mini\" @click=\"exportExcel\" icon=\"el-icon-download\" :disabled=\"checkedData.length<1\">导出</el-button>\n<!--          <el-button type=\"primary\" plain size=\"mini\" :disabled=\"checkedData.length<1\" @click=\"compareTrust\"><i-->\n<!--              class=\"el-icon-c-scale-to-original mr-5\" style=\"font-size:13px;\" ></i>产品对比</el-button>-->\n<!--          <el-button type=\"primary\" plain size=\"mini\" v-popover:searchCon><i-->\n<!--              class=\"iconfont icon-weibiaoti&#45;&#45;1 mr-5\" style=\"font-size:13px;\"></i>管理筛选条件</el-button>-->\n        </template>\n        <template v-if=\"viewType == 'DV.view_Products'\" slot=\"table-column\">\n          <el-table-column type=\"selection\" width=\"50\" :reserve-selection=\"true\"></el-table-column>\n          <el-table-column prop=\"TrustNameShort\" label=\"简称\" sortable=\"custom\" fixed width=\"160\"\n            :show-overflow-tooltip=\"true\">\n            <template slot-scope=\"{row}\">\n              <router-link :to=\"'Detail/' + row.TrustId\" class=\"link\" target=\"_blank\"\n                :title=\"row.TrustNameShort\">\n                {{row.TrustNameShort}}\n              </router-link>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"TrustName\" label=\"名称\" sortable=\"custom\" min-width=\"200\"\n            :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"TrustStartDate\" label=\"发行日期\" sortable=\"custom\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"ClosureDate\" label=\"法定到期日\" sortable=\"custom\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"IsTopUpAvaliable\" label=\"是否循环结构\" min-width=\"130\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.IsTopUpAvaliable?'是':'否'}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"RevolvingPeriods\" label=\"循环期期长(月)\" min-width=\"130\">\n          </el-table-column>\n          <el-table-column prop=\"IssueAmount\" label=\"发行总金额\" sortable=\"custom\" min-width=\"130\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.IssueAmount?scope.row.IssueAmount.toLocaleString():scope.row.IssueAmount}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"CollectionMethodName\" label=\"募集方式\" width=\"80\">\n          </el-table-column>\n          <el-table-column prop=\"TrustStatus\" label=\"当前状态\">\n          </el-table-column>\n          <el-table-column prop=\"FirstCollectionDate\" label=\"首次归集日\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"FirstPaymentDate\" label=\"首次兑付日\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"PaymentFrequency\" label=\"兑付周期(月)\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"LiquidatedDate\" label=\"清算日\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"MarketPlaceName\" label=\"交易场所\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"RegulatoryOrgName\" label=\"监管机构\">\n          </el-table-column>\n          <el-table-column prop=\"MarketCategoryName\" label=\"市场分类\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"AssetTypeName\" label=\"资产分类\" width=\"140\">\n          </el-table-column>\n          <el-table-column prop=\"BasicAssetTypeName\" label=\"底部资产类型\" min-width=\"120\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"ProductSubject\" label=\"原始权益人\" :show-overflow-tooltip=\"true\" min-width=\"200\">\n          </el-table-column>\n          <el-table-column prop=\"ServiceInstitutions\" label=\"贷款服务机构\" min-width=\"140\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"RatingAgencies\" label=\"评级机构\" min-width=\"140\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"Publisher\" label=\"发行机构\" min-width=\"140\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"Trustee\" label=\"受托机构\" min-width=\"130\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"SupervisoryBanks\" label=\"监管银行\" min-width=\"140\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"FundsCustodian\" label=\"资金保管机构\" min-width=\"130\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"MainUnderwriter\" label=\"主承销商\" min-width=\"140\" :show-overflow-tooltip=\"true\">\n          </el-table-column>\n        </template>\n        <template v-if=\"viewType == 'DV.tbl_view_TrustBond'\" slot=\"table-column\">\n          <el-table-column label=\"操作\" width=\"80\">\n            <template slot-scope=\"{row}\">\n              <a href=\"javascript:;\" @click=\"openValuation(row)\">进入估值</a>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"SecurityExchangeCode\" label=\"债券代码\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"ShortName\" label=\"债券简称\" min-width=\"140\" :show-overflow-tooltip=\"true\"  sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"OriginalCreditRating\" label=\"初始评级\" min-width=\"140\" :show-overflow-tooltip=\"true\"  sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"ClassName\" label=\"当前评级\" min-width=\"140\" :show-overflow-tooltip=\"true\"  sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"CouponBasis\" label=\"票面利率\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"PaymentConvention\" label=\"兑付形式\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"TrustNameShort\" label=\"产品简称\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"IssueDate\" label=\"起息日\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"LegalMaturityDate\" label=\"预期到期日\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"Denomination\" label=\"当前面值\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"AssetTypeName\" label=\"资产分类\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n          <el-table-column prop=\"ProductSubject\" label=\"原始权益人\" min-width=\"140\" :show-overflow-tooltip=\"true\" sortable=\"custom\">\n          </el-table-column>\n        </template>\n      </data-grid>\n    </div>\n    <!-- 管理筛选条件 -->\n    <el-popover placement=\"bottom-start\" title=\"\" width=\"280\" ref=\"searchCon\" v-model=\"searchCon\"\n      :visibleArrow=\"false\" trigger=\"click\">\n      <div>\n        <div v-if=\"fields.length>0\">\n          <div v-for=\"field in fields\" :key=\"field.Title\" v-show=\"field.ChosenTitles.length>0\"\n            class=\"chosen-fields\">\n            <span class=\"field-titles\"><span\n                class=\"title\">{{field.Title}}：</span>{{field.UIFormat?field.ChosenTitles.join(\" - \"):field.ChosenTitles.join(\", \")}}</span>\n            <span class=\"field-remove\" v-if=\"!field.Must\" @click=\"removeFieldChosen(field)\">\n              <i class=\"el-icon-close\"></i>\n            </span>\n          </div>\n          <div  v-show=\"bondCode !==''\"\n            class=\"chosen-fields\">\n            <span class=\"field-titles\"><span\n                class=\"title\">证券代码：</span>{{bondCode}}</span>\n            <span class=\"field-remove\" @click=\"removeColdChosen\">\n              <i class=\"el-icon-close\"></i>\n            </span>\n          </div>\n        </div>\n        <span @click=\"removeAll()\" class=\"colorPrimary clear-condition\" v-show=\"removeShow\"\n          s>清除筛选</span>\n        <p v-show=\"!removeShow\" style=\"font-size:12px;color:#a5a5a5;text-align:center;\">暂无数据</p>\n      </div>\n    </el-popover>\n  </div>\n</template>\n\n<script>\n  import advFilter from '@/components/common/AdvanceFilter.vue'\n  import dataGrid from '@/components/common/DataGrid.vue';\n  import FileSaver from 'file-saver';\n  import XLSX from 'xlsx';\n\timport { BasePath } from '@/utils/config.js';\n  import {\n    addClass,\n    removeClass,\n    hasClass\n  } from '@/utils/dom.js'\n  import {\n    mapState,\n    mapMutations\n  } from 'vuex';\n  export default {\n    components: {\n      dataGrid,\n      advFilter\n    },\n    data() {\n      return {\n        listOrder: 'ItemId asc,TrustStartDate asc',\n        listFilter: 'IsMarketProduct = 1',\n        searchS: true,\n        fields: [],\n        removeShow: false,\n        searchCon: false,\n        bondCode:'',\n        checkedData:[],\n        tableDataList:[],\n        // 为华泰客户环境\n        IS_HUATAI: process.env.VUE_APP_CUSTOMER && process.env.VUE_APP_CUSTOMER === 'huatai',\n        viewType: 'DV.view_Products'\n      }\n    },\n    computed: {\n      userName() {\n        return this.$store.state.user.userName;\n      },\n      ConcernTrust() {\n        return this.$store.state.productInfo.ConcernTrust\n      }\n    },\n    methods: {\n      ...mapMutations('productInfo', ['setProductDetail', 'setConcernTrust']),\n      searchSC() {\n        this.searchS = !this.searchS\n      },\n      openValuation(item) {\n        //console.log(item);\n        let trustId = item.TrustId;\n        let bondName = item.ShortName;\n        window.open(BasePath+'analysisFrameworkSimple/#/tool/modelsAndTools/pricingToolPage?&TrustID='+trustId+'&BondName='+bondName, '_blank');\n      },\n      exportExcel () {\n        let self = this;\n         /* out-table关联导出的dom节点  */\n         let table = document.querySelector('#export-table .el-table__fixed').cloneNode(true);\n         let tbody = table.querySelector('.el-table__body tbody');\n         let tr = tbody.querySelectorAll('tr');\n         let tbody2 = document.createElement(\"tbody\");\n         tr.forEach((v, i) => {\n           let td = v.querySelectorAll('td')[0];\n           if(td) {\n             let isCheckd = td.querySelector('label.is-checked');\n             if(isCheckd) {\n               tbody2.appendChild(v);\n             }\n           }\n         });\n         table.querySelector('.el-table__body').replaceChild(tbody2, tbody);\n         var wb = XLSX.utils.table_to_book(table, {raw:true});\n\n\n         /* get binary string as output */\n         var wbout = XLSX.write(wb, { bookType: 'xlsx', bookSST: true, type: 'array'})\n         try {\n             FileSaver.saveAs(new Blob([wbout], { type: 'application/octet-stream' }), '产品列表数据.xlsx')\n         } catch (e) { if (typeof console !== 'undefined') console.log(e, wbout) }\n         return wbout\n      },\n      row_key(row) {\n        //console.log(row)\n        return this.viewType === 'DV.view_Products' ? row.TrustId : row.SNO;\n      },\n      // 对比工具\n      compareTrust() {\n        let trustIds = '';\n        for (var i = 0; i < this.checkedData.length; i++) {\n          trustIds += this.checkedData[i].TrustId+(i !== this.checkedData.length-1?',':'')\n        }\n        window.open(`${BasePath}QuickCompare/#/Compare/?trustids=${trustIds}&module=DealViewer`)\n        //console.log(trustIds)\n      },\n      doProductListFilter(condition,bondCode) {\n        console.log(condition,bondCode)\n          this.listFilter = condition;\n          this.bondCode = bondCode;\n      },\n      handleSearchCon(fields, removeShow) {\n        this.fields = fields\n        this.removeShow = removeShow\n        console.log(fields)\n      },\n      removeColdChosen() {\n        this.$refs.advFilterR.bondCodeClear()\n      },\n      removeFieldChosen(fields) {\n        this.$refs.advFilterR.removeFieldChosen(fields)\n      },\n      removeAll() {\n        this.searchCon = false\n        this.$refs.advFilterR.removeAll();\n        this.removeColdChosen()\n      },\n      doListSortChange(orderBy) {\n        this.listOrder = orderBy ? orderBy : 'TrustId desc';\n      },\n      //选中产品\n    selectRow(data){\n      console.log(data)\n      this.checkedData = data\n    },\n    selectAll(data) {\n      let bl = 0;\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].TrustId == this.tableDataList[0].TrustId) {\n          bl +=1\n        }\n      }\n      if (!bl) {\n        this.checkedData = [];\n        this.$refs.refDataGrid.clearSelection();\n      }else{\n        this.checkedData = data\n      }\n      console.log(this.checkedData)\n    },\n    listDataChanged(data) {\n      this.tableDataList = data\n    },\n      focusFun(el, TrustID, IsConcerned) {\n        var dataUrl = '',\n          MStype = \"\",\n          MStext = \"\"\n        if (IsConcerned) {\n          el.target.className = 'iconfont icon-guanzhu'\n          dataUrl = 'DV.UserConcernTrust_Delete'\n          MStype = \"info\", MStext = \"已取消产品关注\"\n\n        } else {\n          el.target.className = 'iconfont icon-guanzhu1'\n          dataUrl = 'DV.UserConcernTrust_Add'\n          MStype = \"success\", MStext = \"产品关注成功\"\n        }\n        var self = this;\n        var svc = this.$http('PortfolioManagement', dataUrl);\n        svc.AddParam({\n          Name: 'UserName',\n          Value: self.userName,\n          DBType: 'string'\n        });\n        svc.AddParam({\n          Name: 'TrustID',\n          Value: TrustID,\n          DBType: 'int'\n        });\n        svc.ExecTable().then(res => {\n          console.log(res)\n          if (res[0].Column1 == 1) {\n            self.$message({\n              type: MStype,\n              message: MStext,\n            })\n            self.ConcernTrust_Get()\n            // console.log(self.ConcernTrust)\n          }\n\n        })\n      },\n      ConcernTrust_Get() {\n        var self = this;\n        var svc = this.$http('PortfolioManagement', 'DV.UserConcernTrust_Get');\n        svc.AddParam({\n          Name: 'UserName',\n          Value: self.userName,\n          DBType: 'string'\n        });\n        svc.ExecTable().then(res => {\n          self.setConcernTrust(res)\n          self.$refs.refDataGrid.refresh()\n        })\n      },\n    },\n    mounted() {\n      this.$title('产品');\n      this.listFilter = \"IsMarketProduct = 1\"\n    }\n  }\n\n</script>\n\n<style lang=\"scss\">\n  .productList {\n    background: #fff;\n    display: flex;\n    flex: 1;\n    min-height: 0;\n    height: 100%;\n    flex-direction: row;\n    overflow: hidden;\n\n    /deep/ .tool-bar {\n      height: 38px;\n\n      .tool-inner {\n        height: 38px;\n      }\n\n      .tool-right {\n        height: 38px;\n      }\n\n      .tool-left {\n        height: 38px;\n      }\n    }\n    .searchBox-fold{\n      width: 0px;\n      height: 50px;\n      transition: all .3s ease;\n      position: absolute;\n      top: 50%;\n      left: 0;\n      z-index: 9;\n      cursor: pointer;\n      border-left: 13px solid #3345b9;\n      border-bottom: 13px solid transparent;\n      border-top: 13px solid transparent;\n\n      i{\n        height: 20px;\n        position: absolute;\n        top: 5px;\n        left: -14px;\n        color: #fff;\n      }\n    }\n\n    .transactionBox {\n      height: 100%;\n      flex: 1;\n      width: 0;\n    }\n\n    .searchBox {\n      flex: 0 0 300px;\n      width: 0;\n      background-color: #f4f5fe;\n      padding-left: 15px;\n    }\n\n    .icon-guanzhu1 {\n      color: rgb(247, 186, 42);\n      font-size: 13px;\n      cursor: pointer;\n    }\n\n    .icon-guanzhu {\n      color: #c0c4cc;\n      font-size: 13px;\n      cursor: pointer;\n    }\n\n    .searchBox {\n      background-color: #f1f2fb;\n      width: 25%;\n      min-height: 0;\n      padding-left: 15px;\n    }\n\n    .el-checkbox-button--small .el-checkbox-button__inner {\n      border-radius: 2px !important;\n      margin-right: 10px;\n      background-color: #ddd;\n    }\n\n    .el-checkbox-button.is-checked .el-checkbox-button__inner {\n      background-color: $--app-theme-color;\n    }\n\n    .tableWrap {\n      position: relative;\n      width: 75%;\n      height: 100%;\n\n      >.data-grid {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        .el-table--mini th {\n          padding: 1px 0;\n        }\n      }\n    }\n  }\n\n  .view-type{\n    line-height: 40px;\n    padding: 0 14px;\n\n    a{\n      color: #4D4D4D;\n      margin-right: 21px;\n      &:hover{\n        color: rgba(#4D4D4D, 0.8);\n      }\n      &.active{\n        color: $--color-primary;\n        font-weight: bold;\n      }\n    }\n  }\n\n  .clear-condition {\n    font-size: 12px;\n    text-align: center;\n    color: $--color-primary;\n    display: inline-block;\n    width: 100%;\n    cursor: pointer;\n  }\n\n  .chosen-fields {\n    display: inline-block;\n    margin-bottom: 10px;\n    margin-right: 10px;\n    background-color: #fff;\n    border: 1px solid $--color-grey-light;\n    color: $--color-primary;\n    border-radius: 3px;\n    font-size: 12px;\n    position: relative;\n    padding-right: 22px;\n    overflow: hidden;\n\n    &:hover {\n      border-color: $--color-primary;\n\n      .field-remove {\n        background-color: $--color-primary;\n        color: #fff;\n      }\n    }\n\n    .field-titles {\n      margin-right: 5px;\n      display: inline-block;\n      padding: 3px 0 3px 10px;\n\n      .title {\n        color: $--color-black;\n      }\n    }\n\n    .field-remove {\n      display: inline-block;\n      height: 100%;\n      cursor: pointer;\n      padding: 0 5px;\n      position: absolute;\n      top: 0;\n      right: -1px;\n      line-height: 26px;\n      width: 15px;\n      background-color: #f1f1f1;\n\n      i {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%)\n      }\n    }\n  }\n\n</style>\n"]}]}