{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\AssetPoolInflow.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\AssetPoolInflow.vue","mtime":1604281047458},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport ItemBox from '@/components/layout/ItemBox.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tCurrentPeriodAr:[],\r\n\t\t\tCurrentPeriodSel:1\r\n\t\t}\r\n\t},\r\n\tcomponents:{\r\n    ItemBox\r\n  },\r\n\tcomputed:{\r\n\t\tTrustID() {\r\n      return this.$store.state.productInfo.trustId;\r\n    },\r\n\t},\r\n\tcreated() {\r\n\t\tthis.initInflow()\r\n\t},\r\n\tmethods:{\r\n\t\tinitInflow() {\r\n\t\t\tvar self = this;\r\n      var svc = this.$http('PortfolioManagement', 'DV.usp_GetPoolCashInflowByTrustId');\r\n      svc.AddParam({\r\n        Name: 'TrustID',\r\n        Value: self.TrustID, //4513,\r\n        DBType: 'int'\r\n      });\r\n      \r\n      svc.ExecTable().then(res => {\r\n      \tvar obj = {}\r\n      \tif (res.length>0) {\r\n      \t\tfor (var i = 0; i < res.length; i++) {\r\n      \t\t\tobj[res[i].PaymentPeriod] = res[i].PaymentPeriod\r\n      \t\t}\r\n\r\n      \t\tfor(var a in obj) {\r\n      \t\t\tvar data = []\r\n      \t\t\tfor (var i = 0; i < res.length; i++) {\r\n      \t\t\t\tif (Number(res[i].PaymentPeriod) == Number(a)) {\r\n      \t\t\t\t\tdata.push(res[i])\r\n      \t\t\t\t}\r\n      \t\t\t}\r\n      \t\t\tvar last = data[data.length-1]\r\n      \t\t\tvar heji  = null\r\n      \t\t\tfor (var i = 0; i < data.length; i++) {\r\n      \t\t\t\tif (data[i].Title_name == '合计') {\r\n      \t\t\t\t\theji = data[i]\r\n      \t\t\t\t\tdata[i] = last\r\n      \t\t\t\t}\r\n      \t\t\t}\r\n      \t\t\tdata[data.length-1] = heji\r\n      \t\t\tthis.CurrentPeriodAr.push({\r\n      \t\t\t\tPaymentPeriod:a,\r\n      \t\t\t\tdata:data\r\n      \t\t\t})\r\n      \t\t}\r\n      \t\tthis.CurrentPeriodSel = this.CurrentPeriodAr[0].PaymentPeriod\r\n      \t}\r\n      })\r\n\t\t},\r\n\t\tstateFormat(row, column, cellValue) {\r\n\t\t\tif(cellValue == null){\r\n\t\t\t\treturn ''\r\n\t\t\t}else{\r\n\t\t\t\tlet money = cellValue != 'ND'?Number(cellValue).toFixed(2).toString().replace(/(\\d{1,3})(?=(\\d{3})+(?:$|\\.))/g, \"$&,\"):cellValue\r\n        return money;\r\n\t\t\t}\r\n\t\t},\t\r\n\t}\r\n}\r\n",{"version":3,"sources":["AssetPoolInflow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AssetPoolInflow.vue","sourceRoot":"src/views/product","sourcesContent":["<template>\r\n\t<div class=\"assetPoolInflow\">\r\n\t\t<div class=\"detailPage\">\r\n\t\t\t<ItemBox title=\"资产池现金流流入情况\" class=\"baseItemBox\">\r\n\t\t\t\t<template slot=\"right\" v-if=\"CurrentPeriodAr.length>0\">\r\n\t        <el-select v-model=\"CurrentPeriodSel\" placeholder=\"请选择\" >\r\n\t          <el-option\r\n\t            v-for=\"item in CurrentPeriodAr\"\r\n\t            :key=\"item.PaymentPeriod\"\r\n\t            :label=\"item.PaymentPeriod+'期'\"\r\n\t            :value=\"item.PaymentPeriod\">\r\n\t          </el-option>\r\n\t        </el-select>\r\n\t      </template>\r\n\t      <el-table :data=\"CurrentPeriodAr[Number(CurrentPeriodSel) - 1].data\" size=\"mini\"  v-if=\"CurrentPeriodAr.length>0\">\r\n\t        <el-table-column prop=\"Title_name\" label=\"标的债权资产情况\" width=160>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Current_Amount\" label=\"本期回收金额\" :formatter=\"stateFormat\" min-width=160>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Cumulative_Amount\" label=\"累计回收金额\" :formatter=\"stateFormat\" min-width=160>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Estimated_Amount\" label=\"预计回收金额\" :formatter=\"stateFormat\" min-width=140>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Recovery_rate\" label=\"回收率（%）\" min-width=160>\r\n\t        </el-table-column>\r\n\t      </el-table>\r\n\t\t\t</ItemBox>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport ItemBox from '@/components/layout/ItemBox.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tCurrentPeriodAr:[],\r\n\t\t\tCurrentPeriodSel:1\r\n\t\t}\r\n\t},\r\n\tcomponents:{\r\n    ItemBox\r\n  },\r\n\tcomputed:{\r\n\t\tTrustID() {\r\n      return this.$store.state.productInfo.trustId;\r\n    },\r\n\t},\r\n\tcreated() {\r\n\t\tthis.initInflow()\r\n\t},\r\n\tmethods:{\r\n\t\tinitInflow() {\r\n\t\t\tvar self = this;\r\n      var svc = this.$http('PortfolioManagement', 'DV.usp_GetPoolCashInflowByTrustId');\r\n      svc.AddParam({\r\n        Name: 'TrustID',\r\n        Value: self.TrustID, //4513,\r\n        DBType: 'int'\r\n      });\r\n      \r\n      svc.ExecTable().then(res => {\r\n      \tvar obj = {}\r\n      \tif (res.length>0) {\r\n      \t\tfor (var i = 0; i < res.length; i++) {\r\n      \t\t\tobj[res[i].PaymentPeriod] = res[i].PaymentPeriod\r\n      \t\t}\r\n\r\n      \t\tfor(var a in obj) {\r\n      \t\t\tvar data = []\r\n      \t\t\tfor (var i = 0; i < res.length; i++) {\r\n      \t\t\t\tif (Number(res[i].PaymentPeriod) == Number(a)) {\r\n      \t\t\t\t\tdata.push(res[i])\r\n      \t\t\t\t}\r\n      \t\t\t}\r\n      \t\t\tvar last = data[data.length-1]\r\n      \t\t\tvar heji  = null\r\n      \t\t\tfor (var i = 0; i < data.length; i++) {\r\n      \t\t\t\tif (data[i].Title_name == '合计') {\r\n      \t\t\t\t\theji = data[i]\r\n      \t\t\t\t\tdata[i] = last\r\n      \t\t\t\t}\r\n      \t\t\t}\r\n      \t\t\tdata[data.length-1] = heji\r\n      \t\t\tthis.CurrentPeriodAr.push({\r\n      \t\t\t\tPaymentPeriod:a,\r\n      \t\t\t\tdata:data\r\n      \t\t\t})\r\n      \t\t}\r\n      \t\tthis.CurrentPeriodSel = this.CurrentPeriodAr[0].PaymentPeriod\r\n      \t}\r\n      })\r\n\t\t},\r\n\t\tstateFormat(row, column, cellValue) {\r\n\t\t\tif(cellValue == null){\r\n\t\t\t\treturn ''\r\n\t\t\t}else{\r\n\t\t\t\tlet money = cellValue != 'ND'?Number(cellValue).toFixed(2).toString().replace(/(\\d{1,3})(?=(\\d{3})+(?:$|\\.))/g, \"$&,\"):cellValue\r\n        return money;\r\n\t\t\t}\r\n\t\t},\t\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>"]}]}