{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\ProductRoadShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\ProductRoadShow.vue","mtime":1604281047867},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst CUSTOMER = process.env.VUE_APP_CUSTOMER;\r\nconsole.log(CUSTOMER)\r\nimport {\r\n\tmapState,mapMutations\r\n} from 'vuex';\r\nimport utilsIndex from '@/utils/index.js';\r\nimport fsvc from '@/api/FileService';\r\nimport ItemBox from '@/components/layout/ItemBox.vue';\r\nimport iframeLoading from '@/components/common/iframeLoading';\r\nimport QuillEditor from '@/components/product/QuillEditor.vue';\nimport Dates from './Dates.vue';\nimport SecuritiesInformation from './SecuritiesInformation';\nimport { BasePath } from '@/utils/config.js';\r\nexport default {\r\n\tname: \"ProductRoadShow\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tfileData:'',\r\n\t\t\tfileName:'',\r\n\t\t\tpreviewImg:'',\r\n\t\t\tzoomInS:false,\r\n\t\t\tpercentage:0,\r\n\t\t\tprogressSw:false,\r\n\t\t\ttableData: [],\r\n      editS:false,\r\n      projectContent:'',\r\n      structurePicture:'',\r\n      basicInfo1:[],\r\n      basicInfo2:[],\r\n      basicInfo3:[],\r\n      imgId:'',\r\n      t1: true,\r\n      t2: true,\r\n      t3: true,\r\n      t4: true,\r\n      t5: true,\r\n      readMore: true\r\n\t\t}\r\n\t},\r\n  computed:{\r\n  \t...mapState('user',['userName']),\r\n    TrustID() {\r\n      return this.$store.state.productInfo.trustId;\r\n    },\r\n    iframeUrl() {\r\n      return BasePath +'QuickDeal/simple.html#/StructureDesign/'+this.TrustID+'/viewDateSet?menu=viewDateSet,Layered&editable=false'\r\n    },\r\n    iframeUrlSAD() {\r\n      return BasePath +`QuickDeal/simple.html#/SensitivityAnalysisDefaultRate/${this.TrustID}`\r\n    },\r\n    paymentIframeUrl(){\r\n    \treturn BasePath +'QuickDeal/simple.html#/StructureDesign/'+this.TrustID+'/PaymentSequenceSetting?menu=PaymentSequenceSetting&editable=false'\r\n    }\r\n  },\r\n  components:{\r\n\t\tItemBox,iframeLoading,QuillEditor,\n    Dates,\n    SecuritiesInformation\r\n\t},\r\n\tcreated() {\r\n\t\tthis.loadDealStructure();\r\n\t\tthis.getData();\r\n\t\tthis.getEdit()\r\n\t},\r\n  methods:{\r\n  \tgetData() {\r\n  \t\tlet self = this;\r\n  \t\tvar svc = self.$http('PortfolioManagement', 'DV.usp_getPoolDistriBution_simulation');\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"TrustId\",\r\n\t\t\t\tValue: self.TrustID,\r\n\t\t\t\tDBType: \"int\"\r\n\t\t\t});\r\n\t\t\tsvc.ExecTables().then(res => {\r\n\t\t\t\tthis.basicInfo1 = res[0].map((item) => {\r\n\t\t\t\t\titem.ItemValue =  utilsIndex.numUnit(item.ItemValue)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\t\t\t\tthis.basicInfo2 = res[1].map((item) => {\r\n\t\t\t\t\titem.CountPercentage =  utilsIndex.numUnit(item.CountPercentage)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\t\t\t\tthis.basicInfo3 = res[2].map((item) => {\r\n\t\t\t\t\titem.CountPercentage =  utilsIndex.numUnit(item.CountPercentage)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\t\t\t\tthis.tableData = res[3].map((item) => {\r\n\t\t\t\t\titem.Amount =  utilsIndex.numUnit(item.Amount)\r\n\t\t\t\t\titem.AmountPercentage =  utilsIndex.numUnit(item.AmountPercentage)\r\n\t\t\t\t\titem.CountPercentage =  utilsIndex.numUnit(item.CountPercentage)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\r\n\t\t\t})\r\n  \t},\r\n    uploadClick() {\r\n    \tdocument.getElementById('fileDiv').click()\r\n    },\r\n    removePreview() {\r\n    \tdocument.getElementById(\"fileDiv\").value = '';\r\n    \tthis.fileData = ''\r\n\t\t\tthis.fileName = ''\r\n\t\t\tthis.previewImg = ''\r\n    },\r\n    fileChange(event) {\r\n    \tlet file = event.target.files;\r\n    \tconsole.log(file)\r\n\t\t\tlet fileType = file[0].name.substr(file[0].name.lastIndexOf(\".\"));\r\n\t\t\tif(fileType!='.jpg' && fileType!='.jpeg'&& fileType!='.png'){\r\n\t\t\t\tthis.$message.warning(\"请选择jpg,jpeg,png格式的图片！\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.fileData = document.getElementById(\"fileDiv\").files[0];\r\n\t\t\tthis.fileName = file[0].name;\r\n\t\t\tthis.previewImg = this.getObjectURL(this.fileData);\r\n    },\r\n    getObjectURL(file) {\r\n\t\t\tvar url = null ;\r\n\t\t\tif (window.createObjectURL!=undefined) { // basic\r\n\t\t\t\turl = window.createObjectURL(file) ;\r\n\t\t\t} else if (window.URL!=undefined) { // mozilla(firefox)\r\n\t\t\t\turl = window.URL.createObjectURL(file) ;\r\n\t\t\t} else if (window.webkitURL!=undefined) { // webkit or chrome\r\n\t\t\t\turl = window.webkitURL.createObjectURL(file) ;\r\n\t\t\t}\r\n\t\t\treturn url ;\r\n\t\t},\r\n    uploadSave(){\r\n\t\t\tvar self = this;\r\n\t\t\tvar postData = document.getElementById(\"fileDiv\").files;\r\n\t\t\tif (postData.length<1) {\r\n\t\t\t    self.$message.error('请选择上传的图片');\r\n\t\t\t    return;\r\n\t\t\t}\r\n\t\t\tvar len = postData.length\r\n\t\t\tvar ai = 0\r\n\t\t\tself.percentage = 0\r\n\t\t\tvar postDataI = 0;\r\n\t\t\tvar nbprogress = 0;\r\n\t\t\tvar postDataName = postData[postDataI].name;\r\n\t\t\tvar folderName='DealViewer\\\\DealStructurePicture\\\\'+self.TrustID;\r\n\t\t\tconst progress = function (progressEvt) {\r\n\t\t\tself.progressSw = true\r\n\t\t\tnbprogress = progressEvt.loaded / progressEvt.total;\r\n\t\t\tself.percentage = parseInt((postDataI + nbprogress)/(postData.length) * 100)\r\n\t\t\t};\r\n\t\t\tvar callback1 = function (fpath) {\r\n\t\t\t\tlet filePath = fpath.UploadResult;\r\n\t\t\t\tfilePath = filePath.substr(0,filePath.lastIndexOf('\\\\')+1)\r\n\t\t\t\tconsole.log(filePath)\r\n\t\t\t\tlet fileType=postDataName.substr(postDataName.lastIndexOf(\".\")+1);\r\n\t\t\t\tvar svc = self.$http('PortfolioManagement', 'DV.usp_DealStructurePictureShow_Add');\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"TrustId\",\r\n\t\t\t\t\tValue: self.TrustID,\r\n\t\t\t\t\tDBType: \"int\"\r\n\t\t\t\t});\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"FilePath\",\r\n\t\t\t\t\tValue: filePath,\r\n\t\t\t\t\tDBType: \"string\"\r\n\t\t\t\t});\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"FileName\",\r\n\t\t\t\t\tValue: postDataName,\r\n\t\t\t\t\tDBType: \"string\"\r\n\t\t\t\t});\r\n\t\t\t\t// svc.AddParam({\r\n\t\t\t\t// \tName: \"UserName\",\r\n\t\t\t\t// \tValue: self.userName,\r\n\t\t\t\t// \tDBType: \"string\"\r\n\t\t\t\t// });\r\n\t\t\t\tsvc.ExecResult().then(res => {\r\n\t\t\t\t\t\tself.progressSw = true\r\n\t\t\t\t\t\tself.removePreview()\r\n\t\t\t\t\t\t// self.percentage = parseInt(((postDataI+1)/(postData.length)) * 100)\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tself.progressSw = false\r\n\t\t\t\t\t\t},500)\r\n\t\t\t\t\tself.loadDealStructure();\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// var svc = self.$http('PortfolioManagement', 'DV.[usp_DealStructurePictureShow_Remove]');\r\n\t\t\t// svc.AddParam({\r\n\t\t\t// \tName: \"TrustID\",\r\n\t\t\t// \tValue: self.TrustID,\r\n\t\t\t// \tDBType: \"int\"\r\n\t\t\t// });\r\n\t\t\t// svc.AddParam({\r\n\t\t\t// \tName: \"UserName\",\r\n\t\t\t// \tValue: self.userName,\r\n\t\t\t// \tDBType: \"string\"\r\n\t\t\t// });\r\n\t\t\t// svc.ExecResult().then(res => {\r\n\t\t\t// \tif(isNaN(res)){\r\n\t\t\t// \t\tself.$message.error('文件上传发生内部服务错误');\r\n\t\t\t// \t}else{\r\n\t\t\t// \t\t//删除物理文件\r\n\t\t\t// \t\tif (self.structurePicture) {\r\n\t\t\t// \t\t\tfsvc.Remove(self.structurePicture,0);\r\n\t\t\t// \t\t}\r\n\r\n\t\t\t// \t\tfsvc.UploadOther(postData[postDataI], postDataName, folderName)(progress, callback1)\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t\tfsvc.UploadOther(postData[postDataI], postDataName, folderName)(progress, callback1)\r\n\t\t},\r\n\t\tloadDealStructure(){\r\n\t\t\tvar self = this;\r\n\t\t\tvar svc = this.$http('PortfolioManagement', 'DV.[usp_DealStructurePictureShow_Get]');\r\n\t\t\tsvc.AddParam({ Name: 'TrustID', Value: self.TrustID, DBType: 'int' });\r\n\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\tif(res.length>0){\r\n\t\t\t\t  let fileSource = res[0].FileFullPath;\r\n\t\t\t\t  if(fileSource) {\r\n            fileSource = fileSource.replace(/\\\\/g,\"/\");\r\n            self.structurePicture = BasePath +'FileBaseFolder/'+fileSource;\r\n            self.imgId = res[0].Id\r\n          }else{\r\n          \tself.imgId = '';\r\n          \tself.structurePicture='';\r\n          }\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n        self.structurePicture='';\r\n        self.imgId = '';\r\n\t\t\t})\r\n\t\t},\r\n\t\tdeleteFile() {\r\n\t    var self = this;\r\n\t    let xml = `\r\n\t    \t<temp><Id>${this.imgId}</Id></temp>\r\n\t    `\r\n\t    this.$confirm('图片将被删除,是否继续？','提示', {\r\n\t        confirmButtonText: '确定',\r\n\t        cancelButttonText:'取消',\r\n\t        type:'warning'\r\n\t    }).then(() => {\r\n\t        var svc = self.$http('PortfolioManagement', 'DV.[usp_DealStructurePictureShow_Remove]');\r\n\t\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\t\tName: \"TrustID\",\r\n\t\t\t\t\t\tValue: self.TrustID,\r\n\t\t\t\t\t\tDBType: \"int\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\t\tName: \"temp\",\r\n\t\t\t\t\t\tValue: xml,\r\n\t\t\t\t\t\tDBType: \"xml\"\r\n\t\t\t\t\t});\r\n\t        svc.ExecResult().then(res => {\r\n\t            if(isNaN(res)){\r\n\t                self.$message.error('文件删除请求发生错误');\r\n\t            }else{\r\n\t                self.$message.success('文件删除成功');\r\n\t                //删除物理文件\r\n\t                if (self.structurePicture) {\r\n\t                \tfsvc.Remove(self.structurePicture,0);\r\n\t                }\r\n\t                self.loadDealStructure();\r\n\t            }\r\n\t        })\r\n\t    }).catch(() => {})\r\n\r\n\t},\r\n    editContent(content) {\r\n    \tlet self = this;\r\n    \tthis.editS = false;\r\n    \tthis.projectContent = content;\r\n    \tvar svc = self.$http('PortfolioManagement', 'DV.usp_SaveProjectHighLights');\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"TrustId\",\r\n\t\t\t\tValue: self.TrustID,\r\n\t\t\t\tDBType: \"int\"\r\n\t\t\t});\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"HighLights\",\r\n\t\t\t\tValue: self.projectContent,\r\n\t\t\t\tDBType: \"string\"\r\n\t\t\t});\r\n\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.getEdit()\r\n\t\t\t})\r\n    },\r\n    getEdit() {\r\n    \tlet self = this;\r\n    \tvar svc = self.$http('PortfolioManagement', 'DV.usp_getProjectHighLights');\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"TrustId\",\r\n\t\t\t\tValue: self.TrustID,\r\n\t\t\t\tDBType: \"int\"\r\n\t\t\t});\r\n\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif (res.length) {\r\n\t\t\t\t\tthis.projectContent = res[0].HighLights\r\n\t\t\t\t}\r\n\t\t\t})\r\n    },\r\n    editRemove() {\r\n    \tlet self = this;\r\n    \tthis.$confirm('项目亮点将被删除,是否继续？','提示', {\r\n\t        confirmButtonText: '确定',\r\n\t        cancelButttonText:'取消',\r\n\t        type:'warning'\r\n\t    }).then(() => {\r\n\t    \tvar svc = self.$http('PortfolioManagement', 'DV.usp_DeleteProjectHighLights');\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"TrustId\",\r\n\t\t\t\t\tValue: self.TrustID,\r\n\t\t\t\t\tDBType: \"int\"\r\n\t\t\t\t});\r\n\t\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\t\tself.$message.success('删除成功！');\r\n\t\t\t\t\tself.projectContent = ''\r\n\t\t\t\t})\r\n\t    }).catch(() => {})\r\n\r\n    },\r\n    closeEdit() {\r\n    \tthis.editS = false;\r\n    }\r\n  }\r\n\r\n}\r\n",{"version":3,"sources":["ProductRoadShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"ProductRoadShow.vue","sourceRoot":"src/views/product","sourcesContent":["<template>\r\n\t<div class=\"productRoadShow detailPage\">\r\n\t\t<ItemBox title=\"项目简介\">\r\n\t\t\t<div class=\"box\">\r\n\t\t\t\t<div class=\"title\">项目要素概览<a href=\"javascript:;\" class=\"fr\" @click=\"t1 = !t1\">展开/收起</a></div>\r\n\t\t\t\t<div class=\"content\" v-show=\"t1\">\r\n\t\t\t\t\t<!-- <iframeLoading :iframeUrl=\"iframeUrl\"></iframeLoading> -->\n          <SecuritiesInformation></SecuritiesInformation>\n          <Dates></Dates>\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"box\">\r\n        <div class=\"title\">交易参与方<a href=\"javascript:;\" class=\"fr\" @click=\"t2 = !t2\">展开/收起</a></div>\r\n\t\t\t\t<div class=\"content\"  v-show=\"t2\" style=\"padding:0 15px 15px 15px;\">\r\n\t\t\t\t\t<div class=\"pictureDiv\" >\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" @click=\"uploadSave\" type=\"primary\" :disabled=\"!previewImg \" v-show=\"!structurePicture\">上传图片</el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" @click=\"deleteFile\" v-show=\"structurePicture\"><i class=\"el-icon-delete\" style=\"margin-right:5px;\"></i>删除图片</el-button>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<img :src=\"structurePicture\" style=\"width:80%;max-width:800px;\"v-show=\"structurePicture\"/>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"upload\"  v-show=\"!structurePicture\">\r\n\t\t\t\t\t\t<div class=\"imgDiv\"v-show=\"previewImg\">\r\n\t\t\t\t\t\t\t<el-image :src=\"previewImg\" v-show=\"previewImg\"></el-image>\r\n\t\t\t\t\t\t\t<div class=\"shade\">\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-zoom-in\" title=\"放大\" @click=\"zoomInS = true\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-delete\" title=\"删除\" @click=\"removePreview\"></i>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"shade progress\"v-if=\"progressSw\">\r\n\t\t\t\t\t\t\t\t<el-progress type=\"circle\" :percentage=\"percentage\" ></el-progress>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"zoomIn\" v-show=\"zoomInS\">\r\n\t\t\t\t\t\t\t<img :src=\"previewImg\" @click=\"zoomInS = false\" title=\"点击缩小图片\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p v-show=\"!previewImg\" style=\"text-align:center;\">\r\n\t\t\t\t\t\t\t<i class=\"el-icon-plus\" @click=\"uploadClick\" title=\"点击选择上传图片\"></i>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<input type=\"file\" id=\"fileDiv\" accept=\".jpeg,.jpg,.png\" @change=\"fileChange\"/>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"box\">\r\n        <div class=\"title\">基础资产分析-模拟池统计信息<a href=\"javascript:;\" class=\"fr\" @click=\"t3 = !t3\">展开/收起</a></div>\r\n\t\t\t\t<div class=\"content baseContent\"  v-show=\"t3\">\r\n\t\t\t\t\t<div class=\"base\">\r\n\t\t\t\t  \t<template v-if=\"basicInfo1 && basicInfo1.length\">\r\n\t\t\t\t\t  \t<span class=\"titles\">{{basicInfo1[0].TitleName}}</span>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li v-for=\"item in basicInfo1\"><span class=\"left\">{{item.ItemName}}</span><span class=\"right\">{{item.ItemValue}}{{item.ItemCode == \"WeightedAverageCurrentInterest\"?'%':''}}</span></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t  \t</template>\r\n\t\t\t\t  \t<template v-if=\"basicInfo2 && basicInfo2.length\">\r\n\t\t\t\t\t  \t<span class=\"titles\">{{basicInfo2[0].TitleName}}</span>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li v-for=\"item in basicInfo2\"><span class=\"left\">{{item.Bucket}}借款笔数占比</span><span class=\"right\">{{item.CountPercentage}}%</span></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-if=\"basicInfo3 && basicInfo3.length\">\r\n\t\t\t\t\t\t\t<span class=\"titles\">{{basicInfo3[0].TitleName}}</span>\r\n\t\t\t\t\t  \t<ul>\r\n\t\t\t\t\t\t\t\t<li v-for=\"item in basicInfo3\"><span class=\"left\">{{item.Bucket}}人群占比</span><span class=\"right\">{{item.CountPercentage}}%</span></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"table\" v-if=\"tableData && tableData.length\">\r\n\t\t\t\t\t\t<span class=\"titles\">{{tableData[0].TitleName}}</span>\r\n\t\t\t\t\t\t<el-table :data=\"tableData\" style=\"width:100%;\" max-height=\"310\">\r\n\t\t\t\t      <el-table-column\r\n\t\t\t\t        prop=\"Bucket\"\r\n\t\t\t\t        label=\"地区\"\r\n\t\t\t\t        >\r\n\t\t\t\t      </el-table-column>\r\n\t\t\t\t      <el-table-column\r\n\t\t\t\t        prop=\"Amount\"\r\n\t\t\t\t        label=\"贷款本金余额（元）\"\r\n\t\t\t\t        >\r\n\t\t\t\t      </el-table-column>\r\n\t\t\t\t      <el-table-column\r\n\t\t\t\t        prop=\"AmountPercentage\"\r\n\t\t\t\t        label=\"本金余额占比\">\r\n\t\t\t\t        <template slot-scope=\"{row}\">\r\n\t\t\t\t        \t{{row.AmountPercentage}}%\r\n\t\t\t\t        </template>\r\n\t\t\t\t      </el-table-column>\r\n\t\t\t\t      <el-table-column\r\n\t\t\t\t        prop=\"Count\"\r\n\t\t\t\t        label=\"借款人数\">\r\n\t\t\t\t      </el-table-column>\r\n\t\t\t\t      <el-table-column\r\n\t\t\t\t        prop=\"CountPercentage\"\r\n\t\t\t\t        label=\"借款占比\">\r\n\t\t\t\t        <template slot-scope=\"{row}\">\r\n\t\t\t\t        \t{{row.CountPercentage}}%\r\n\t\t\t\t        </template>\r\n\t\t\t\t      </el-table-column>\r\n\t\t\t\t    </el-table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n<!-- \t\t\t<div class=\"box\">\r\n        <div class=\"title\">现金流分配顺序<a href=\"javascript:;\" class=\"fr\" @click=\"t4 = !t4\">展开/收起</a></div>\r\n\t\t\t\t<div class=\"content\"  v-show=\"t4\">\r\n\t\t\t\t\t<iframeLoading :iframeUrl=\"paymentIframeUrl\" :loadingNo=\"true\"></iframeLoading>\r\n\t\t\t\t</div>\r\n\t\t\t</div> -->\r\n\t\t</ItemBox>\r\n\t\t<ItemBox title=\"项目亮点\">\r\n\t\t\t<template slot=\"right\">\r\n\t\t\t\t<el-button @click=\"editS = true\" size=\"mini\":disabled=\"editS\"><i :class=\"projectContent?'iconfont icon-bianji':'el-icon-plus'\" style=\"margin-right:5px;font-size:14px;\" ></i>{{projectContent?'编辑':'添加'}}</el-button>\r\n\t\t\t\t<el-button size=\"mini\":disabled=\"!projectContent\" @click=\"editRemove\"><i class=\"el-icon-delete\" style=\"margin-right:5px;font-size:14px;\" ></i>删除</el-button>\r\n\t\t\t</template>\r\n\t\t\t<div class=\"box editMain\">\r\n\t\t\t\t<QuillEditor v-if=\"editS\" @editContent='editContent' :projectContent=\"projectContent\" @closeEdit=\"closeEdit\"></QuillEditor>\r\n\t\t\t\t<p class=\"noData\" v-show=\"!editS && !projectContent\">暂无内容，请添加~</p>\r\n\t\t\t\t<div v-html=\"projectContent\" v-if=\"!editS\" class=\"ql-editor\"\r\n        :class=\"{readMore: readMore}\"></div>\r\n        <div v-if=\"projectContent\" class=\"readMore-text\" :class=\"{readMorePos: readMore}\" @click=\"readMore = !readMore\">{{readMore?'点击查看全部':'点击收起'}}</div>\r\n\t\t\t</div>\r\n\t\t</ItemBox>\r\n\t\t<ItemBox title=\"敏感性分析\">\r\n\t\t\t<div class=\"box\">\r\n         <div class=\"title\">一键击穿违约率测算结果<a href=\"javascript:;\" class=\"fr\" @click=\"t5 = !t5\">展开/收起</a></div>\r\n\t\t\t\t<div class=\"content\"  v-show=\"t5\">\r\n\t\t\t\t\t<iframeLoading :iframeUrl=\"iframeUrlSAD\"></iframeLoading>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ItemBox>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst CUSTOMER = process.env.VUE_APP_CUSTOMER;\r\nconsole.log(CUSTOMER)\r\nimport {\r\n\tmapState,mapMutations\r\n} from 'vuex';\r\nimport utilsIndex from '@/utils/index.js';\r\nimport fsvc from '@/api/FileService';\r\nimport ItemBox from '@/components/layout/ItemBox.vue';\r\nimport iframeLoading from '@/components/common/iframeLoading';\r\nimport QuillEditor from '@/components/product/QuillEditor.vue';\nimport Dates from './Dates.vue';\nimport SecuritiesInformation from './SecuritiesInformation';\nimport { BasePath } from '@/utils/config.js';\r\nexport default {\r\n\tname: \"ProductRoadShow\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tfileData:'',\r\n\t\t\tfileName:'',\r\n\t\t\tpreviewImg:'',\r\n\t\t\tzoomInS:false,\r\n\t\t\tpercentage:0,\r\n\t\t\tprogressSw:false,\r\n\t\t\ttableData: [],\r\n      editS:false,\r\n      projectContent:'',\r\n      structurePicture:'',\r\n      basicInfo1:[],\r\n      basicInfo2:[],\r\n      basicInfo3:[],\r\n      imgId:'',\r\n      t1: true,\r\n      t2: true,\r\n      t3: true,\r\n      t4: true,\r\n      t5: true,\r\n      readMore: true\r\n\t\t}\r\n\t},\r\n  computed:{\r\n  \t...mapState('user',['userName']),\r\n    TrustID() {\r\n      return this.$store.state.productInfo.trustId;\r\n    },\r\n    iframeUrl() {\r\n      return BasePath +'QuickDeal/simple.html#/StructureDesign/'+this.TrustID+'/viewDateSet?menu=viewDateSet,Layered&editable=false'\r\n    },\r\n    iframeUrlSAD() {\r\n      return BasePath +`QuickDeal/simple.html#/SensitivityAnalysisDefaultRate/${this.TrustID}`\r\n    },\r\n    paymentIframeUrl(){\r\n    \treturn BasePath +'QuickDeal/simple.html#/StructureDesign/'+this.TrustID+'/PaymentSequenceSetting?menu=PaymentSequenceSetting&editable=false'\r\n    }\r\n  },\r\n  components:{\r\n\t\tItemBox,iframeLoading,QuillEditor,\n    Dates,\n    SecuritiesInformation\r\n\t},\r\n\tcreated() {\r\n\t\tthis.loadDealStructure();\r\n\t\tthis.getData();\r\n\t\tthis.getEdit()\r\n\t},\r\n  methods:{\r\n  \tgetData() {\r\n  \t\tlet self = this;\r\n  \t\tvar svc = self.$http('PortfolioManagement', 'DV.usp_getPoolDistriBution_simulation');\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"TrustId\",\r\n\t\t\t\tValue: self.TrustID,\r\n\t\t\t\tDBType: \"int\"\r\n\t\t\t});\r\n\t\t\tsvc.ExecTables().then(res => {\r\n\t\t\t\tthis.basicInfo1 = res[0].map((item) => {\r\n\t\t\t\t\titem.ItemValue =  utilsIndex.numUnit(item.ItemValue)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\t\t\t\tthis.basicInfo2 = res[1].map((item) => {\r\n\t\t\t\t\titem.CountPercentage =  utilsIndex.numUnit(item.CountPercentage)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\t\t\t\tthis.basicInfo3 = res[2].map((item) => {\r\n\t\t\t\t\titem.CountPercentage =  utilsIndex.numUnit(item.CountPercentage)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\t\t\t\tthis.tableData = res[3].map((item) => {\r\n\t\t\t\t\titem.Amount =  utilsIndex.numUnit(item.Amount)\r\n\t\t\t\t\titem.AmountPercentage =  utilsIndex.numUnit(item.AmountPercentage)\r\n\t\t\t\t\titem.CountPercentage =  utilsIndex.numUnit(item.CountPercentage)\r\n\t\t\t\t\treturn item\r\n\t\t\t\t})\r\n\r\n\t\t\t})\r\n  \t},\r\n    uploadClick() {\r\n    \tdocument.getElementById('fileDiv').click()\r\n    },\r\n    removePreview() {\r\n    \tdocument.getElementById(\"fileDiv\").value = '';\r\n    \tthis.fileData = ''\r\n\t\t\tthis.fileName = ''\r\n\t\t\tthis.previewImg = ''\r\n    },\r\n    fileChange(event) {\r\n    \tlet file = event.target.files;\r\n    \tconsole.log(file)\r\n\t\t\tlet fileType = file[0].name.substr(file[0].name.lastIndexOf(\".\"));\r\n\t\t\tif(fileType!='.jpg' && fileType!='.jpeg'&& fileType!='.png'){\r\n\t\t\t\tthis.$message.warning(\"请选择jpg,jpeg,png格式的图片！\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.fileData = document.getElementById(\"fileDiv\").files[0];\r\n\t\t\tthis.fileName = file[0].name;\r\n\t\t\tthis.previewImg = this.getObjectURL(this.fileData);\r\n    },\r\n    getObjectURL(file) {\r\n\t\t\tvar url = null ;\r\n\t\t\tif (window.createObjectURL!=undefined) { // basic\r\n\t\t\t\turl = window.createObjectURL(file) ;\r\n\t\t\t} else if (window.URL!=undefined) { // mozilla(firefox)\r\n\t\t\t\turl = window.URL.createObjectURL(file) ;\r\n\t\t\t} else if (window.webkitURL!=undefined) { // webkit or chrome\r\n\t\t\t\turl = window.webkitURL.createObjectURL(file) ;\r\n\t\t\t}\r\n\t\t\treturn url ;\r\n\t\t},\r\n    uploadSave(){\r\n\t\t\tvar self = this;\r\n\t\t\tvar postData = document.getElementById(\"fileDiv\").files;\r\n\t\t\tif (postData.length<1) {\r\n\t\t\t    self.$message.error('请选择上传的图片');\r\n\t\t\t    return;\r\n\t\t\t}\r\n\t\t\tvar len = postData.length\r\n\t\t\tvar ai = 0\r\n\t\t\tself.percentage = 0\r\n\t\t\tvar postDataI = 0;\r\n\t\t\tvar nbprogress = 0;\r\n\t\t\tvar postDataName = postData[postDataI].name;\r\n\t\t\tvar folderName='DealViewer\\\\DealStructurePicture\\\\'+self.TrustID;\r\n\t\t\tconst progress = function (progressEvt) {\r\n\t\t\tself.progressSw = true\r\n\t\t\tnbprogress = progressEvt.loaded / progressEvt.total;\r\n\t\t\tself.percentage = parseInt((postDataI + nbprogress)/(postData.length) * 100)\r\n\t\t\t};\r\n\t\t\tvar callback1 = function (fpath) {\r\n\t\t\t\tlet filePath = fpath.UploadResult;\r\n\t\t\t\tfilePath = filePath.substr(0,filePath.lastIndexOf('\\\\')+1)\r\n\t\t\t\tconsole.log(filePath)\r\n\t\t\t\tlet fileType=postDataName.substr(postDataName.lastIndexOf(\".\")+1);\r\n\t\t\t\tvar svc = self.$http('PortfolioManagement', 'DV.usp_DealStructurePictureShow_Add');\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"TrustId\",\r\n\t\t\t\t\tValue: self.TrustID,\r\n\t\t\t\t\tDBType: \"int\"\r\n\t\t\t\t});\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"FilePath\",\r\n\t\t\t\t\tValue: filePath,\r\n\t\t\t\t\tDBType: \"string\"\r\n\t\t\t\t});\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"FileName\",\r\n\t\t\t\t\tValue: postDataName,\r\n\t\t\t\t\tDBType: \"string\"\r\n\t\t\t\t});\r\n\t\t\t\t// svc.AddParam({\r\n\t\t\t\t// \tName: \"UserName\",\r\n\t\t\t\t// \tValue: self.userName,\r\n\t\t\t\t// \tDBType: \"string\"\r\n\t\t\t\t// });\r\n\t\t\t\tsvc.ExecResult().then(res => {\r\n\t\t\t\t\t\tself.progressSw = true\r\n\t\t\t\t\t\tself.removePreview()\r\n\t\t\t\t\t\t// self.percentage = parseInt(((postDataI+1)/(postData.length)) * 100)\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tself.progressSw = false\r\n\t\t\t\t\t\t},500)\r\n\t\t\t\t\tself.loadDealStructure();\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// var svc = self.$http('PortfolioManagement', 'DV.[usp_DealStructurePictureShow_Remove]');\r\n\t\t\t// svc.AddParam({\r\n\t\t\t// \tName: \"TrustID\",\r\n\t\t\t// \tValue: self.TrustID,\r\n\t\t\t// \tDBType: \"int\"\r\n\t\t\t// });\r\n\t\t\t// svc.AddParam({\r\n\t\t\t// \tName: \"UserName\",\r\n\t\t\t// \tValue: self.userName,\r\n\t\t\t// \tDBType: \"string\"\r\n\t\t\t// });\r\n\t\t\t// svc.ExecResult().then(res => {\r\n\t\t\t// \tif(isNaN(res)){\r\n\t\t\t// \t\tself.$message.error('文件上传发生内部服务错误');\r\n\t\t\t// \t}else{\r\n\t\t\t// \t\t//删除物理文件\r\n\t\t\t// \t\tif (self.structurePicture) {\r\n\t\t\t// \t\t\tfsvc.Remove(self.structurePicture,0);\r\n\t\t\t// \t\t}\r\n\r\n\t\t\t// \t\tfsvc.UploadOther(postData[postDataI], postDataName, folderName)(progress, callback1)\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t\tfsvc.UploadOther(postData[postDataI], postDataName, folderName)(progress, callback1)\r\n\t\t},\r\n\t\tloadDealStructure(){\r\n\t\t\tvar self = this;\r\n\t\t\tvar svc = this.$http('PortfolioManagement', 'DV.[usp_DealStructurePictureShow_Get]');\r\n\t\t\tsvc.AddParam({ Name: 'TrustID', Value: self.TrustID, DBType: 'int' });\r\n\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\tif(res.length>0){\r\n\t\t\t\t  let fileSource = res[0].FileFullPath;\r\n\t\t\t\t  if(fileSource) {\r\n            fileSource = fileSource.replace(/\\\\/g,\"/\");\r\n            self.structurePicture = BasePath +'FileBaseFolder/'+fileSource;\r\n            self.imgId = res[0].Id\r\n          }else{\r\n          \tself.imgId = '';\r\n          \tself.structurePicture='';\r\n          }\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n        self.structurePicture='';\r\n        self.imgId = '';\r\n\t\t\t})\r\n\t\t},\r\n\t\tdeleteFile() {\r\n\t    var self = this;\r\n\t    let xml = `\r\n\t    \t<temp><Id>${this.imgId}</Id></temp>\r\n\t    `\r\n\t    this.$confirm('图片将被删除,是否继续？','提示', {\r\n\t        confirmButtonText: '确定',\r\n\t        cancelButttonText:'取消',\r\n\t        type:'warning'\r\n\t    }).then(() => {\r\n\t        var svc = self.$http('PortfolioManagement', 'DV.[usp_DealStructurePictureShow_Remove]');\r\n\t\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\t\tName: \"TrustID\",\r\n\t\t\t\t\t\tValue: self.TrustID,\r\n\t\t\t\t\t\tDBType: \"int\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\t\tName: \"temp\",\r\n\t\t\t\t\t\tValue: xml,\r\n\t\t\t\t\t\tDBType: \"xml\"\r\n\t\t\t\t\t});\r\n\t        svc.ExecResult().then(res => {\r\n\t            if(isNaN(res)){\r\n\t                self.$message.error('文件删除请求发生错误');\r\n\t            }else{\r\n\t                self.$message.success('文件删除成功');\r\n\t                //删除物理文件\r\n\t                if (self.structurePicture) {\r\n\t                \tfsvc.Remove(self.structurePicture,0);\r\n\t                }\r\n\t                self.loadDealStructure();\r\n\t            }\r\n\t        })\r\n\t    }).catch(() => {})\r\n\r\n\t},\r\n    editContent(content) {\r\n    \tlet self = this;\r\n    \tthis.editS = false;\r\n    \tthis.projectContent = content;\r\n    \tvar svc = self.$http('PortfolioManagement', 'DV.usp_SaveProjectHighLights');\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"TrustId\",\r\n\t\t\t\tValue: self.TrustID,\r\n\t\t\t\tDBType: \"int\"\r\n\t\t\t});\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"HighLights\",\r\n\t\t\t\tValue: self.projectContent,\r\n\t\t\t\tDBType: \"string\"\r\n\t\t\t});\r\n\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.getEdit()\r\n\t\t\t})\r\n    },\r\n    getEdit() {\r\n    \tlet self = this;\r\n    \tvar svc = self.$http('PortfolioManagement', 'DV.usp_getProjectHighLights');\r\n\t\t\tsvc.AddParam({\r\n\t\t\t\tName: \"TrustId\",\r\n\t\t\t\tValue: self.TrustID,\r\n\t\t\t\tDBType: \"int\"\r\n\t\t\t});\r\n\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif (res.length) {\r\n\t\t\t\t\tthis.projectContent = res[0].HighLights\r\n\t\t\t\t}\r\n\t\t\t})\r\n    },\r\n    editRemove() {\r\n    \tlet self = this;\r\n    \tthis.$confirm('项目亮点将被删除,是否继续？','提示', {\r\n\t        confirmButtonText: '确定',\r\n\t        cancelButttonText:'取消',\r\n\t        type:'warning'\r\n\t    }).then(() => {\r\n\t    \tvar svc = self.$http('PortfolioManagement', 'DV.usp_DeleteProjectHighLights');\r\n\t\t\t\tsvc.AddParam({\r\n\t\t\t\t\tName: \"TrustId\",\r\n\t\t\t\t\tValue: self.TrustID,\r\n\t\t\t\t\tDBType: \"int\"\r\n\t\t\t\t});\r\n\t\t\t\tsvc.ExecTable().then(res =>{\r\n\t\t\t\t\tself.$message.success('删除成功！');\r\n\t\t\t\t\tself.projectContent = ''\r\n\t\t\t\t})\r\n\t    }).catch(() => {})\r\n\r\n    },\r\n    closeEdit() {\r\n    \tthis.editS = false;\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.productRoadShow{\r\n\t.noData{\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666;\r\n\t\ttext-align: center;\r\n\t}\r\n  .box.editMain{\r\n    position: relative;\r\n\r\n    .readMore{\r\n      height: 160px;\r\n      overflow: hidden;\r\n    }\r\n    .readMore-text{\r\n      text-align: center;\r\n      height: 35px;\r\n      line-height: 30px;\r\n      color: $--color-primary;\r\n      cursor: pointer;\r\n\r\n      &.readMorePos{\r\n        position: absolute;\r\n        background-color: rgba(255, 255, 255,.8);\r\n        bottom:0;\r\n        left: 0;\r\n        right: 0;\r\n      }\r\n    }\r\n  }\r\n\t.itemBox-content{\r\n\t\tpadding:0!important;\r\n\t\tbox-shadow: none!important;\r\n\t\t>.box{\r\n\t\tmargin-bottom: 20px;\r\n\t\tbox-shadow: #e9eeff 0 0 20px;\r\n\t\t.title{\r\n\t\t\tfont-size: 13px;\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 10px 13px;\r\n      margin: 16px;\r\n\t\t\t&:before{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tcontent: '';\r\n\t\t\t\twidth: 6px;\r\n\t\t\t\theight: 3px;\r\n\t\t\t\tmargin-top: -0.5px;\r\n\t\t\t\tbackground-color: $--color-primary;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.content{\r\n\t\t\tmargin-top: 10px;\r\n\t\t\t&.baseContent{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\t\t\t.iframe-page{\r\n\t\t\t\theight: 500px;\r\n\t\t\t}\r\n\t\t\t.pictureDiv{\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tp{\r\n\t\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t// padding-right: 15px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.upload{\r\n\t\t\t\tborder: 1px dashed #ddd;\r\n\t\t    border-radius: 5px;\r\n\t\t    padding: 5px;\r\n\t\t    text-align: center;\r\n\t\t    position: relative;\r\n\t\t    flex:1;\r\n\t\t    padding:30px 0;\r\n\t\t    .zoomIn{\r\n\t\t    \tposition: fixed;\r\n\t\t    \ttop: 0;left: 0;\r\n\t\t    \twidth: 100vw;\r\n\t\t    \theight: 100vh;\r\n\t\t    \tbackground-color: rgba(0,0,0,0.5);\r\n\t\t    \ttext-align: center;\r\n\t\t    \timg{\r\n\t\t    \t\tmax-height: 80%;\r\n\t\t    \t\tmax-width: 70%;\r\n\t\t    \t\tposition: absolute;\r\n\t\t\t\t    left: 50%;\r\n\t\t\t\t    top: 50%;\r\n\t\t\t\t    transform: translate(-50%,-50%);\r\n\t\t    \t}\r\n\t\t    }\r\n\t\t    i.el-icon-plus{\r\n\t\t    \tfont-size: 61px;\r\n    \t\t\tcolor: #ddd;\r\n    \t\t\tcursor: pointer;\r\n    \t\t\tmargin-bottom: 20px;\r\n\t\t    }\r\n\t\t    #fileDiv{\r\n\t\t    \tdisplay: none;\r\n\t\t    }\r\n\t\t    .imgDiv{\r\n\t\t    \twidth: 200px;\r\n\t\t    \theight: 150px;\r\n\t\t    \tposition: relative;\r\n\t\t    \tleft: 50%;\r\n\t\t    \tmargin-left: -100px;\r\n\t\t    \tmargin-bottom: 15px;\r\n\t\t    \t&:hover{\r\n\t\t    \t\t.shade{\r\n\t\t    \t\t\tdisplay: inline-block;\r\n\t\t    \t\t}\r\n\t\t    \t}\r\n\t\t    \t.el-image{\r\n\t\t    \t\twidth: 100%;\r\n\t\t    \t\theight: 100%;\r\n\t\t    \t}\r\n\t\t    \t.shade{\r\n\t\t    \t\tposition: absolute;\r\n\t\t    \t\ttop: 0;\r\n\t\t    \t\tleft: 0;\r\n\t\t    \t\twidth: 100%;\r\n\t\t    \t\theight: 100%;\r\n\t\t    \t\tbackground-color:rgba(0,0,0,0.5);\r\n\t\t    \t\tdisplay: none;\r\n\t\t    \t\t&.progress{\r\n\t\t    \t\t\tdisplay: inline-block;\r\n\t\t    \t\t}\r\n\t\t    \t\ti{\r\n\t\t    \t\t\tcolor: #fff;\r\n\t\t    \t\t\tmargin:0 10px;\r\n\t\t    \t\t\tfont-size: 20px;\r\n\t\t    \t\t\tline-height: 150px;\r\n\t\t    \t\t\tcursor: pointer;\r\n\t\t    \t\t}\r\n\t\t    \t}\r\n\t\t    \t.el-progress{\r\n\t\t\t\t    position: absolute;\r\n\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\t\ttransform: translate(-50%,-50%);\r\n\t\t\t\t    .el-progress__text{\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t}\r\n\t\t    \t}\r\n\t\t    }\r\n\r\n\t\t\t}\r\n\t\t\t.base{\r\n\t\t\t\tpadding: 0 15px 0 13px;\r\n\t\t\t\tflex:0 0 350px;\r\n\t\t\t\tbackground-color: #f0f7ff;\r\n\t\t\t\tspan.titles{\r\n\t\t\t\t\tline-height: 25px;\r\n\t\t\t    color: #8d99ed;\r\n\t\t\t    font-size: 13px;\r\n\t\t\t    border-bottom: 1px solid #707fe9;\r\n\t\t\t    display: inline-block;\r\n\t\t\t    margin: 5px 0;\r\n\t\t\t\t}\r\n\t\t\t\tul>li{\r\n\t\t\t\t\tline-height: 28px;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t.left{\r\n\t\t\t\t\t\tflex:1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.right{\r\n\t\t\t\t\t\tflex:0 0 100px;\r\n\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.table{\r\n\t\t\t\tflex:1;\r\n\t\t\t\twidth: 1px;\r\n\t\t\t\t>span{\r\n\t\t\t\t\tline-height: 25px;\r\n\t\t\t    color: #8d99ed;\r\n\t\t\t    font-size: 13px;\r\n\t\t\t    border-bottom: 1px solid #707fe9;\r\n\t\t\t    display: inline-block;\r\n\t\t\t    margin: 5px 0;\r\n\t\t\t    margin-left: 10px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\t}\r\n\r\n\t.editMain{\r\n\t\t// box-shadow: none!important;\r\n\t\th1,h2,h3{\r\n\t\t\ttext-indent: 2em;\r\n\t\t}\r\n\t\tp{\r\n\t\t\tline-height: 25px;\r\n\t\t\ttext-indent: 2em;\r\n\t\t}\r\n\t\timg{\r\n\t\t\tmax-width: 90%;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n"]}]}