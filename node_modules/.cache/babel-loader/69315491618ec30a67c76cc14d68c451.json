{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\LiquidatedData.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\LiquidatedData.vue","mtime":1604281047661},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport utils from '@/utils/index';\nimport ItemBox from '@/components/layout/ItemBox.vue';\nexport default {\n  data: function data() {\n    return {\n      tables: [],\n      tablesHead: [],\n      isEmpty: false\n    };\n  },\n  components: {\n    ItemBox: ItemBox\n  },\n  created: function created() {\n    this.getTableData();\n  },\n  computed: {\n    AssetType: function AssetType() {\n      return this.$store.state.productInfo.productDetail.AssetType;\n    },\n    TrustID: function TrustID() {\n      return this.$store.state.productInfo.trustId;\n    }\n  },\n  methods: {\n    formatCurrency: function formatCurrency(head, val) {\n      if (head.indexOf('元') > -1 && val !== 'ND') {\n        return utils.formatCurrency(val);\n      } else {\n        return val;\n      }\n    },\n    getTableData: function getTableData() {\n      var _this = this;\n\n      var proc = this.AssetType === 'NPL' ? 'DV.usp_NonTrusteeLiquidation_Get' : 'DV.usp_TrusteeLiquidation_Get';\n      var svc = this.$http('PortfolioManagement', proc);\n      svc.AddParam({\n        Name: 'TrustID',\n        Value: this.TrustID,\n        DBType: 'int'\n      });\n      svc.ExecTables().then(function (res) {\n        var heads = [];\n        res.forEach(function (v) {\n          var hasContent = v.length;\n\n          if (hasContent) {\n            var head = Object.keys(v[0]);\n            var title = head.shift();\n            heads.push({\n              title: v[0][title],\n              head: head\n            });\n          } else {\n            heads.push(null);\n          }\n\n          _this.tables = res;\n          _this.tablesHead = heads;\n          _this.isEmpty = res.every(function (v) {\n            return v.length === 0;\n          });\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["LiquidatedData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,KAAA,MAAA,eAAA;AACA,OAAA,OAAA,MAAA,iCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GARA;AASA,EAAA,OATA,qBASA;AACA,SAAA,YAAA;AACA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,aAAA,CAAA,SAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,OAAA;AACA;AANA,GAZA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,IADA,EACA,GADA,EACA;AACA,UAAA,IAAA,CAAA,OAAA,CAAA,GAAA,IAAA,CAAA,CAAA,IAAA,GAAA,KAAA,IAAA,EAAA;AACA,eAAA,KAAA,CAAA,cAAA,CAAA,GAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,GAAA;AACA;AACA,KAPA;AAQA,IAAA,YARA,0BAQA;AAAA;;AACA,UAAA,IAAA,GAAA,KAAA,SAAA,KAAA,KAAA,GAAA,kCAAA,GAAA,+BAAA;AACA,UAAA,GAAA,GAAA,KAAA,KAAA,CAAA,qBAAA,EAAA,IAAA,CAAA;AACA,MAAA,GAAA,CAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA,KAAA,OAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OAAA;AAKA,MAAA,GAAA,CAAA,UAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,UAAA,GAAA,CAAA,CAAA,MAAA;;AACA,cAAA,UAAA,EAAA;AACA,gBAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACA,gBAAA,KAAA,GAAA,IAAA,CAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;AAIA,WAPA,MAOA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AAEA,UAAA,KAAA,CAAA,MAAA,GAAA,GAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AAAA,mBAAA,CAAA,CAAA,MAAA,KAAA,CAAA;AAAA,WAAA,CAAA;AACA,SAhBA;AAiBA,OAnBA;AAoBA;AApCA;AApBA,CAAA","sourcesContent":["<template>\n  <div class=\"detailPage liquidated\">\n    <template v-for=\"(item, index) in tables\">\n      <ItemBox v-if=\"tablesHead[index]\" :title=\"tablesHead[index].title\">\n        <el-table :data=\"item\">\n          <el-table-column v-for=\"(col, colIndex) in tablesHead[index].head\"\n            :prop=\"col\"\n            :label=\"col\"\n            :formatter=\"(row) => formatCurrency(col, row[col])\"\n            :key=\"colIndex\" >\n          </el-table-column>\n        </el-table>\n      </ItemBox>\n    </template>\n    <template v-if=\"isEmpty\">\n      <div class=\"is-loading\">\n        <i class=\"el-icon-time\"></i>\n        <p>数据处理中</p>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\n  import utils from '@/utils/index';\n  import ItemBox from '@/components/layout/ItemBox.vue';\n  export default{\n    data() {\n      return {\n        tables: [],\n        tablesHead: [],\n        isEmpty: false\n      }\n    },\n    components: { ItemBox },\n    created() {\n      this.getTableData();\n    },\n    computed: {\n      AssetType() {\n        return this.$store.state.productInfo.productDetail.AssetType;\n      },\n      TrustID() {\n        return this.$store.state.productInfo.trustId;\n      }\n    },\n    methods: {\n      formatCurrency(head, val) {\n        if(head.indexOf('元') > -1 && val !== 'ND') {\n          return utils.formatCurrency(val);\n        }else{\n          return val;\n        }\n      },\n      getTableData() {\n        let proc = this.AssetType === 'NPL' ? 'DV.usp_NonTrusteeLiquidation_Get' : 'DV.usp_TrusteeLiquidation_Get';\n        let svc = this.$http('PortfolioManagement', proc);\n        svc.AddParam({\n          Name: 'TrustID',\n          Value: this.TrustID,\n          DBType: 'int'\n        });\n        svc.ExecTables().then(res => {\n          let heads = [];\n          res.forEach(v => {\n            let hasContent = v.length;\n            if(hasContent) {\n              let head = Object.keys(v[0]);\n              let title = head.shift();\n              heads.push({\n                title: v[0][title],\n                head\n              })\n            }else{\n              heads.push(null)\n            }\n\n            this.tables = res;\n            this.tablesHead = heads;\n            this.isEmpty = res.every(v => v.length === 0);\n          })\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .liquidated{\n    .is-loading{\n      text-align: center;\n      color: #999;\n      height: 60px;\n      padding: 100px 0;\n\n      i{\n        font-size: 36px;\n        margin-bottom: 10px;\n        color: #bbb;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/product"}]}