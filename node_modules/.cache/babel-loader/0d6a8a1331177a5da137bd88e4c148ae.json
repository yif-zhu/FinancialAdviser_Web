{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\AssetPoolInflow.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\views\\product\\AssetPoolInflow.vue","mtime":1604281047458},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ItemBox from '@/components/layout/ItemBox.vue';\nexport default {\n  data: function data() {\n    return {\n      CurrentPeriodAr: [],\n      CurrentPeriodSel: 1\n    };\n  },\n  components: {\n    ItemBox: ItemBox\n  },\n  computed: {\n    TrustID: function TrustID() {\n      return this.$store.state.productInfo.trustId;\n    }\n  },\n  created: function created() {\n    this.initInflow();\n  },\n  methods: {\n    initInflow: function initInflow() {\n      var _this = this;\n\n      var self = this;\n      var svc = this.$http('PortfolioManagement', 'DV.usp_GetPoolCashInflowByTrustId');\n      svc.AddParam({\n        Name: 'TrustID',\n        Value: self.TrustID,\n        //4513,\n        DBType: 'int'\n      });\n      svc.ExecTable().then(function (res) {\n        var obj = {};\n\n        if (res.length > 0) {\n          for (var i = 0; i < res.length; i++) {\n            obj[res[i].PaymentPeriod] = res[i].PaymentPeriod;\n          }\n\n          for (var a in obj) {\n            var data = [];\n\n            for (var i = 0; i < res.length; i++) {\n              if (Number(res[i].PaymentPeriod) == Number(a)) {\n                data.push(res[i]);\n              }\n            }\n\n            var last = data[data.length - 1];\n            var heji = null;\n\n            for (var i = 0; i < data.length; i++) {\n              if (data[i].Title_name == '合计') {\n                heji = data[i];\n                data[i] = last;\n              }\n            }\n\n            data[data.length - 1] = heji;\n\n            _this.CurrentPeriodAr.push({\n              PaymentPeriod: a,\n              data: data\n            });\n          }\n\n          _this.CurrentPeriodSel = _this.CurrentPeriodAr[0].PaymentPeriod;\n        }\n      });\n    },\n    stateFormat: function stateFormat(row, column, cellValue) {\n      if (cellValue == null) {\n        return '';\n      } else {\n        var money = cellValue != 'ND' ? Number(cellValue).toFixed(2).toString().replace(/(\\d{1,3})(?=(\\d{3})+(?:$|\\.))/g, \"$&,\") : cellValue;\n        return money;\n      }\n    }\n  }\n};",{"version":3,"sources":["AssetPoolInflow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"assetPoolInflow\">\r\n\t\t<div class=\"detailPage\">\r\n\t\t\t<ItemBox title=\"资产池现金流流入情况\" class=\"baseItemBox\">\r\n\t\t\t\t<template slot=\"right\" v-if=\"CurrentPeriodAr.length>0\">\r\n\t        <el-select v-model=\"CurrentPeriodSel\" placeholder=\"请选择\" >\r\n\t          <el-option\r\n\t            v-for=\"item in CurrentPeriodAr\"\r\n\t            :key=\"item.PaymentPeriod\"\r\n\t            :label=\"item.PaymentPeriod+'期'\"\r\n\t            :value=\"item.PaymentPeriod\">\r\n\t          </el-option>\r\n\t        </el-select>\r\n\t      </template>\r\n\t      <el-table :data=\"CurrentPeriodAr[Number(CurrentPeriodSel) - 1].data\" size=\"mini\"  v-if=\"CurrentPeriodAr.length>0\">\r\n\t        <el-table-column prop=\"Title_name\" label=\"标的债权资产情况\" width=160>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Current_Amount\" label=\"本期回收金额\" :formatter=\"stateFormat\" min-width=160>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Cumulative_Amount\" label=\"累计回收金额\" :formatter=\"stateFormat\" min-width=160>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Estimated_Amount\" label=\"预计回收金额\" :formatter=\"stateFormat\" min-width=140>\r\n\t        </el-table-column>\r\n\t        <el-table-column prop=\"Recovery_rate\" label=\"回收率（%）\" min-width=160>\r\n\t        </el-table-column>\r\n\t      </el-table>\r\n\t\t\t</ItemBox>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport ItemBox from '@/components/layout/ItemBox.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tCurrentPeriodAr:[],\r\n\t\t\tCurrentPeriodSel:1\r\n\t\t}\r\n\t},\r\n\tcomponents:{\r\n    ItemBox\r\n  },\r\n\tcomputed:{\r\n\t\tTrustID() {\r\n      return this.$store.state.productInfo.trustId;\r\n    },\r\n\t},\r\n\tcreated() {\r\n\t\tthis.initInflow()\r\n\t},\r\n\tmethods:{\r\n\t\tinitInflow() {\r\n\t\t\tvar self = this;\r\n      var svc = this.$http('PortfolioManagement', 'DV.usp_GetPoolCashInflowByTrustId');\r\n      svc.AddParam({\r\n        Name: 'TrustID',\r\n        Value: self.TrustID, //4513,\r\n        DBType: 'int'\r\n      });\r\n      \r\n      svc.ExecTable().then(res => {\r\n      \tvar obj = {}\r\n      \tif (res.length>0) {\r\n      \t\tfor (var i = 0; i < res.length; i++) {\r\n      \t\t\tobj[res[i].PaymentPeriod] = res[i].PaymentPeriod\r\n      \t\t}\r\n\r\n      \t\tfor(var a in obj) {\r\n      \t\t\tvar data = []\r\n      \t\t\tfor (var i = 0; i < res.length; i++) {\r\n      \t\t\t\tif (Number(res[i].PaymentPeriod) == Number(a)) {\r\n      \t\t\t\t\tdata.push(res[i])\r\n      \t\t\t\t}\r\n      \t\t\t}\r\n      \t\t\tvar last = data[data.length-1]\r\n      \t\t\tvar heji  = null\r\n      \t\t\tfor (var i = 0; i < data.length; i++) {\r\n      \t\t\t\tif (data[i].Title_name == '合计') {\r\n      \t\t\t\t\theji = data[i]\r\n      \t\t\t\t\tdata[i] = last\r\n      \t\t\t\t}\r\n      \t\t\t}\r\n      \t\t\tdata[data.length-1] = heji\r\n      \t\t\tthis.CurrentPeriodAr.push({\r\n      \t\t\t\tPaymentPeriod:a,\r\n      \t\t\t\tdata:data\r\n      \t\t\t})\r\n      \t\t}\r\n      \t\tthis.CurrentPeriodSel = this.CurrentPeriodAr[0].PaymentPeriod\r\n      \t}\r\n      })\r\n\t\t},\r\n\t\tstateFormat(row, column, cellValue) {\r\n\t\t\tif(cellValue == null){\r\n\t\t\t\treturn ''\r\n\t\t\t}else{\r\n\t\t\t\tlet money = cellValue != 'ND'?Number(cellValue).toFixed(2).toString().replace(/(\\d{1,3})(?=(\\d{3})+(?:$|\\.))/g, \"$&,\"):cellValue\r\n        return money;\r\n\t\t\t}\r\n\t\t},\t\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>"],"sourceRoot":"src/views/product"}]}