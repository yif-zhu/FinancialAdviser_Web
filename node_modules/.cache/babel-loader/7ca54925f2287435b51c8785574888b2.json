{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\utils\\jsencrypt.js","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\utils\\jsencrypt.js","mtime":1604652411370},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar JSEncryptExports = {};\n\n(function (exports) {\n  // Copyright (c) 2005  Tom Wu\n  // All Rights Reserved.\n  // See \"LICENSE\" for details.\n  // Basic JavaScript BN library - subset useful for RSA encryption.\n  // Bits per digit\n  var dbits; // JavaScript engine analysis\n\n  var canary = 0xdeadbeefcafe;\n  var j_lm = (canary & 0xffffff) == 0xefcafe; // (public) Constructor\n\n  function BigInteger(a, b, c) {\n    if (a != null) if (\"number\" == typeof a) this.fromNumber(a, b, c);else if (b == null && \"string\" != typeof a) this.fromString(a, 256);else this.fromString(a, b);\n  } // return new, unset BigInteger\n\n\n  function nbi() {\n    return new BigInteger(null);\n  } // am: Compute w_j += (x*this_i), propagate carries,\n  // c is initial carry, returns final carry.\n  // c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n  // We need to select the fastest one that works in this environment.\n  // am1: use a single mult and divide to get the high bits,\n  // max digit bits should be 26 because\n  // max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n\n\n  function am1(i, x, w, j, c, n) {\n    while (--n >= 0) {\n      var v = x * this[i++] + w[j] + c;\n      c = Math.floor(v / 0x4000000);\n      w[j++] = v & 0x3ffffff;\n    }\n\n    return c;\n  } // am2 avoids a big mult-and-extract completely.\n  // Max digit bits should be <= 30 because we do bitwise ops\n  // on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n\n\n  function am2(i, x, w, j, c, n) {\n    var xl = x & 0x7fff,\n        xh = x >> 15;\n\n    while (--n >= 0) {\n      var l = this[i] & 0x7fff;\n      var h = this[i++] >> 15;\n      var m = xh * l + h * xl;\n      l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n      c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n      w[j++] = l & 0x3fffffff;\n    }\n\n    return c;\n  } // Alternately, set max digit bits to 28 since some\n  // browsers slow down when dealing with 32-bit numbers.\n\n\n  function am3(i, x, w, j, c, n) {\n    var xl = x & 0x3fff,\n        xh = x >> 14;\n\n    while (--n >= 0) {\n      var l = this[i] & 0x3fff;\n      var h = this[i++] >> 14;\n      var m = xh * l + h * xl;\n      l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n      c = (l >> 28) + (m >> 14) + xh * h;\n      w[j++] = l & 0xfffffff;\n    }\n\n    return c;\n  }\n\n  if (j_lm && navigator.appName == \"Microsoft Internet Explorer\") {\n    BigInteger.prototype.am = am2;\n    dbits = 30;\n  } else if (j_lm && navigator.appName != \"Netscape\") {\n    BigInteger.prototype.am = am1;\n    dbits = 26;\n  } else {\n    // Mozilla/Netscape seems to prefer am3\n    BigInteger.prototype.am = am3;\n    dbits = 28;\n  }\n\n  BigInteger.prototype.DB = dbits;\n  BigInteger.prototype.DM = (1 << dbits) - 1;\n  BigInteger.prototype.DV = 1 << dbits;\n  var BI_FP = 52;\n  BigInteger.prototype.FV = Math.pow(2, BI_FP);\n  BigInteger.prototype.F1 = BI_FP - dbits;\n  BigInteger.prototype.F2 = 2 * dbits - BI_FP; // Digit conversions\n\n  var BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n  var BI_RC = new Array();\n  var rr, vv;\n  rr = \"0\".charCodeAt(0);\n\n  for (vv = 0; vv <= 9; ++vv) {\n    BI_RC[rr++] = vv;\n  }\n\n  rr = \"a\".charCodeAt(0);\n\n  for (vv = 10; vv < 36; ++vv) {\n    BI_RC[rr++] = vv;\n  }\n\n  rr = \"A\".charCodeAt(0);\n\n  for (vv = 10; vv < 36; ++vv) {\n    BI_RC[rr++] = vv;\n  }\n\n  function int2char(n) {\n    return BI_RM.charAt(n);\n  }\n\n  function intAt(s, i) {\n    var c = BI_RC[s.charCodeAt(i)];\n    return c == null ? -1 : c;\n  } // (protected) copy this to r\n\n\n  function bnpCopyTo(r) {\n    for (var i = this.t - 1; i >= 0; --i) {\n      r[i] = this[i];\n    }\n\n    r.t = this.t;\n    r.s = this.s;\n  } // (protected) set from integer value x, -DV <= x < DV\n\n\n  function bnpFromInt(x) {\n    this.t = 1;\n    this.s = x < 0 ? -1 : 0;\n    if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n  } // return bigint initialized to value\n\n\n  function nbv(i) {\n    var r = nbi();\n    r.fromInt(i);\n    return r;\n  } // (protected) set from string and radix\n\n\n  function bnpFromString(s, b) {\n    var k;\n    if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 256) k = 8; // byte array\n    else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else {\n        this.fromRadix(s, b);\n        return;\n      }\n    this.t = 0;\n    this.s = 0;\n    var i = s.length,\n        mi = false,\n        sh = 0;\n\n    while (--i >= 0) {\n      var x = k == 8 ? s[i] & 0xff : intAt(s, i);\n\n      if (x < 0) {\n        if (s.charAt(i) == \"-\") mi = true;\n        continue;\n      }\n\n      mi = false;\n      if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n        this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n        this[this.t++] = x >> this.DB - sh;\n      } else this[this.t - 1] |= x << sh;\n      sh += k;\n      if (sh >= this.DB) sh -= this.DB;\n    }\n\n    if (k == 8 && (s[0] & 0x80) != 0) {\n      this.s = -1;\n      if (sh > 0) this[this.t - 1] |= (1 << this.DB - sh) - 1 << sh;\n    }\n\n    this.clamp();\n    if (mi) BigInteger.ZERO.subTo(this, this);\n  } // (protected) clamp off excess high words\n\n\n  function bnpClamp() {\n    var c = this.s & this.DM;\n\n    while (this.t > 0 && this[this.t - 1] == c) {\n      --this.t;\n    }\n  } // (public) return string representation in given radix\n\n\n  function bnToString(b) {\n    if (this.s < 0) return \"-\" + this.negate().toString(b);\n    var k;\n    if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else return this.toRadix(b);\n    var km = (1 << k) - 1,\n        d,\n        m = false,\n        r = \"\",\n        i = this.t;\n    var p = this.DB - i * this.DB % k;\n\n    if (i-- > 0) {\n      if (p < this.DB && (d = this[i] >> p) > 0) {\n        m = true;\n        r = int2char(d);\n      }\n\n      while (i >= 0) {\n        if (p < k) {\n          d = (this[i] & (1 << p) - 1) << k - p;\n          d |= this[--i] >> (p += this.DB - k);\n        } else {\n          d = this[i] >> (p -= k) & km;\n\n          if (p <= 0) {\n            p += this.DB;\n            --i;\n          }\n        }\n\n        if (d > 0) m = true;\n        if (m) r += int2char(d);\n      }\n    }\n\n    return m ? r : \"0\";\n  } // (public) -this\n\n\n  function bnNegate() {\n    var r = nbi();\n    BigInteger.ZERO.subTo(this, r);\n    return r;\n  } // (public) |this|\n\n\n  function bnAbs() {\n    return this.s < 0 ? this.negate() : this;\n  } // (public) return + if this > a, - if this < a, 0 if equal\n\n\n  function bnCompareTo(a) {\n    var r = this.s - a.s;\n    if (r != 0) return r;\n    var i = this.t;\n    r = i - a.t;\n    if (r != 0) return this.s < 0 ? -r : r;\n\n    while (--i >= 0) {\n      if ((r = this[i] - a[i]) != 0) return r;\n    }\n\n    return 0;\n  } // returns bit length of the integer x\n\n\n  function nbits(x) {\n    var r = 1,\n        t;\n\n    if ((t = x >>> 16) != 0) {\n      x = t;\n      r += 16;\n    }\n\n    if ((t = x >> 8) != 0) {\n      x = t;\n      r += 8;\n    }\n\n    if ((t = x >> 4) != 0) {\n      x = t;\n      r += 4;\n    }\n\n    if ((t = x >> 2) != 0) {\n      x = t;\n      r += 2;\n    }\n\n    if ((t = x >> 1) != 0) {\n      x = t;\n      r += 1;\n    }\n\n    return r;\n  } // (public) return the number of bits in \"this\"\n\n\n  function bnBitLength() {\n    if (this.t <= 0) return 0;\n    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n  } // (protected) r = this << n*DB\n\n\n  function bnpDLShiftTo(n, r) {\n    var i;\n\n    for (i = this.t - 1; i >= 0; --i) {\n      r[i + n] = this[i];\n    }\n\n    for (i = n - 1; i >= 0; --i) {\n      r[i] = 0;\n    }\n\n    r.t = this.t + n;\n    r.s = this.s;\n  } // (protected) r = this >> n*DB\n\n\n  function bnpDRShiftTo(n, r) {\n    for (var i = n; i < this.t; ++i) {\n      r[i - n] = this[i];\n    }\n\n    r.t = Math.max(this.t - n, 0);\n    r.s = this.s;\n  } // (protected) r = this << n\n\n\n  function bnpLShiftTo(n, r) {\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << cbs) - 1;\n    var ds = Math.floor(n / this.DB),\n        c = this.s << bs & this.DM,\n        i;\n\n    for (i = this.t - 1; i >= 0; --i) {\n      r[i + ds + 1] = this[i] >> cbs | c;\n      c = (this[i] & bm) << bs;\n    }\n\n    for (i = ds - 1; i >= 0; --i) {\n      r[i] = 0;\n    }\n\n    r[ds] = c;\n    r.t = this.t + ds + 1;\n    r.s = this.s;\n    r.clamp();\n  } // (protected) r = this >> n\n\n\n  function bnpRShiftTo(n, r) {\n    r.s = this.s;\n    var ds = Math.floor(n / this.DB);\n\n    if (ds >= this.t) {\n      r.t = 0;\n      return;\n    }\n\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << bs) - 1;\n    r[0] = this[ds] >> bs;\n\n    for (var i = ds + 1; i < this.t; ++i) {\n      r[i - ds - 1] |= (this[i] & bm) << cbs;\n      r[i - ds] = this[i] >> bs;\n    }\n\n    if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n    r.t = this.t - ds;\n    r.clamp();\n  } // (protected) r = this - a\n\n\n  function bnpSubTo(a, r) {\n    var i = 0,\n        c = 0,\n        m = Math.min(a.t, this.t);\n\n    while (i < m) {\n      c += this[i] - a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    if (a.t < this.t) {\n      c -= a.s;\n\n      while (i < this.t) {\n        c += this[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n      }\n\n      c += this.s;\n    } else {\n      c += this.s;\n\n      while (i < a.t) {\n        c -= a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n      }\n\n      c -= a.s;\n    }\n\n    r.s = c < 0 ? -1 : 0;\n    if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n    r.t = i;\n    r.clamp();\n  } // (protected) r = this * a, r != this,a (HAC 14.12)\n  // \"this\" should be the larger one if appropriate.\n\n\n  function bnpMultiplyTo(a, r) {\n    var x = this.abs(),\n        y = a.abs();\n    var i = x.t;\n    r.t = i + y.t;\n\n    while (--i >= 0) {\n      r[i] = 0;\n    }\n\n    for (i = 0; i < y.t; ++i) {\n      r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n    }\n\n    r.s = 0;\n    r.clamp();\n    if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n  } // (protected) r = this^2, r != this (HAC 14.16)\n\n\n  function bnpSquareTo(r) {\n    var x = this.abs();\n    var i = r.t = 2 * x.t;\n\n    while (--i >= 0) {\n      r[i] = 0;\n    }\n\n    for (i = 0; i < x.t - 1; ++i) {\n      var c = x.am(i, x[i], r, 2 * i, 0, 1);\n\n      if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n        r[i + x.t] -= x.DV;\n        r[i + x.t + 1] = 1;\n      }\n    }\n\n    if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n    r.s = 0;\n    r.clamp();\n  } // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n  // r != q, this != m.  q or r may be null.\n\n\n  function bnpDivRemTo(m, q, r) {\n    var pm = m.abs();\n    if (pm.t <= 0) return;\n    var pt = this.abs();\n\n    if (pt.t < pm.t) {\n      if (q != null) q.fromInt(0);\n      if (r != null) this.copyTo(r);\n      return;\n    }\n\n    if (r == null) r = nbi();\n    var y = nbi(),\n        ts = this.s,\n        ms = m.s;\n    var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\n\n    if (nsh > 0) {\n      pm.lShiftTo(nsh, y);\n      pt.lShiftTo(nsh, r);\n    } else {\n      pm.copyTo(y);\n      pt.copyTo(r);\n    }\n\n    var ys = y.t;\n    var y0 = y[ys - 1];\n    if (y0 == 0) return;\n    var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n    var d1 = this.FV / yt,\n        d2 = (1 << this.F1) / yt,\n        e = 1 << this.F2;\n    var i = r.t,\n        j = i - ys,\n        t = q == null ? nbi() : q;\n    y.dlShiftTo(j, t);\n\n    if (r.compareTo(t) >= 0) {\n      r[r.t++] = 1;\n      r.subTo(t, r);\n    }\n\n    BigInteger.ONE.dlShiftTo(ys, t);\n    t.subTo(y, y); // \"negative\" y so we can replace sub with am later\n\n    while (y.t < ys) {\n      y[y.t++] = 0;\n    }\n\n    while (--j >= 0) {\n      // Estimate quotient digit\n      var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n\n      if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n        // Try it out\n        y.dlShiftTo(j, t);\n        r.subTo(t, r);\n\n        while (r[i] < --qd) {\n          r.subTo(t, r);\n        }\n      }\n    }\n\n    if (q != null) {\n      r.drShiftTo(ys, q);\n      if (ts != ms) BigInteger.ZERO.subTo(q, q);\n    }\n\n    r.t = ys;\n    r.clamp();\n    if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\n\n    if (ts < 0) BigInteger.ZERO.subTo(r, r);\n  } // (public) this mod a\n\n\n  function bnMod(a) {\n    var r = nbi();\n    this.abs().divRemTo(a, null, r);\n    if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n    return r;\n  } // Modular reduction using \"classic\" algorithm\n\n\n  function Classic(m) {\n    this.m = m;\n  }\n\n  function cConvert(x) {\n    if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);else return x;\n  }\n\n  function cRevert(x) {\n    return x;\n  }\n\n  function cReduce(x) {\n    x.divRemTo(this.m, null, x);\n  }\n\n  function cMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n    this.reduce(r);\n  }\n\n  function cSqrTo(x, r) {\n    x.squareTo(r);\n    this.reduce(r);\n  }\n\n  Classic.prototype.convert = cConvert;\n  Classic.prototype.revert = cRevert;\n  Classic.prototype.reduce = cReduce;\n  Classic.prototype.mulTo = cMulTo;\n  Classic.prototype.sqrTo = cSqrTo; // (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n  // justification:\n  //         xy == 1 (mod m)\n  //         xy =  1+km\n  //   xy(2-xy) = (1+km)(1-km)\n  // x[y(2-xy)] = 1-k^2m^2\n  // x[y(2-xy)] == 1 (mod m^2)\n  // if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n  // should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n  // JS multiply \"overflows\" differently from C/C++, so care is needed here.\n\n  function bnpInvDigit() {\n    if (this.t < 1) return 0;\n    var x = this[0];\n    if ((x & 1) == 0) return 0;\n    var y = x & 3; // y == 1/x mod 2^2\n\n    y = y * (2 - (x & 0xf) * y) & 0xf; // y == 1/x mod 2^4\n\n    y = y * (2 - (x & 0xff) * y) & 0xff; // y == 1/x mod 2^8\n\n    y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff; // y == 1/x mod 2^16\n    // last step - calculate inverse mod DV directly;\n    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n\n    y = y * (2 - x * y % this.DV) % this.DV; // y == 1/x mod 2^dbits\n    // we really want the negative inverse, and -DV < y < DV\n\n    return y > 0 ? this.DV - y : -y;\n  } // Montgomery reduction\n\n\n  function Montgomery(m) {\n    this.m = m;\n    this.mp = m.invDigit();\n    this.mpl = this.mp & 0x7fff;\n    this.mph = this.mp >> 15;\n    this.um = (1 << m.DB - 15) - 1;\n    this.mt2 = 2 * m.t;\n  } // xR mod m\n\n\n  function montConvert(x) {\n    var r = nbi();\n    x.abs().dlShiftTo(this.m.t, r);\n    r.divRemTo(this.m, null, r);\n    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n    return r;\n  } // x/R mod m\n\n\n  function montRevert(x) {\n    var r = nbi();\n    x.copyTo(r);\n    this.reduce(r);\n    return r;\n  } // x = x/R mod m (HAC 14.32)\n\n\n  function montReduce(x) {\n    while (x.t <= this.mt2) {\n      // pad x so am has enough room later\n      x[x.t++] = 0;\n    }\n\n    for (var i = 0; i < this.m.t; ++i) {\n      // faster way of calculating u0 = x[i]*mp mod DV\n      var j = x[i] & 0x7fff;\n      var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM; // use am to combine the multiply-shift-add into one call\n\n      j = i + this.m.t;\n      x[j] += this.m.am(0, u0, x, i, 0, this.m.t); // propagate carry\n\n      while (x[j] >= x.DV) {\n        x[j] -= x.DV;\n        x[++j]++;\n      }\n    }\n\n    x.clamp();\n    x.drShiftTo(this.m.t, x);\n    if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n  } // r = \"x^2/R mod m\"; x != r\n\n\n  function montSqrTo(x, r) {\n    x.squareTo(r);\n    this.reduce(r);\n  } // r = \"xy/R mod m\"; x,y != r\n\n\n  function montMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n    this.reduce(r);\n  }\n\n  Montgomery.prototype.convert = montConvert;\n  Montgomery.prototype.revert = montRevert;\n  Montgomery.prototype.reduce = montReduce;\n  Montgomery.prototype.mulTo = montMulTo;\n  Montgomery.prototype.sqrTo = montSqrTo; // (protected) true iff this is even\n\n  function bnpIsEven() {\n    return (this.t > 0 ? this[0] & 1 : this.s) == 0;\n  } // (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\n\n\n  function bnpExp(e, z) {\n    if (e > 0xffffffff || e < 1) return BigInteger.ONE;\n    var r = nbi(),\n        r2 = nbi(),\n        g = z.convert(this),\n        i = nbits(e) - 1;\n    g.copyTo(r);\n\n    while (--i >= 0) {\n      z.sqrTo(r, r2);\n      if ((e & 1 << i) > 0) z.mulTo(r2, g, r);else {\n        var t = r;\n        r = r2;\n        r2 = t;\n      }\n    }\n\n    return z.revert(r);\n  } // (public) this^e % m, 0 <= e < 2^32\n\n\n  function bnModPowInt(e, m) {\n    var z;\n    if (e < 256 || m.isEven()) z = new Classic(m);else z = new Montgomery(m);\n    return this.exp(e, z);\n  } // protected\n\n\n  BigInteger.prototype.copyTo = bnpCopyTo;\n  BigInteger.prototype.fromInt = bnpFromInt;\n  BigInteger.prototype.fromString = bnpFromString;\n  BigInteger.prototype.clamp = bnpClamp;\n  BigInteger.prototype.dlShiftTo = bnpDLShiftTo;\n  BigInteger.prototype.drShiftTo = bnpDRShiftTo;\n  BigInteger.prototype.lShiftTo = bnpLShiftTo;\n  BigInteger.prototype.rShiftTo = bnpRShiftTo;\n  BigInteger.prototype.subTo = bnpSubTo;\n  BigInteger.prototype.multiplyTo = bnpMultiplyTo;\n  BigInteger.prototype.squareTo = bnpSquareTo;\n  BigInteger.prototype.divRemTo = bnpDivRemTo;\n  BigInteger.prototype.invDigit = bnpInvDigit;\n  BigInteger.prototype.isEven = bnpIsEven;\n  BigInteger.prototype.exp = bnpExp; // public\n\n  BigInteger.prototype.toString = bnToString;\n  BigInteger.prototype.negate = bnNegate;\n  BigInteger.prototype.abs = bnAbs;\n  BigInteger.prototype.compareTo = bnCompareTo;\n  BigInteger.prototype.bitLength = bnBitLength;\n  BigInteger.prototype.mod = bnMod;\n  BigInteger.prototype.modPowInt = bnModPowInt; // \"constants\"\n\n  BigInteger.ZERO = nbv(0);\n  BigInteger.ONE = nbv(1); // Copyright (c) 2005-2009  Tom Wu\n  // All Rights Reserved.\n  // See \"LICENSE\" for details.\n  // Extended JavaScript BN functions, required for RSA private ops.\n  // Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\n  // Version 1.2: square() API, isProbablePrime fix\n  // (public)\n\n  function bnClone() {\n    var r = nbi();\n    this.copyTo(r);\n    return r;\n  } // (public) return value as integer\n\n\n  function bnIntValue() {\n    if (this.s < 0) {\n      if (this.t == 1) return this[0] - this.DV;else if (this.t == 0) return -1;\n    } else if (this.t == 1) return this[0];else if (this.t == 0) return 0; // assumes 16 < DB < 32\n\n\n    return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];\n  } // (public) return value as byte\n\n\n  function bnByteValue() {\n    return this.t == 0 ? this.s : this[0] << 24 >> 24;\n  } // (public) return value as short (assumes DB>=16)\n\n\n  function bnShortValue() {\n    return this.t == 0 ? this.s : this[0] << 16 >> 16;\n  } // (protected) return x s.t. r^x < DV\n\n\n  function bnpChunkSize(r) {\n    return Math.floor(Math.LN2 * this.DB / Math.log(r));\n  } // (public) 0 if this == 0, 1 if this > 0\n\n\n  function bnSigNum() {\n    if (this.s < 0) return -1;else if (this.t <= 0 || this.t == 1 && this[0] <= 0) return 0;else return 1;\n  } // (protected) convert to radix string\n\n\n  function bnpToRadix(b) {\n    if (b == null) b = 10;\n    if (this.signum() == 0 || b < 2 || b > 36) return \"0\";\n    var cs = this.chunkSize(b);\n    var a = Math.pow(b, cs);\n    var d = nbv(a),\n        y = nbi(),\n        z = nbi(),\n        r = \"\";\n    this.divRemTo(d, y, z);\n\n    while (y.signum() > 0) {\n      r = (a + z.intValue()).toString(b).substr(1) + r;\n      y.divRemTo(d, y, z);\n    }\n\n    return z.intValue().toString(b) + r;\n  } // (protected) convert from radix string\n\n\n  function bnpFromRadix(s, b) {\n    this.fromInt(0);\n    if (b == null) b = 10;\n    var cs = this.chunkSize(b);\n    var d = Math.pow(b, cs),\n        mi = false,\n        j = 0,\n        w = 0;\n\n    for (var i = 0; i < s.length; ++i) {\n      var x = intAt(s, i);\n\n      if (x < 0) {\n        if (s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\n        continue;\n      }\n\n      w = b * w + x;\n\n      if (++j >= cs) {\n        this.dMultiply(d);\n        this.dAddOffset(w, 0);\n        j = 0;\n        w = 0;\n      }\n    }\n\n    if (j > 0) {\n      this.dMultiply(Math.pow(b, j));\n      this.dAddOffset(w, 0);\n    }\n\n    if (mi) BigInteger.ZERO.subTo(this, this);\n  } // (protected) alternate constructor\n\n\n  function bnpFromNumber(a, b, c) {\n    if (\"number\" == typeof b) {\n      // new BigInteger(int,int,RNG)\n      if (a < 2) this.fromInt(1);else {\n        this.fromNumber(a, c);\n        if (!this.testBit(a - 1)) // force MSB set\n          this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);\n        if (this.isEven()) this.dAddOffset(1, 0); // force odd\n\n        while (!this.isProbablePrime(b)) {\n          this.dAddOffset(2, 0);\n          if (this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);\n        }\n      }\n    } else {\n      // new BigInteger(int,RNG)\n      var x = new Array(),\n          t = a & 7;\n      x.length = (a >> 3) + 1;\n      b.nextBytes(x);\n      if (t > 0) x[0] &= (1 << t) - 1;else x[0] = 0;\n      this.fromString(x, 256);\n    }\n  } // (public) convert to bigendian byte array\n\n\n  function bnToByteArray() {\n    var i = this.t,\n        r = new Array();\n    r[0] = this.s;\n    var p = this.DB - i * this.DB % 8,\n        d,\n        k = 0;\n\n    if (i-- > 0) {\n      if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p) r[k++] = d | this.s << this.DB - p;\n\n      while (i >= 0) {\n        if (p < 8) {\n          d = (this[i] & (1 << p) - 1) << 8 - p;\n          d |= this[--i] >> (p += this.DB - 8);\n        } else {\n          d = this[i] >> (p -= 8) & 0xff;\n\n          if (p <= 0) {\n            p += this.DB;\n            --i;\n          }\n        }\n\n        if ((d & 0x80) != 0) d |= -256;\n        if (k == 0 && (this.s & 0x80) != (d & 0x80)) ++k;\n        if (k > 0 || d != this.s) r[k++] = d;\n      }\n    }\n\n    return r;\n  }\n\n  function bnEquals(a) {\n    return this.compareTo(a) == 0;\n  }\n\n  function bnMin(a) {\n    return this.compareTo(a) < 0 ? this : a;\n  }\n\n  function bnMax(a) {\n    return this.compareTo(a) > 0 ? this : a;\n  } // (protected) r = this op a (bitwise)\n\n\n  function bnpBitwiseTo(a, op, r) {\n    var i,\n        f,\n        m = Math.min(a.t, this.t);\n\n    for (i = 0; i < m; ++i) {\n      r[i] = op(this[i], a[i]);\n    }\n\n    if (a.t < this.t) {\n      f = a.s & this.DM;\n\n      for (i = m; i < this.t; ++i) {\n        r[i] = op(this[i], f);\n      }\n\n      r.t = this.t;\n    } else {\n      f = this.s & this.DM;\n\n      for (i = m; i < a.t; ++i) {\n        r[i] = op(f, a[i]);\n      }\n\n      r.t = a.t;\n    }\n\n    r.s = op(this.s, a.s);\n    r.clamp();\n  } // (public) this & a\n\n\n  function op_and(x, y) {\n    return x & y;\n  }\n\n  function bnAnd(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_and, r);\n    return r;\n  } // (public) this | a\n\n\n  function op_or(x, y) {\n    return x | y;\n  }\n\n  function bnOr(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_or, r);\n    return r;\n  } // (public) this ^ a\n\n\n  function op_xor(x, y) {\n    return x ^ y;\n  }\n\n  function bnXor(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_xor, r);\n    return r;\n  } // (public) this & ~a\n\n\n  function op_andnot(x, y) {\n    return x & ~y;\n  }\n\n  function bnAndNot(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_andnot, r);\n    return r;\n  } // (public) ~this\n\n\n  function bnNot() {\n    var r = nbi();\n\n    for (var i = 0; i < this.t; ++i) {\n      r[i] = this.DM & ~this[i];\n    }\n\n    r.t = this.t;\n    r.s = ~this.s;\n    return r;\n  } // (public) this << n\n\n\n  function bnShiftLeft(n) {\n    var r = nbi();\n    if (n < 0) this.rShiftTo(-n, r);else this.lShiftTo(n, r);\n    return r;\n  } // (public) this >> n\n\n\n  function bnShiftRight(n) {\n    var r = nbi();\n    if (n < 0) this.lShiftTo(-n, r);else this.rShiftTo(n, r);\n    return r;\n  } // return index of lowest 1-bit in x, x < 2^31\n\n\n  function lbit(x) {\n    if (x == 0) return -1;\n    var r = 0;\n\n    if ((x & 0xffff) == 0) {\n      x >>= 16;\n      r += 16;\n    }\n\n    if ((x & 0xff) == 0) {\n      x >>= 8;\n      r += 8;\n    }\n\n    if ((x & 0xf) == 0) {\n      x >>= 4;\n      r += 4;\n    }\n\n    if ((x & 3) == 0) {\n      x >>= 2;\n      r += 2;\n    }\n\n    if ((x & 1) == 0) ++r;\n    return r;\n  } // (public) returns index of lowest 1-bit (or -1 if none)\n\n\n  function bnGetLowestSetBit() {\n    for (var i = 0; i < this.t; ++i) {\n      if (this[i] != 0) return i * this.DB + lbit(this[i]);\n    }\n\n    if (this.s < 0) return this.t * this.DB;\n    return -1;\n  } // return number of 1 bits in x\n\n\n  function cbit(x) {\n    var r = 0;\n\n    while (x != 0) {\n      x &= x - 1;\n      ++r;\n    }\n\n    return r;\n  } // (public) return number of set bits\n\n\n  function bnBitCount() {\n    var r = 0,\n        x = this.s & this.DM;\n\n    for (var i = 0; i < this.t; ++i) {\n      r += cbit(this[i] ^ x);\n    }\n\n    return r;\n  } // (public) true iff nth bit is set\n\n\n  function bnTestBit(n) {\n    var j = Math.floor(n / this.DB);\n    if (j >= this.t) return this.s != 0;\n    return (this[j] & 1 << n % this.DB) != 0;\n  } // (protected) this op (1<<n)\n\n\n  function bnpChangeBit(n, op) {\n    var r = BigInteger.ONE.shiftLeft(n);\n    this.bitwiseTo(r, op, r);\n    return r;\n  } // (public) this | (1<<n)\n\n\n  function bnSetBit(n) {\n    return this.changeBit(n, op_or);\n  } // (public) this & ~(1<<n)\n\n\n  function bnClearBit(n) {\n    return this.changeBit(n, op_andnot);\n  } // (public) this ^ (1<<n)\n\n\n  function bnFlipBit(n) {\n    return this.changeBit(n, op_xor);\n  } // (protected) r = this + a\n\n\n  function bnpAddTo(a, r) {\n    var i = 0,\n        c = 0,\n        m = Math.min(a.t, this.t);\n\n    while (i < m) {\n      c += this[i] + a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    if (a.t < this.t) {\n      c += a.s;\n\n      while (i < this.t) {\n        c += this[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n      }\n\n      c += this.s;\n    } else {\n      c += this.s;\n\n      while (i < a.t) {\n        c += a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n      }\n\n      c += a.s;\n    }\n\n    r.s = c < 0 ? -1 : 0;\n    if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n    r.t = i;\n    r.clamp();\n  } // (public) this + a\n\n\n  function bnAdd(a) {\n    var r = nbi();\n    this.addTo(a, r);\n    return r;\n  } // (public) this - a\n\n\n  function bnSubtract(a) {\n    var r = nbi();\n    this.subTo(a, r);\n    return r;\n  } // (public) this * a\n\n\n  function bnMultiply(a) {\n    var r = nbi();\n    this.multiplyTo(a, r);\n    return r;\n  } // (public) this^2\n\n\n  function bnSquare() {\n    var r = nbi();\n    this.squareTo(r);\n    return r;\n  } // (public) this / a\n\n\n  function bnDivide(a) {\n    var r = nbi();\n    this.divRemTo(a, r, null);\n    return r;\n  } // (public) this % a\n\n\n  function bnRemainder(a) {\n    var r = nbi();\n    this.divRemTo(a, null, r);\n    return r;\n  } // (public) [this/a,this%a]\n\n\n  function bnDivideAndRemainder(a) {\n    var q = nbi(),\n        r = nbi();\n    this.divRemTo(a, q, r);\n    return new Array(q, r);\n  } // (protected) this *= n, this >= 0, 1 < n < DV\n\n\n  function bnpDMultiply(n) {\n    this[this.t] = this.am(0, n - 1, this, 0, 0, this.t);\n    ++this.t;\n    this.clamp();\n  } // (protected) this += n << w words, this >= 0\n\n\n  function bnpDAddOffset(n, w) {\n    if (n == 0) return;\n\n    while (this.t <= w) {\n      this[this.t++] = 0;\n    }\n\n    this[w] += n;\n\n    while (this[w] >= this.DV) {\n      this[w] -= this.DV;\n      if (++w >= this.t) this[this.t++] = 0;\n      ++this[w];\n    }\n  } // A \"null\" reducer\n\n\n  function NullExp() {}\n\n  function nNop(x) {\n    return x;\n  }\n\n  function nMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n  }\n\n  function nSqrTo(x, r) {\n    x.squareTo(r);\n  }\n\n  NullExp.prototype.convert = nNop;\n  NullExp.prototype.revert = nNop;\n  NullExp.prototype.mulTo = nMulTo;\n  NullExp.prototype.sqrTo = nSqrTo; // (public) this^e\n\n  function bnPow(e) {\n    return this.exp(e, new NullExp());\n  } // (protected) r = lower n words of \"this * a\", a.t <= n\n  // \"this\" should be the larger one if appropriate.\n\n\n  function bnpMultiplyLowerTo(a, n, r) {\n    var i = Math.min(this.t + a.t, n);\n    r.s = 0; // assumes a,this >= 0\n\n    r.t = i;\n\n    while (i > 0) {\n      r[--i] = 0;\n    }\n\n    var j;\n\n    for (j = r.t - this.t; i < j; ++i) {\n      r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);\n    }\n\n    for (j = Math.min(a.t, n); i < j; ++i) {\n      this.am(0, a[i], r, i, 0, n - i);\n    }\n\n    r.clamp();\n  } // (protected) r = \"this * a\" without lower n words, n > 0\n  // \"this\" should be the larger one if appropriate.\n\n\n  function bnpMultiplyUpperTo(a, n, r) {\n    --n;\n    var i = r.t = this.t + a.t - n;\n    r.s = 0; // assumes a,this >= 0\n\n    while (--i >= 0) {\n      r[i] = 0;\n    }\n\n    for (i = Math.max(n - this.t, 0); i < a.t; ++i) {\n      r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n);\n    }\n\n    r.clamp();\n    r.drShiftTo(1, r);\n  } // Barrett modular reduction\n\n\n  function Barrett(m) {\n    // setup Barrett\n    this.r2 = nbi();\n    this.q3 = nbi();\n    BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);\n    this.mu = this.r2.divide(m);\n    this.m = m;\n  }\n\n  function barrettConvert(x) {\n    if (x.s < 0 || x.t > 2 * this.m.t) return x.mod(this.m);else if (x.compareTo(this.m) < 0) return x;else {\n      var r = nbi();\n      x.copyTo(r);\n      this.reduce(r);\n      return r;\n    }\n  }\n\n  function barrettRevert(x) {\n    return x;\n  } // x = x mod m (HAC 14.42)\n\n\n  function barrettReduce(x) {\n    x.drShiftTo(this.m.t - 1, this.r2);\n\n    if (x.t > this.m.t + 1) {\n      x.t = this.m.t + 1;\n      x.clamp();\n    }\n\n    this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);\n    this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);\n\n    while (x.compareTo(this.r2) < 0) {\n      x.dAddOffset(1, this.m.t + 1);\n    }\n\n    x.subTo(this.r2, x);\n\n    while (x.compareTo(this.m) >= 0) {\n      x.subTo(this.m, x);\n    }\n  } // r = x^2 mod m; x != r\n\n\n  function barrettSqrTo(x, r) {\n    x.squareTo(r);\n    this.reduce(r);\n  } // r = x*y mod m; x,y != r\n\n\n  function barrettMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n    this.reduce(r);\n  }\n\n  Barrett.prototype.convert = barrettConvert;\n  Barrett.prototype.revert = barrettRevert;\n  Barrett.prototype.reduce = barrettReduce;\n  Barrett.prototype.mulTo = barrettMulTo;\n  Barrett.prototype.sqrTo = barrettSqrTo; // (public) this^e % m (HAC 14.85)\n\n  function bnModPow(e, m) {\n    var i = e.bitLength(),\n        k,\n        r = nbv(1),\n        z;\n    if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6;\n    if (i < 8) z = new Classic(m);else if (m.isEven()) z = new Barrett(m);else z = new Montgomery(m); // precomputation\n\n    var g = new Array(),\n        n = 3,\n        k1 = k - 1,\n        km = (1 << k) - 1;\n    g[1] = z.convert(this);\n\n    if (k > 1) {\n      var g2 = nbi();\n      z.sqrTo(g[1], g2);\n\n      while (n <= km) {\n        g[n] = nbi();\n        z.mulTo(g2, g[n - 2], g[n]);\n        n += 2;\n      }\n    }\n\n    var j = e.t - 1,\n        w,\n        is1 = true,\n        r2 = nbi(),\n        t;\n    i = nbits(e[j]) - 1;\n\n    while (j >= 0) {\n      if (i >= k1) w = e[j] >> i - k1 & km;else {\n        w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n        if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n      }\n      n = k;\n\n      while ((w & 1) == 0) {\n        w >>= 1;\n        --n;\n      }\n\n      if ((i -= n) < 0) {\n        i += this.DB;\n        --j;\n      }\n\n      if (is1) {\n        // ret == 1, don't bother squaring or multiplying it\n        g[w].copyTo(r);\n        is1 = false;\n      } else {\n        while (n > 1) {\n          z.sqrTo(r, r2);\n          z.sqrTo(r2, r);\n          n -= 2;\n        }\n\n        if (n > 0) z.sqrTo(r, r2);else {\n          t = r;\n          r = r2;\n          r2 = t;\n        }\n        z.mulTo(r2, g[w], r);\n      }\n\n      while (j >= 0 && (e[j] & 1 << i) == 0) {\n        z.sqrTo(r, r2);\n        t = r;\n        r = r2;\n        r2 = t;\n\n        if (--i < 0) {\n          i = this.DB - 1;\n          --j;\n        }\n      }\n    }\n\n    return z.revert(r);\n  } // (public) gcd(this,a) (HAC 14.54)\n\n\n  function bnGCD(a) {\n    var x = this.s < 0 ? this.negate() : this.clone();\n    var y = a.s < 0 ? a.negate() : a.clone();\n\n    if (x.compareTo(y) < 0) {\n      var t = x;\n      x = y;\n      y = t;\n    }\n\n    var i = x.getLowestSetBit(),\n        g = y.getLowestSetBit();\n    if (g < 0) return x;\n    if (i < g) g = i;\n\n    if (g > 0) {\n      x.rShiftTo(g, x);\n      y.rShiftTo(g, y);\n    }\n\n    while (x.signum() > 0) {\n      if ((i = x.getLowestSetBit()) > 0) x.rShiftTo(i, x);\n      if ((i = y.getLowestSetBit()) > 0) y.rShiftTo(i, y);\n\n      if (x.compareTo(y) >= 0) {\n        x.subTo(y, x);\n        x.rShiftTo(1, x);\n      } else {\n        y.subTo(x, y);\n        y.rShiftTo(1, y);\n      }\n    }\n\n    if (g > 0) y.lShiftTo(g, y);\n    return y;\n  } // (protected) this % n, n < 2^26\n\n\n  function bnpModInt(n) {\n    if (n <= 0) return 0;\n    var d = this.DV % n,\n        r = this.s < 0 ? n - 1 : 0;\n    if (this.t > 0) if (d == 0) r = this[0] % n;else for (var i = this.t - 1; i >= 0; --i) {\n      r = (d * r + this[i]) % n;\n    }\n    return r;\n  } // (public) 1/this % m (HAC 14.61)\n\n\n  function bnModInverse(m) {\n    var ac = m.isEven();\n    if (this.isEven() && ac || m.signum() == 0) return BigInteger.ZERO;\n    var u = m.clone(),\n        v = this.clone();\n    var a = nbv(1),\n        b = nbv(0),\n        c = nbv(0),\n        d = nbv(1);\n\n    while (u.signum() != 0) {\n      while (u.isEven()) {\n        u.rShiftTo(1, u);\n\n        if (ac) {\n          if (!a.isEven() || !b.isEven()) {\n            a.addTo(this, a);\n            b.subTo(m, b);\n          }\n\n          a.rShiftTo(1, a);\n        } else if (!b.isEven()) b.subTo(m, b);\n\n        b.rShiftTo(1, b);\n      }\n\n      while (v.isEven()) {\n        v.rShiftTo(1, v);\n\n        if (ac) {\n          if (!c.isEven() || !d.isEven()) {\n            c.addTo(this, c);\n            d.subTo(m, d);\n          }\n\n          c.rShiftTo(1, c);\n        } else if (!d.isEven()) d.subTo(m, d);\n\n        d.rShiftTo(1, d);\n      }\n\n      if (u.compareTo(v) >= 0) {\n        u.subTo(v, u);\n        if (ac) a.subTo(c, a);\n        b.subTo(d, b);\n      } else {\n        v.subTo(u, v);\n        if (ac) c.subTo(a, c);\n        d.subTo(b, d);\n      }\n    }\n\n    if (v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\n    if (d.compareTo(m) >= 0) return d.subtract(m);\n    if (d.signum() < 0) d.addTo(m, d);else return d;\n    if (d.signum() < 0) return d.add(m);else return d;\n  }\n\n  var lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];\n  var lplim = (1 << 26) / lowprimes[lowprimes.length - 1]; // (public) test primality with certainty >= 1-.5^t\n\n  function bnIsProbablePrime(t) {\n    var i,\n        x = this.abs();\n\n    if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {\n      for (i = 0; i < lowprimes.length; ++i) {\n        if (x[0] == lowprimes[i]) return true;\n      }\n\n      return false;\n    }\n\n    if (x.isEven()) return false;\n    i = 1;\n\n    while (i < lowprimes.length) {\n      var m = lowprimes[i],\n          j = i + 1;\n\n      while (j < lowprimes.length && m < lplim) {\n        m *= lowprimes[j++];\n      }\n\n      m = x.modInt(m);\n\n      while (i < j) {\n        if (m % lowprimes[i++] == 0) return false;\n      }\n    }\n\n    return x.millerRabin(t);\n  } // (protected) true if probably prime (HAC 4.24, Miller-Rabin)\n\n\n  function bnpMillerRabin(t) {\n    var n1 = this.subtract(BigInteger.ONE);\n    var k = n1.getLowestSetBit();\n    if (k <= 0) return false;\n    var r = n1.shiftRight(k);\n    t = t + 1 >> 1;\n    if (t > lowprimes.length) t = lowprimes.length;\n    var a = nbi();\n\n    for (var i = 0; i < t; ++i) {\n      //Pick bases at random, instead of starting at 2\n      a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);\n      var y = a.modPow(r, this);\n\n      if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n        var j = 1;\n\n        while (j++ < k && y.compareTo(n1) != 0) {\n          y = y.modPowInt(2, this);\n          if (y.compareTo(BigInteger.ONE) == 0) return false;\n        }\n\n        if (y.compareTo(n1) != 0) return false;\n      }\n    }\n\n    return true;\n  } // protected\n\n\n  BigInteger.prototype.chunkSize = bnpChunkSize;\n  BigInteger.prototype.toRadix = bnpToRadix;\n  BigInteger.prototype.fromRadix = bnpFromRadix;\n  BigInteger.prototype.fromNumber = bnpFromNumber;\n  BigInteger.prototype.bitwiseTo = bnpBitwiseTo;\n  BigInteger.prototype.changeBit = bnpChangeBit;\n  BigInteger.prototype.addTo = bnpAddTo;\n  BigInteger.prototype.dMultiply = bnpDMultiply;\n  BigInteger.prototype.dAddOffset = bnpDAddOffset;\n  BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\n  BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\n  BigInteger.prototype.modInt = bnpModInt;\n  BigInteger.prototype.millerRabin = bnpMillerRabin; // public\n\n  BigInteger.prototype.clone = bnClone;\n  BigInteger.prototype.intValue = bnIntValue;\n  BigInteger.prototype.byteValue = bnByteValue;\n  BigInteger.prototype.shortValue = bnShortValue;\n  BigInteger.prototype.signum = bnSigNum;\n  BigInteger.prototype.toByteArray = bnToByteArray;\n  BigInteger.prototype.equals = bnEquals;\n  BigInteger.prototype.min = bnMin;\n  BigInteger.prototype.max = bnMax;\n  BigInteger.prototype.and = bnAnd;\n  BigInteger.prototype.or = bnOr;\n  BigInteger.prototype.xor = bnXor;\n  BigInteger.prototype.andNot = bnAndNot;\n  BigInteger.prototype.not = bnNot;\n  BigInteger.prototype.shiftLeft = bnShiftLeft;\n  BigInteger.prototype.shiftRight = bnShiftRight;\n  BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\n  BigInteger.prototype.bitCount = bnBitCount;\n  BigInteger.prototype.testBit = bnTestBit;\n  BigInteger.prototype.setBit = bnSetBit;\n  BigInteger.prototype.clearBit = bnClearBit;\n  BigInteger.prototype.flipBit = bnFlipBit;\n  BigInteger.prototype.add = bnAdd;\n  BigInteger.prototype.subtract = bnSubtract;\n  BigInteger.prototype.multiply = bnMultiply;\n  BigInteger.prototype.divide = bnDivide;\n  BigInteger.prototype.remainder = bnRemainder;\n  BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\n  BigInteger.prototype.modPow = bnModPow;\n  BigInteger.prototype.modInverse = bnModInverse;\n  BigInteger.prototype.pow = bnPow;\n  BigInteger.prototype.gcd = bnGCD;\n  BigInteger.prototype.isProbablePrime = bnIsProbablePrime; // JSBN-specific extension\n\n  BigInteger.prototype.square = bnSquare; // BigInteger interfaces not implemented in jsbn:\n  // BigInteger(int signum, byte[] magnitude)\n  // double doubleValue()\n  // float floatValue()\n  // int hashCode()\n  // long longValue()\n  // static BigInteger valueOf(long val)\n  // prng4.js - uses Arcfour as a PRNG\n\n  function Arcfour() {\n    this.i = 0;\n    this.j = 0;\n    this.S = new Array();\n  } // Initialize arcfour context from key, an array of ints, each from [0..255]\n\n\n  function ARC4init(key) {\n    var i, j, t;\n\n    for (i = 0; i < 256; ++i) {\n      this.S[i] = i;\n    }\n\n    j = 0;\n\n    for (i = 0; i < 256; ++i) {\n      j = j + this.S[i] + key[i % key.length] & 255;\n      t = this.S[i];\n      this.S[i] = this.S[j];\n      this.S[j] = t;\n    }\n\n    this.i = 0;\n    this.j = 0;\n  }\n\n  function ARC4next() {\n    var t;\n    this.i = this.i + 1 & 255;\n    this.j = this.j + this.S[this.i] & 255;\n    t = this.S[this.i];\n    this.S[this.i] = this.S[this.j];\n    this.S[this.j] = t;\n    return this.S[t + this.S[this.i] & 255];\n  }\n\n  Arcfour.prototype.init = ARC4init;\n  Arcfour.prototype.next = ARC4next; // Plug in your RNG constructor here\n\n  function prng_newstate() {\n    return new Arcfour();\n  } // Pool size must be a multiple of 4 and greater than 32.\n  // An array of bytes the size of the pool will be passed to init()\n\n\n  var rng_psize = 256; // Random number generator - requires a PRNG backend, e.g. prng4.js\n\n  var rng_state;\n  var rng_pool;\n  var rng_pptr; // Initialize the pool with junk if needed.\n\n  if (rng_pool == null) {\n    rng_pool = new Array();\n    rng_pptr = 0;\n    var t;\n\n    if (window.crypto && window.crypto.getRandomValues) {\n      // Extract entropy (2048 bits) from RNG if available\n      var z = new Uint32Array(256);\n      window.crypto.getRandomValues(z);\n\n      for (t = 0; t < z.length; ++t) {\n        rng_pool[rng_pptr++] = z[t] & 255;\n      }\n    } // Use mouse events for entropy, if we do not have enough entropy by the time\n    // we need it, entropy will be generated by Math.random.\n\n\n    var onMouseMoveListener = function onMouseMoveListener(ev) {\n      this.count = this.count || 0;\n\n      if (this.count >= 256 || rng_pptr >= rng_psize) {\n        if (window.removeEventListener) window.removeEventListener(\"mousemove\", onMouseMoveListener);else if (window.detachEvent) window.detachEvent(\"onmousemove\", onMouseMoveListener);\n        return;\n      }\n\n      this.count += 1;\n      var mouseCoordinates = ev.x + ev.y;\n      rng_pool[rng_pptr++] = mouseCoordinates & 255;\n    };\n\n    if (window.addEventListener) window.addEventListener(\"mousemove\", onMouseMoveListener);else if (window.attachEvent) window.attachEvent(\"onmousemove\", onMouseMoveListener);\n  }\n\n  function rng_get_byte() {\n    if (rng_state == null) {\n      rng_state = prng_newstate(); // At this point, we may not have collected enough entropy.  If not, fall back to Math.random\n\n      while (rng_pptr < rng_psize) {\n        var random = Math.floor(65536 * Math.random());\n        rng_pool[rng_pptr++] = random & 255;\n      }\n\n      rng_state.init(rng_pool);\n\n      for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) {\n        rng_pool[rng_pptr] = 0;\n      }\n\n      rng_pptr = 0;\n    } // TODO: allow reseeding after first request\n\n\n    return rng_state.next();\n  }\n\n  function rng_get_bytes(ba) {\n    var i;\n\n    for (i = 0; i < ba.length; ++i) {\n      ba[i] = rng_get_byte();\n    }\n  }\n\n  function SecureRandom() {}\n\n  SecureRandom.prototype.nextBytes = rng_get_bytes; // Depends on jsbn.js and rng.js\n  // Version 1.1: support utf-8 encoding in pkcs1pad2\n  // convert a (hex) string to a bignum object\n\n  function parseBigInt(str, r) {\n    return new BigInteger(str, r);\n  }\n\n  function linebrk(s, n) {\n    var ret = \"\";\n    var i = 0;\n\n    while (i + n < s.length) {\n      ret += s.substring(i, i + n) + \"\\n\";\n      i += n;\n    }\n\n    return ret + s.substring(i, s.length);\n  }\n\n  function byte2Hex(b) {\n    if (b < 0x10) return \"0\" + b.toString(16);else return b.toString(16);\n  } // PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\n\n\n  function pkcs1pad2(s, n) {\n    if (n < s.length + 11) {\n      // TODO: fix for utf-8\n      console.error(\"Message too long for RSA\");\n      return null;\n    }\n\n    var ba = new Array();\n    var i = s.length - 1;\n\n    while (i >= 0 && n > 0) {\n      var c = s.charCodeAt(i--);\n\n      if (c < 128) {\n        // encode using utf-8\n        ba[--n] = c;\n      } else if (c > 127 && c < 2048) {\n        ba[--n] = c & 63 | 128;\n        ba[--n] = c >> 6 | 192;\n      } else {\n        ba[--n] = c & 63 | 128;\n        ba[--n] = c >> 6 & 63 | 128;\n        ba[--n] = c >> 12 | 224;\n      }\n    }\n\n    ba[--n] = 0;\n    var rng = new SecureRandom();\n    var x = new Array();\n\n    while (n > 2) {\n      // random non-zero pad\n      x[0] = 0;\n\n      while (x[0] == 0) {\n        rng.nextBytes(x);\n      }\n\n      ba[--n] = x[0];\n    }\n\n    ba[--n] = 2;\n    ba[--n] = 0;\n    return new BigInteger(ba);\n  } // \"empty\" RSA key constructor\n\n\n  function RSAKey() {\n    this.n = null;\n    this.e = 0;\n    this.d = null;\n    this.p = null;\n    this.q = null;\n    this.dmp1 = null;\n    this.dmq1 = null;\n    this.coeff = null;\n  } // Set the public key fields N and e from hex strings\n\n\n  function RSASetPublic(N, E) {\n    if (N != null && E != null && N.length > 0 && E.length > 0) {\n      this.n = parseBigInt(N, 16);\n      this.e = parseInt(E, 16);\n    } else console.error(\"Invalid RSA public key\");\n  } // Perform raw public operation on \"x\": return x^e (mod n)\n\n\n  function RSADoPublic(x) {\n    return x.modPowInt(this.e, this.n);\n  } // Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\n\n\n  function RSAEncrypt(text) {\n    var m = pkcs1pad2(text, this.n.bitLength() + 7 >> 3);\n    if (m == null) return null;\n    var c = this.doPublic(m);\n    if (c == null) return null;\n    var h = c.toString(16);\n    if ((h.length & 1) == 0) return h;else return \"0\" + h;\n  } // Return the PKCS#1 RSA encryption of \"text\" as a Base64-encoded string\n  //function RSAEncryptB64(text) {\n  //  var h = this.encrypt(text);\n  //  if(h) return hex2b64(h); else return null;\n  //}\n  // protected\n\n\n  RSAKey.prototype.doPublic = RSADoPublic; // public\n\n  RSAKey.prototype.setPublic = RSASetPublic;\n  RSAKey.prototype.encrypt = RSAEncrypt; //RSAKey.prototype.encrypt_b64 = RSAEncryptB64;\n  // Depends on rsa.js and jsbn2.js\n  // Version 1.1: support utf-8 decoding in pkcs1unpad2\n  // Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext\n\n  function pkcs1unpad2(d, n) {\n    var b = d.toByteArray();\n    var i = 0;\n\n    while (i < b.length && b[i] == 0) {\n      ++i;\n    }\n\n    if (b.length - i != n - 1 || b[i] != 2) return null;\n    ++i;\n\n    while (b[i] != 0) {\n      if (++i >= b.length) return null;\n    }\n\n    var ret = \"\";\n\n    while (++i < b.length) {\n      var c = b[i] & 255;\n\n      if (c < 128) {\n        // utf-8 decode\n        ret += String.fromCharCode(c);\n      } else if (c > 191 && c < 224) {\n        ret += String.fromCharCode((c & 31) << 6 | b[i + 1] & 63);\n        ++i;\n      } else {\n        ret += String.fromCharCode((c & 15) << 12 | (b[i + 1] & 63) << 6 | b[i + 2] & 63);\n        i += 2;\n      }\n    }\n\n    return ret;\n  } // Set the private key fields N, e, and d from hex strings\n\n\n  function RSASetPrivate(N, E, D) {\n    if (N != null && E != null && N.length > 0 && E.length > 0) {\n      this.n = parseBigInt(N, 16);\n      this.e = parseInt(E, 16);\n      this.d = parseBigInt(D, 16);\n    } else console.error(\"Invalid RSA private key\");\n  } // Set the private key fields N, e, d and CRT params from hex strings\n\n\n  function RSASetPrivateEx(N, E, D, P, Q, DP, DQ, C) {\n    if (N != null && E != null && N.length > 0 && E.length > 0) {\n      this.n = parseBigInt(N, 16);\n      this.e = parseInt(E, 16);\n      this.d = parseBigInt(D, 16);\n      this.p = parseBigInt(P, 16);\n      this.q = parseBigInt(Q, 16);\n      this.dmp1 = parseBigInt(DP, 16);\n      this.dmq1 = parseBigInt(DQ, 16);\n      this.coeff = parseBigInt(C, 16);\n    } else console.error(\"Invalid RSA private key\");\n  } // Generate a new random private key B bits long, using public expt E\n\n\n  function RSAGenerate(B, E) {\n    var rng = new SecureRandom();\n    var qs = B >> 1;\n    this.e = parseInt(E, 16);\n    var ee = new BigInteger(E, 16);\n\n    for (;;) {\n      for (;;) {\n        this.p = new BigInteger(B - qs, 1, rng);\n        if (this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) break;\n      }\n\n      for (;;) {\n        this.q = new BigInteger(qs, 1, rng);\n        if (this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) break;\n      }\n\n      if (this.p.compareTo(this.q) <= 0) {\n        var t = this.p;\n        this.p = this.q;\n        this.q = t;\n      }\n\n      var p1 = this.p.subtract(BigInteger.ONE);\n      var q1 = this.q.subtract(BigInteger.ONE);\n      var phi = p1.multiply(q1);\n\n      if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n        this.n = this.p.multiply(this.q);\n        this.d = ee.modInverse(phi);\n        this.dmp1 = this.d.mod(p1);\n        this.dmq1 = this.d.mod(q1);\n        this.coeff = this.q.modInverse(this.p);\n        break;\n      }\n    }\n  } // Perform raw private operation on \"x\": return x^d (mod n)\n\n\n  function RSADoPrivate(x) {\n    if (this.p == null || this.q == null) return x.modPow(this.d, this.n); // TODO: re-calculate any missing CRT params\n\n    var xp = x.mod(this.p).modPow(this.dmp1, this.p);\n    var xq = x.mod(this.q).modPow(this.dmq1, this.q);\n\n    while (xp.compareTo(xq) < 0) {\n      xp = xp.add(this.p);\n    }\n\n    return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);\n  } // Return the PKCS#1 RSA decryption of \"ctext\".\n  // \"ctext\" is an even-length hex string and the output is a plain string.\n\n\n  function RSADecrypt(ctext) {\n    var c = parseBigInt(ctext, 16);\n    var m = this.doPrivate(c);\n    if (m == null) return null;\n    return pkcs1unpad2(m, this.n.bitLength() + 7 >> 3);\n  } // Return the PKCS#1 RSA decryption of \"ctext\".\n  // \"ctext\" is a Base64-encoded string and the output is a plain string.\n  //function RSAB64Decrypt(ctext) {\n  //  var h = b64tohex(ctext);\n  //  if(h) return this.decrypt(h); else return null;\n  //}\n  // protected\n\n\n  RSAKey.prototype.doPrivate = RSADoPrivate; // public\n\n  RSAKey.prototype.setPrivate = RSASetPrivate;\n  RSAKey.prototype.setPrivateEx = RSASetPrivateEx;\n  RSAKey.prototype.generate = RSAGenerate;\n  RSAKey.prototype.decrypt = RSADecrypt; //RSAKey.prototype.b64_decrypt = RSAB64Decrypt;\n  // Copyright (c) 2011  Kevin M Burns Jr.\n  // All Rights Reserved.\n  // See \"LICENSE\" for details.\n  //\n  // Extension to jsbn which adds facilities for asynchronous RSA key generation\n  // Primarily created to avoid execution timeout on mobile devices\n  //\n  // http://www-cs-students.stanford.edu/~tjw/jsbn/\n  //\n  // ---\n\n  (function () {\n    // Generate a new random private key B bits long, using public expt E\n    var RSAGenerateAsync = function RSAGenerateAsync(B, E, callback) {\n      //var rng = new SeededRandom();\n      var rng = new SecureRandom();\n      var qs = B >> 1;\n      this.e = parseInt(E, 16);\n      var ee = new BigInteger(E, 16);\n      var rsa = this; // These functions have non-descript names because they were originally for(;;) loops.\n      // I don't know about cryptography to give them better names than loop1-4.\n\n      var loop1 = function loop1() {\n        var loop4 = function loop4() {\n          if (rsa.p.compareTo(rsa.q) <= 0) {\n            var t = rsa.p;\n            rsa.p = rsa.q;\n            rsa.q = t;\n          }\n\n          var p1 = rsa.p.subtract(BigInteger.ONE);\n          var q1 = rsa.q.subtract(BigInteger.ONE);\n          var phi = p1.multiply(q1);\n\n          if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n            rsa.n = rsa.p.multiply(rsa.q);\n            rsa.d = ee.modInverse(phi);\n            rsa.dmp1 = rsa.d.mod(p1);\n            rsa.dmq1 = rsa.d.mod(q1);\n            rsa.coeff = rsa.q.modInverse(rsa.p);\n            setTimeout(function () {\n              callback();\n            }, 0); // escape\n          } else {\n            setTimeout(loop1, 0);\n          }\n        };\n\n        var loop3 = function loop3() {\n          rsa.q = nbi();\n          rsa.q.fromNumberAsync(qs, 1, rng, function () {\n            rsa.q.subtract(BigInteger.ONE).gcda(ee, function (r) {\n              if (r.compareTo(BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {\n                setTimeout(loop4, 0);\n              } else {\n                setTimeout(loop3, 0);\n              }\n            });\n          });\n        };\n\n        var loop2 = function loop2() {\n          rsa.p = nbi();\n          rsa.p.fromNumberAsync(B - qs, 1, rng, function () {\n            rsa.p.subtract(BigInteger.ONE).gcda(ee, function (r) {\n              if (r.compareTo(BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {\n                setTimeout(loop3, 0);\n              } else {\n                setTimeout(loop2, 0);\n              }\n            });\n          });\n        };\n\n        setTimeout(loop2, 0);\n      };\n\n      setTimeout(loop1, 0);\n    };\n\n    RSAKey.prototype.generateAsync = RSAGenerateAsync; // Public API method\n\n    var bnGCDAsync = function bnGCDAsync(a, callback) {\n      var x = this.s < 0 ? this.negate() : this.clone();\n      var y = a.s < 0 ? a.negate() : a.clone();\n\n      if (x.compareTo(y) < 0) {\n        var t = x;\n        x = y;\n        y = t;\n      }\n\n      var i = x.getLowestSetBit(),\n          g = y.getLowestSetBit();\n\n      if (g < 0) {\n        callback(x);\n        return;\n      }\n\n      if (i < g) g = i;\n\n      if (g > 0) {\n        x.rShiftTo(g, x);\n        y.rShiftTo(g, y);\n      } // Workhorse of the algorithm, gets called 200 - 800 times per 512 bit keygen.\n\n\n      var gcda1 = function gcda1() {\n        if ((i = x.getLowestSetBit()) > 0) {\n          x.rShiftTo(i, x);\n        }\n\n        if ((i = y.getLowestSetBit()) > 0) {\n          y.rShiftTo(i, y);\n        }\n\n        if (x.compareTo(y) >= 0) {\n          x.subTo(y, x);\n          x.rShiftTo(1, x);\n        } else {\n          y.subTo(x, y);\n          y.rShiftTo(1, y);\n        }\n\n        if (!(x.signum() > 0)) {\n          if (g > 0) y.lShiftTo(g, y);\n          setTimeout(function () {\n            callback(y);\n          }, 0); // escape\n        } else {\n          setTimeout(gcda1, 0);\n        }\n      };\n\n      setTimeout(gcda1, 10);\n    };\n\n    BigInteger.prototype.gcda = bnGCDAsync; // (protected) alternate constructor\n\n    var bnpFromNumberAsync = function bnpFromNumberAsync(a, b, c, callback) {\n      if (\"number\" == typeof b) {\n        if (a < 2) {\n          this.fromInt(1);\n        } else {\n          this.fromNumber(a, c);\n\n          if (!this.testBit(a - 1)) {\n            this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);\n          }\n\n          if (this.isEven()) {\n            this.dAddOffset(1, 0);\n          }\n\n          var bnp = this;\n\n          var bnpfn1 = function bnpfn1() {\n            bnp.dAddOffset(2, 0);\n            if (bnp.bitLength() > a) bnp.subTo(BigInteger.ONE.shiftLeft(a - 1), bnp);\n\n            if (bnp.isProbablePrime(b)) {\n              setTimeout(function () {\n                callback();\n              }, 0); // escape\n            } else {\n              setTimeout(bnpfn1, 0);\n            }\n          };\n\n          setTimeout(bnpfn1, 0);\n        }\n      } else {\n        var x = new Array(),\n            t = a & 7;\n        x.length = (a >> 3) + 1;\n        b.nextBytes(x);\n        if (t > 0) x[0] &= (1 << t) - 1;else x[0] = 0;\n        this.fromString(x, 256);\n      }\n    };\n\n    BigInteger.prototype.fromNumberAsync = bnpFromNumberAsync;\n  })();\n\n  var b64map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var b64pad = \"=\";\n\n  function hex2b64(h) {\n    var i;\n    var c;\n    var ret = \"\";\n\n    for (i = 0; i + 3 <= h.length; i += 3) {\n      c = parseInt(h.substring(i, i + 3), 16);\n      ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n    }\n\n    if (i + 1 == h.length) {\n      c = parseInt(h.substring(i, i + 1), 16);\n      ret += b64map.charAt(c << 2);\n    } else if (i + 2 == h.length) {\n      c = parseInt(h.substring(i, i + 2), 16);\n      ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n    }\n\n    while ((ret.length & 3) > 0) {\n      ret += b64pad;\n    }\n\n    return ret;\n  } // convert a base64 string to hex\n\n\n  function b64tohex(s) {\n    var ret = \"\";\n    var i;\n    var k = 0; // b64 state, 0-3\n\n    var slop;\n\n    for (i = 0; i < s.length; ++i) {\n      if (s.charAt(i) == b64pad) break;\n      v = b64map.indexOf(s.charAt(i));\n      if (v < 0) continue;\n\n      if (k == 0) {\n        ret += int2char(v >> 2);\n        slop = v & 3;\n        k = 1;\n      } else if (k == 1) {\n        ret += int2char(slop << 2 | v >> 4);\n        slop = v & 0xf;\n        k = 2;\n      } else if (k == 2) {\n        ret += int2char(slop);\n        ret += int2char(v >> 2);\n        slop = v & 3;\n        k = 3;\n      } else {\n        ret += int2char(slop << 2 | v >> 4);\n        ret += int2char(v & 0xf);\n        k = 0;\n      }\n    }\n\n    if (k == 1) ret += int2char(slop << 2);\n    return ret;\n  } // convert a base64 string to a byte/number array\n\n\n  function b64toBA(s) {\n    //piggyback on b64tohex for now, optimize later\n    var h = b64tohex(s);\n    var i;\n    var a = new Array();\n\n    for (i = 0; 2 * i < h.length; ++i) {\n      a[i] = parseInt(h.substring(2 * i, 2 * i + 2), 16);\n    }\n\n    return a;\n  }\n  /*! asn1-1.0.2.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license\r\n   */\n\n\n  var JSX = JSX || {};\n  JSX.env = JSX.env || {};\n  var L = JSX,\n      OP = Object.prototype,\n      FUNCTION_TOSTRING = '[object Function]',\n      ADD = [\"toString\", \"valueOf\"];\n\n  JSX.env.parseUA = function (agent) {\n    var numberify = function numberify(s) {\n      var c = 0;\n      return parseFloat(s.replace(/\\./g, function () {\n        return c++ == 1 ? '' : '.';\n      }));\n    },\n        nav = navigator,\n        o = {\n      ie: 0,\n      opera: 0,\n      gecko: 0,\n      webkit: 0,\n      chrome: 0,\n      mobile: null,\n      air: 0,\n      ipad: 0,\n      iphone: 0,\n      ipod: 0,\n      ios: null,\n      android: 0,\n      webos: 0,\n      caja: nav && nav.cajaVersion,\n      secure: false,\n      os: null\n    },\n        ua = agent || navigator && navigator.userAgent,\n        loc = window && window.location,\n        href = loc && loc.href,\n        m;\n\n    o.secure = href && href.toLowerCase().indexOf(\"https\") === 0;\n\n    if (ua) {\n      if (/windows|win32/i.test(ua)) {\n        o.os = 'windows';\n      } else if (/macintosh/i.test(ua)) {\n        o.os = 'macintosh';\n      } else if (/rhino/i.test(ua)) {\n        o.os = 'rhino';\n      }\n\n      if (/KHTML/.test(ua)) {\n        o.webkit = 1;\n      }\n\n      m = ua.match(/AppleWebKit\\/([^\\s]*)/);\n\n      if (m && m[1]) {\n        o.webkit = numberify(m[1]);\n\n        if (/ Mobile\\//.test(ua)) {\n          o.mobile = 'Apple'; // iPhone or iPod Touch\n\n          m = ua.match(/OS ([^\\s]*)/);\n\n          if (m && m[1]) {\n            m = numberify(m[1].replace('_', '.'));\n          }\n\n          o.ios = m;\n          o.ipad = o.ipod = o.iphone = 0;\n          m = ua.match(/iPad|iPod|iPhone/);\n\n          if (m && m[0]) {\n            o[m[0].toLowerCase()] = o.ios;\n          }\n        } else {\n          m = ua.match(/NokiaN[^\\/]*|Android \\d\\.\\d|webOS\\/\\d\\.\\d/);\n\n          if (m) {\n            o.mobile = m[0];\n          }\n\n          if (/webOS/.test(ua)) {\n            o.mobile = 'WebOS';\n            m = ua.match(/webOS\\/([^\\s]*);/);\n\n            if (m && m[1]) {\n              o.webos = numberify(m[1]);\n            }\n          }\n\n          if (/ Android/.test(ua)) {\n            o.mobile = 'Android';\n            m = ua.match(/Android ([^\\s]*);/);\n\n            if (m && m[1]) {\n              o.android = numberify(m[1]);\n            }\n          }\n        }\n\n        m = ua.match(/Chrome\\/([^\\s]*)/);\n\n        if (m && m[1]) {\n          o.chrome = numberify(m[1]); // Chrome\n        } else {\n          m = ua.match(/AdobeAIR\\/([^\\s]*)/);\n\n          if (m) {\n            o.air = m[0]; // Adobe AIR 1.0 or better\n          }\n        }\n      }\n\n      if (!o.webkit) {\n        m = ua.match(/Opera[\\s\\/]([^\\s]*)/);\n\n        if (m && m[1]) {\n          o.opera = numberify(m[1]);\n          m = ua.match(/Version\\/([^\\s]*)/);\n\n          if (m && m[1]) {\n            o.opera = numberify(m[1]); // opera 10+\n          }\n\n          m = ua.match(/Opera Mini[^;]*/);\n\n          if (m) {\n            o.mobile = m[0]; // ex: Opera Mini/2.0.4509/1316\n          }\n        } else {\n          // not opera or webkit\n          m = ua.match(/MSIE\\s([^;]*)/);\n\n          if (m && m[1]) {\n            o.ie = numberify(m[1]);\n          } else {\n            // not opera, webkit, or ie\n            m = ua.match(/Gecko\\/([^\\s]*)/);\n\n            if (m) {\n              o.gecko = 1; // Gecko detected, look for revision\n\n              m = ua.match(/rv:([^\\s\\)]*)/);\n\n              if (m && m[1]) {\n                o.gecko = numberify(m[1]);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return o;\n  };\n\n  JSX.env.ua = JSX.env.parseUA();\n\n  JSX.isFunction = function (o) {\n    return typeof o === 'function' || OP.toString.apply(o) === FUNCTION_TOSTRING;\n  };\n\n  JSX._IEEnumFix = JSX.env.ua.ie ? function (r, s) {\n    var i, fname, f;\n\n    for (i = 0; i < ADD.length; i = i + 1) {\n      fname = ADD[i];\n      f = s[fname];\n\n      if (L.isFunction(f) && f != OP[fname]) {\n        r[fname] = f;\n      }\n    }\n  } : function () {};\n\n  JSX.extend = function (subc, superc, overrides) {\n    if (!superc || !subc) {\n      throw new Error(\"extend failed, please check that \" + \"all dependencies are included.\");\n    }\n\n    var F = function F() {},\n        i;\n\n    F.prototype = superc.prototype;\n    subc.prototype = new F();\n    subc.prototype.constructor = subc;\n    subc.superclass = superc.prototype;\n\n    if (superc.prototype.constructor == OP.constructor) {\n      superc.prototype.constructor = superc;\n    }\n\n    if (overrides) {\n      for (i in overrides) {\n        if (L.hasOwnProperty(overrides, i)) {\n          subc.prototype[i] = overrides[i];\n        }\n      }\n\n      L._IEEnumFix(subc.prototype, overrides);\n    }\n  };\n  /*\r\n   * asn1.js - ASN.1 DER encoder classes\r\n   *\r\n   * Copyright (c) 2013 Kenji Urushima (kenji.urushima@gmail.com)\r\n   *\r\n   * This software is licensed under the terms of the MIT License.\r\n   * http://kjur.github.com/jsrsasign/license\r\n   *\r\n   * The above copyright and license notice shall be \r\n   * included in all copies or substantial portions of the Software.\r\n   */\n\n  /**\r\n   * @fileOverview\r\n   * @name asn1-1.0.js\r\n   * @author Kenji Urushima kenji.urushima@gmail.com\r\n   * @version 1.0.2 (2013-May-30)\r\n   * @since 2.1\r\n   * @license <a href=\"http://kjur.github.io/jsrsasign/license/\">MIT License</a>\r\n   */\n\n  /** \r\n   * kjur's class library name space\r\n   * <p>\r\n   * This name space provides following name spaces:\r\n   * <ul>\r\n   * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>\r\n   * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>\r\n   * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature \r\n   * class and utilities</li>\r\n   * </ul>\r\n   * </p> \r\n   * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n    * @name KJUR\r\n   * @namespace kjur's class library name space\r\n   */\n\n\n  if (typeof KJUR == \"undefined\" || !KJUR) KJUR = {};\n  /**\r\n   * kjur's ASN.1 class library name space\r\n   * <p>\r\n   * This is ITU-T X.690 ASN.1 DER encoder class library and\r\n   * class structure and methods is very similar to \r\n   * org.bouncycastle.asn1 package of \r\n   * well known BouncyCaslte Cryptography Library.\r\n   *\r\n   * <h4>PROVIDING ASN.1 PRIMITIVES</h4>\r\n   * Here are ASN.1 DER primitive classes.\r\n   * <ul>\r\n   * <li>{@link KJUR.asn1.DERBoolean}</li>\r\n   * <li>{@link KJUR.asn1.DERInteger}</li>\r\n   * <li>{@link KJUR.asn1.DERBitString}</li>\r\n   * <li>{@link KJUR.asn1.DEROctetString}</li>\r\n   * <li>{@link KJUR.asn1.DERNull}</li>\r\n   * <li>{@link KJUR.asn1.DERObjectIdentifier}</li>\r\n   * <li>{@link KJUR.asn1.DERUTF8String}</li>\r\n   * <li>{@link KJUR.asn1.DERNumericString}</li>\r\n   * <li>{@link KJUR.asn1.DERPrintableString}</li>\r\n   * <li>{@link KJUR.asn1.DERTeletexString}</li>\r\n   * <li>{@link KJUR.asn1.DERIA5String}</li>\r\n   * <li>{@link KJUR.asn1.DERUTCTime}</li>\r\n   * <li>{@link KJUR.asn1.DERGeneralizedTime}</li>\r\n   * <li>{@link KJUR.asn1.DERSequence}</li>\r\n   * <li>{@link KJUR.asn1.DERSet}</li>\r\n   * </ul>\r\n   *\r\n   * <h4>OTHER ASN.1 CLASSES</h4>\r\n   * <ul>\r\n   * <li>{@link KJUR.asn1.ASN1Object}</li>\r\n   * <li>{@link KJUR.asn1.DERAbstractString}</li>\r\n   * <li>{@link KJUR.asn1.DERAbstractTime}</li>\r\n   * <li>{@link KJUR.asn1.DERAbstractStructured}</li>\r\n   * <li>{@link KJUR.asn1.DERTaggedObject}</li>\r\n   * </ul>\r\n   * </p>\r\n   * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n   * @name KJUR.asn1\r\n   * @namespace\r\n   */\n\n  if (typeof KJUR.asn1 == \"undefined\" || !KJUR.asn1) KJUR.asn1 = {};\n  /**\r\n   * ASN1 utilities class\r\n   * @name KJUR.asn1.ASN1Util\r\n   * @classs ASN1 utilities class\r\n   * @since asn1 1.0.2\r\n   */\n\n  KJUR.asn1.ASN1Util = new function () {\n    this.integerToByteHex = function (i) {\n      var h = i.toString(16);\n      if (h.length % 2 == 1) h = '0' + h;\n      return h;\n    };\n\n    this.bigIntToMinTwosComplementsHex = function (bigIntegerValue) {\n      var h = bigIntegerValue.toString(16);\n\n      if (h.substr(0, 1) != '-') {\n        if (h.length % 2 == 1) {\n          h = '0' + h;\n        } else {\n          if (!h.match(/^[0-7]/)) {\n            h = '00' + h;\n          }\n        }\n      } else {\n        var hPos = h.substr(1);\n        var xorLen = hPos.length;\n\n        if (xorLen % 2 == 1) {\n          xorLen += 1;\n        } else {\n          if (!h.match(/^[0-7]/)) {\n            xorLen += 2;\n          }\n        }\n\n        var hMask = '';\n\n        for (var i = 0; i < xorLen; i++) {\n          hMask += 'f';\n        }\n\n        var biMask = new BigInteger(hMask, 16);\n        var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);\n        h = biNeg.toString(16).replace(/^-/, '');\n      }\n\n      return h;\n    };\n    /**\r\n     * get PEM string from hexadecimal data and header string\r\n     * @name getPEMStringFromHex\r\n     * @memberOf KJUR.asn1.ASN1Util\r\n     * @function\r\n     * @param {String} dataHex hexadecimal string of PEM body\r\n     * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')\r\n     * @return {String} PEM formatted string of input data\r\n     * @description\r\n     * @example\r\n     * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');\r\n     * // value of pem will be:\r\n     * -----BEGIN PRIVATE KEY-----\r\n     * YWFh\r\n     * -----END PRIVATE KEY-----\r\n     */\n\n\n    this.getPEMStringFromHex = function (dataHex, pemHeader) {\n      var dataWA = CryptoJS.enc.Hex.parse(dataHex);\n      var dataB64 = CryptoJS.enc.Base64.stringify(dataWA);\n      var pemBody = dataB64.replace(/(.{64})/g, \"$1\\r\\n\");\n      pemBody = pemBody.replace(/\\r\\n$/, '');\n      return \"-----BEGIN \" + pemHeader + \"-----\\r\\n\" + pemBody + \"\\r\\n-----END \" + pemHeader + \"-----\\r\\n\";\n    };\n  }(); // ********************************************************************\n  //  Abstract ASN.1 Classes\n  // ********************************************************************\n  // ********************************************************************\n\n  /**\r\n   * base class for ASN.1 DER encoder object\r\n   * @name KJUR.asn1.ASN1Object\r\n   * @class base class for ASN.1 DER encoder object\r\n   * @property {Boolean} isModified flag whether internal data was changed\r\n   * @property {String} hTLV hexadecimal string of ASN.1 TLV\r\n   * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)\r\n   * @property {String} hL hexadecimal string of ASN.1 TLV length(L)\r\n   * @property {String} hV hexadecimal string of ASN.1 TLV value(V)\r\n   * @description\r\n   */\n\n  KJUR.asn1.ASN1Object = function () {\n    var isModified = true;\n    var hTLV = null;\n    var hT = '00';\n    var hL = '00';\n    var hV = '';\n    /**\r\n     * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)\r\n     * @name getLengthHexFromValue\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV length(L)\r\n     */\n\n    this.getLengthHexFromValue = function () {\n      if (typeof this.hV == \"undefined\" || this.hV == null) {\n        throw \"this.hV is null or undefined.\";\n      }\n\n      if (this.hV.length % 2 == 1) {\n        throw \"value hex must be even length: n=\" + hV.length + \",v=\" + this.hV;\n      }\n\n      var n = this.hV.length / 2;\n      var hN = n.toString(16);\n\n      if (hN.length % 2 == 1) {\n        hN = \"0\" + hN;\n      }\n\n      if (n < 128) {\n        return hN;\n      } else {\n        var hNlen = hN.length / 2;\n\n        if (hNlen > 15) {\n          throw \"ASN.1 length too long to represent by 8x: n = \" + n.toString(16);\n        }\n\n        var head = 128 + hNlen;\n        return head.toString(16) + hN;\n      }\n    };\n    /**\r\n     * get hexadecimal string of ASN.1 TLV bytes\r\n     * @name getEncodedHex\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV\r\n     */\n\n\n    this.getEncodedHex = function () {\n      if (this.hTLV == null || this.isModified) {\n        this.hV = this.getFreshValueHex();\n        this.hL = this.getLengthHexFromValue();\n        this.hTLV = this.hT + this.hL + this.hV;\n        this.isModified = false; //console.error(\"first time: \" + this.hTLV);\n      }\n\n      return this.hTLV;\n    };\n    /**\r\n     * get hexadecimal string of ASN.1 TLV value(V) bytes\r\n     * @name getValueHex\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes\r\n     */\n\n\n    this.getValueHex = function () {\n      this.getEncodedHex();\n      return this.hV;\n    };\n\n    this.getFreshValueHex = function () {\n      return '';\n    };\n  }; // == BEGIN DERAbstractString ================================================\n\n  /**\r\n   * base class for ASN.1 DER string classes\r\n   * @name KJUR.asn1.DERAbstractString\r\n   * @class base class for ASN.1 DER string classes\r\n   * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n   * @property {String} s internal string of value\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>str - specify initial ASN.1 value(V) by a string</li>\r\n   * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   */\n\n\n  KJUR.asn1.DERAbstractString = function (params) {\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n    var s = null;\n    var hV = null;\n    /**\r\n     * get string value of this string object\r\n     * @name getString\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @return {String} string value of this string object\r\n     */\n\n    this.getString = function () {\n      return this.s;\n    };\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @param {String} newS value by a string to set\r\n     */\n\n\n    this.setString = function (newS) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.s = newS;\n      this.hV = stohex(this.s);\n    };\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setStringHex\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @param {String} newHexString value by a hexadecimal string to set\r\n     */\n\n\n    this.setStringHex = function (newHexString) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.s = null;\n      this.hV = newHexString;\n    };\n\n    this.getFreshValueHex = function () {\n      return this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['str'] != \"undefined\") {\n        this.setString(params['str']);\n      } else if (typeof params['hex'] != \"undefined\") {\n        this.setStringHex(params['hex']);\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object); // == END   DERAbstractString ================================================\n  // == BEGIN DERAbstractTime ==================================================\n\n  /**\r\n   * base class for ASN.1 DER Generalized/UTCTime class\r\n   * @name KJUR.asn1.DERAbstractTime\r\n   * @class base class for ASN.1 DER Generalized/UTCTime class\r\n   * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * @see KJUR.asn1.ASN1Object - superclass\r\n   */\n\n  KJUR.asn1.DERAbstractTime = function (params) {\n    KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);\n    var s = null;\n    var date = null; // --- PRIVATE METHODS --------------------\n\n    this.localDateToUTC = function (d) {\n      utc = d.getTime() + d.getTimezoneOffset() * 60000;\n      var utcDate = new Date(utc);\n      return utcDate;\n    };\n\n    this.formatDate = function (dateObject, type) {\n      var pad = this.zeroPadding;\n      var d = this.localDateToUTC(dateObject);\n      var year = String(d.getFullYear());\n      if (type == 'utc') year = year.substr(2, 2);\n      var month = pad(String(d.getMonth() + 1), 2);\n      var day = pad(String(d.getDate()), 2);\n      var hour = pad(String(d.getHours()), 2);\n      var min = pad(String(d.getMinutes()), 2);\n      var sec = pad(String(d.getSeconds()), 2);\n      return year + month + day + hour + min + sec + 'Z';\n    };\n\n    this.zeroPadding = function (s, len) {\n      if (s.length >= len) return s;\n      return new Array(len - s.length + 1).join('0') + s;\n    }; // --- PUBLIC METHODS --------------------\n\n    /**\r\n     * get string value of this string object\r\n     * @name getString\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @return {String} string value of this time object\r\n     */\n\n\n    this.getString = function () {\n      return this.s;\n    };\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @param {String} newS value by a string to set such like \"130430235959Z\"\r\n     */\n\n\n    this.setString = function (newS) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.s = newS;\n      this.hV = stohex(this.s);\n    };\n    /**\r\n     * set value by a Date object\r\n     * @name setByDateValue\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @param {Integer} year year of date (ex. 2013)\r\n     * @param {Integer} month month of date between 1 and 12 (ex. 12)\r\n     * @param {Integer} day day of month\r\n     * @param {Integer} hour hours of date\r\n     * @param {Integer} min minutes of date\r\n     * @param {Integer} sec seconds of date\r\n     */\n\n\n    this.setByDateValue = function (year, month, day, hour, min, sec) {\n      var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));\n      this.setByDate(dateObject);\n    };\n\n    this.getFreshValueHex = function () {\n      return this.hV;\n    };\n  };\n\n  JSX.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object); // == END   DERAbstractTime ==================================================\n  // == BEGIN DERAbstractStructured ============================================\n\n  /**\r\n   * base class for ASN.1 DER structured class\r\n   * @name KJUR.asn1.DERAbstractStructured\r\n   * @class base class for ASN.1 DER structured class\r\n   * @property {Array} asn1Array internal array of ASN1Object\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * @see KJUR.asn1.ASN1Object - superclass\r\n   */\n\n  KJUR.asn1.DERAbstractStructured = function (params) {\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n    var asn1Array = null;\n    /**\r\n     * set value by array of ASN1Object\r\n     * @name setByASN1ObjectArray\r\n     * @memberOf KJUR.asn1.DERAbstractStructured\r\n     * @function\r\n     * @param {array} asn1ObjectArray array of ASN1Object to set\r\n     */\n\n    this.setByASN1ObjectArray = function (asn1ObjectArray) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.asn1Array = asn1ObjectArray;\n    };\n    /**\r\n     * append an ASN1Object to internal array\r\n     * @name appendASN1Object\r\n     * @memberOf KJUR.asn1.DERAbstractStructured\r\n     * @function\r\n     * @param {ASN1Object} asn1Object to add\r\n     */\n\n\n    this.appendASN1Object = function (asn1Object) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.asn1Array.push(asn1Object);\n    };\n\n    this.asn1Array = new Array();\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['array'] != \"undefined\") {\n        this.asn1Array = params['array'];\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object); // ********************************************************************\n  //  ASN.1 Object Classes\n  // ********************************************************************\n  // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER Boolean\r\n   * @name KJUR.asn1.DERBoolean\r\n   * @class class for ASN.1 DER Boolean\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * @see KJUR.asn1.ASN1Object - superclass\r\n   */\n\n  KJUR.asn1.DERBoolean = function () {\n    KJUR.asn1.DERBoolean.superclass.constructor.call(this);\n    this.hT = \"01\";\n    this.hTLV = \"0101ff\";\n  };\n\n  JSX.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER Integer\r\n   * @name KJUR.asn1.DERInteger\r\n   * @class class for ASN.1 DER Integer\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>int - specify initial ASN.1 value(V) by integer value</li>\r\n   * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>\r\n   * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   */\n\n  KJUR.asn1.DERInteger = function (params) {\n    KJUR.asn1.DERInteger.superclass.constructor.call(this);\n    this.hT = \"02\";\n    /**\r\n     * set value by Tom Wu's BigInteger object\r\n     * @name setByBigInteger\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {BigInteger} bigIntegerValue to set\r\n     */\n\n    this.setByBigInteger = function (bigIntegerValue) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\n    };\n    /**\r\n     * set value by integer value\r\n     * @name setByInteger\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {Integer} integer value to set\r\n     */\n\n\n    this.setByInteger = function (intValue) {\n      var bi = new BigInteger(String(intValue), 10);\n      this.setByBigInteger(bi);\n    };\n    /**\r\n     * set value by integer value\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {String} hexadecimal string of integer value\r\n     * @description\r\n     * <br/>\r\n     * NOTE: Value shall be represented by minimum octet length of\r\n     * two's complement representation.\r\n     */\n\n\n    this.setValueHex = function (newHexString) {\n      this.hV = newHexString;\n    };\n\n    this.getFreshValueHex = function () {\n      return this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['bigint'] != \"undefined\") {\n        this.setByBigInteger(params['bigint']);\n      } else if (typeof params['int'] != \"undefined\") {\n        this.setByInteger(params['int']);\n      } else if (typeof params['hex'] != \"undefined\") {\n        this.setValueHex(params['hex']);\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER encoded BitString primitive\r\n   * @name KJUR.asn1.DERBitString\r\n   * @class class for ASN.1 DER encoded BitString primitive\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description \r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>bin - specify binary string (ex. '10111')</li>\r\n   * <li>array - specify array of boolean (ex. [true,false,true,true])</li>\r\n   * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   */\n\n  KJUR.asn1.DERBitString = function (params) {\n    KJUR.asn1.DERBitString.superclass.constructor.call(this);\n    this.hT = \"03\";\n    /**\r\n     * set ASN.1 value(V) by a hexadecimal string including unused bits\r\n     * @name setHexValueIncludingUnusedBits\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {String} newHexStringIncludingUnusedBits\r\n     */\n\n    this.setHexValueIncludingUnusedBits = function (newHexStringIncludingUnusedBits) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.hV = newHexStringIncludingUnusedBits;\n    };\n    /**\r\n     * set ASN.1 value(V) by unused bit and hexadecimal string of value\r\n     * @name setUnusedBitsAndHexValue\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {Integer} unusedBits\r\n     * @param {String} hValue\r\n     */\n\n\n    this.setUnusedBitsAndHexValue = function (unusedBits, hValue) {\n      if (unusedBits < 0 || 7 < unusedBits) {\n        throw \"unused bits shall be from 0 to 7: u = \" + unusedBits;\n      }\n\n      var hUnusedBits = \"0\" + unusedBits;\n      this.hTLV = null;\n      this.isModified = true;\n      this.hV = hUnusedBits + hValue;\n    };\n    /**\r\n     * set ASN.1 DER BitString by binary string\r\n     * @name setByBinaryString\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {String} binaryString binary value string (i.e. '10111')\r\n     * @description\r\n     * Its unused bits will be calculated automatically by length of \r\n     * 'binaryValue'. <br/>\r\n     * NOTE: Trailing zeros '0' will be ignored.\r\n     */\n\n\n    this.setByBinaryString = function (binaryString) {\n      binaryString = binaryString.replace(/0+$/, '');\n      var unusedBits = 8 - binaryString.length % 8;\n      if (unusedBits == 8) unusedBits = 0;\n\n      for (var i = 0; i <= unusedBits; i++) {\n        binaryString += '0';\n      }\n\n      var h = '';\n\n      for (var i = 0; i < binaryString.length - 1; i += 8) {\n        var b = binaryString.substr(i, 8);\n        var x = parseInt(b, 2).toString(16);\n        if (x.length == 1) x = '0' + x;\n        h += x;\n      }\n\n      this.hTLV = null;\n      this.isModified = true;\n      this.hV = '0' + unusedBits + h;\n    };\n    /**\r\n     * set ASN.1 TLV value(V) by an array of boolean\r\n     * @name setByBooleanArray\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {array} booleanArray array of boolean (ex. [true, false, true])\r\n     * @description\r\n     * NOTE: Trailing falses will be ignored.\r\n     */\n\n\n    this.setByBooleanArray = function (booleanArray) {\n      var s = '';\n\n      for (var i = 0; i < booleanArray.length; i++) {\n        if (booleanArray[i] == true) {\n          s += '1';\n        } else {\n          s += '0';\n        }\n      }\n\n      this.setByBinaryString(s);\n    };\n    /**\r\n     * generate an array of false with specified length\r\n     * @name newFalseArray\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {Integer} nLength length of array to generate\r\n     * @return {array} array of boolean faluse\r\n     * @description\r\n     * This static method may be useful to initialize boolean array.\r\n     */\n\n\n    this.newFalseArray = function (nLength) {\n      var a = new Array(nLength);\n\n      for (var i = 0; i < nLength; i++) {\n        a[i] = false;\n      }\n\n      return a;\n    };\n\n    this.getFreshValueHex = function () {\n      return this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['hex'] != \"undefined\") {\n        this.setHexValueIncludingUnusedBits(params['hex']);\n      } else if (typeof params['bin'] != \"undefined\") {\n        this.setByBinaryString(params['bin']);\n      } else if (typeof params['array'] != \"undefined\") {\n        this.setByBooleanArray(params['array']);\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER OctetString\r\n   * @name KJUR.asn1.DEROctetString\r\n   * @class class for ASN.1 DER OctetString\r\n   * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n   * @extends KJUR.asn1.DERAbstractString\r\n   * @description\r\n   * @see KJUR.asn1.DERAbstractString - superclass\r\n   */\n\n  KJUR.asn1.DEROctetString = function (params) {\n    KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);\n    this.hT = \"04\";\n  };\n\n  JSX.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER Null\r\n   * @name KJUR.asn1.DERNull\r\n   * @class class for ASN.1 DER Null\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * @see KJUR.asn1.ASN1Object - superclass\r\n   */\n\n  KJUR.asn1.DERNull = function () {\n    KJUR.asn1.DERNull.superclass.constructor.call(this);\n    this.hT = \"05\";\n    this.hTLV = \"0500\";\n  };\n\n  JSX.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER ObjectIdentifier\r\n   * @name KJUR.asn1.DERObjectIdentifier\r\n   * @class class for ASN.1 DER ObjectIdentifier\r\n   * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>\r\n   * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   */\n\n  KJUR.asn1.DERObjectIdentifier = function (params) {\n    var itox = function itox(i) {\n      var h = i.toString(16);\n      if (h.length == 1) h = '0' + h;\n      return h;\n    };\n\n    var roidtox = function roidtox(roid) {\n      var h = '';\n      var bi = new BigInteger(roid, 10);\n      var b = bi.toString(2);\n      var padLen = 7 - b.length % 7;\n      if (padLen == 7) padLen = 0;\n      var bPad = '';\n\n      for (var i = 0; i < padLen; i++) {\n        bPad += '0';\n      }\n\n      b = bPad + b;\n\n      for (var i = 0; i < b.length - 1; i += 7) {\n        var b8 = b.substr(i, 7);\n        if (i != b.length - 7) b8 = '1' + b8;\n        h += itox(parseInt(b8, 2));\n      }\n\n      return h;\n    };\n\n    KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);\n    this.hT = \"06\";\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} newHexString hexadecimal value of OID bytes\r\n     */\n\n    this.setValueHex = function (newHexString) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.s = null;\n      this.hV = newHexString;\n    };\n    /**\r\n     * set value by a OID string\r\n     * @name setValueOidString\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} oidString OID string (ex. 2.5.4.13)\r\n     */\n\n\n    this.setValueOidString = function (oidString) {\n      if (!oidString.match(/^[0-9.]+$/)) {\n        throw \"malformed oid string: \" + oidString;\n      }\n\n      var h = '';\n      var a = oidString.split('.');\n      var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\n      h += itox(i0);\n      a.splice(0, 2);\n\n      for (var i = 0; i < a.length; i++) {\n        h += roidtox(a[i]);\n      }\n\n      this.hTLV = null;\n      this.isModified = true;\n      this.s = null;\n      this.hV = h;\n    };\n    /**\r\n     * set value by a OID name\r\n     * @name setValueName\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} oidName OID name (ex. 'serverAuth')\r\n     * @since 1.0.1\r\n     * @description\r\n     * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.\r\n     * Otherwise raise error.\r\n     */\n\n\n    this.setValueName = function (oidName) {\n      if (typeof KJUR.asn1.x509.OID.name2oidList[oidName] != \"undefined\") {\n        var oid = KJUR.asn1.x509.OID.name2oidList[oidName];\n        this.setValueOidString(oid);\n      } else {\n        throw \"DERObjectIdentifier oidName undefined: \" + oidName;\n      }\n    };\n\n    this.getFreshValueHex = function () {\n      return this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['oid'] != \"undefined\") {\n        this.setValueOidString(params['oid']);\n      } else if (typeof params['hex'] != \"undefined\") {\n        this.setValueHex(params['hex']);\n      } else if (typeof params['name'] != \"undefined\") {\n        this.setValueName(params['name']);\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER UTF8String\r\n   * @name KJUR.asn1.DERUTF8String\r\n   * @class class for ASN.1 DER UTF8String\r\n   * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n   * @extends KJUR.asn1.DERAbstractString\r\n   * @description\r\n   * @see KJUR.asn1.DERAbstractString - superclass\r\n   */\n\n  KJUR.asn1.DERUTF8String = function (params) {\n    KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);\n    this.hT = \"0c\";\n  };\n\n  JSX.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER NumericString\r\n   * @name KJUR.asn1.DERNumericString\r\n   * @class class for ASN.1 DER NumericString\r\n   * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n   * @extends KJUR.asn1.DERAbstractString\r\n   * @description\r\n   * @see KJUR.asn1.DERAbstractString - superclass\r\n   */\n\n  KJUR.asn1.DERNumericString = function (params) {\n    KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);\n    this.hT = \"12\";\n  };\n\n  JSX.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER PrintableString\r\n   * @name KJUR.asn1.DERPrintableString\r\n   * @class class for ASN.1 DER PrintableString\r\n   * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n   * @extends KJUR.asn1.DERAbstractString\r\n   * @description\r\n   * @see KJUR.asn1.DERAbstractString - superclass\r\n   */\n\n  KJUR.asn1.DERPrintableString = function (params) {\n    KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);\n    this.hT = \"13\";\n  };\n\n  JSX.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER TeletexString\r\n   * @name KJUR.asn1.DERTeletexString\r\n   * @class class for ASN.1 DER TeletexString\r\n   * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n   * @extends KJUR.asn1.DERAbstractString\r\n   * @description\r\n   * @see KJUR.asn1.DERAbstractString - superclass\r\n   */\n\n  KJUR.asn1.DERTeletexString = function (params) {\n    KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);\n    this.hT = \"14\";\n  };\n\n  JSX.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER IA5String\r\n   * @name KJUR.asn1.DERIA5String\r\n   * @class class for ASN.1 DER IA5String\r\n   * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n   * @extends KJUR.asn1.DERAbstractString\r\n   * @description\r\n   * @see KJUR.asn1.DERAbstractString - superclass\r\n   */\n\n  KJUR.asn1.DERIA5String = function (params) {\n    KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);\n    this.hT = \"16\";\n  };\n\n  JSX.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER UTCTime\r\n   * @name KJUR.asn1.DERUTCTime\r\n   * @class class for ASN.1 DER UTCTime\r\n   * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n   * @extends KJUR.asn1.DERAbstractTime\r\n   * @description\r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>\r\n   * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n   * <li>date - specify Date object.</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   * <h4>EXAMPLES</h4>\r\n   * @example\r\n   * var d1 = new KJUR.asn1.DERUTCTime();\r\n   * d1.setString('130430125959Z');\r\n   *\r\n   * var d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});\r\n   *\r\n   * var d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});\r\n   */\n\n  KJUR.asn1.DERUTCTime = function (params) {\n    KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);\n    this.hT = \"17\";\n    /**\r\n     * set value by a Date object\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERUTCTime\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     */\n\n    this.setByDate = function (dateObject) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.date = dateObject;\n      this.s = this.formatDate(this.date, 'utc');\n      this.hV = stohex(this.s);\n    };\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['str'] != \"undefined\") {\n        this.setString(params['str']);\n      } else if (typeof params['hex'] != \"undefined\") {\n        this.setStringHex(params['hex']);\n      } else if (typeof params['date'] != \"undefined\") {\n        this.setByDate(params['date']);\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER GeneralizedTime\r\n   * @name KJUR.asn1.DERGeneralizedTime\r\n   * @class class for ASN.1 DER GeneralizedTime\r\n   * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})\r\n   * @extends KJUR.asn1.DERAbstractTime\r\n   * @description\r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>\r\n   * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n   * <li>date - specify Date object.</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   */\n\n  KJUR.asn1.DERGeneralizedTime = function (params) {\n    KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);\n    this.hT = \"18\";\n    /**\r\n     * set value by a Date object\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERGeneralizedTime\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     * @example\r\n     * When you specify UTC time, use 'Date.UTC' method like this:<br/>\r\n     * var o = new DERUTCTime();\r\n     * var date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59\r\n     * o.setByDate(date);\r\n     */\n\n    this.setByDate = function (dateObject) {\n      this.hTLV = null;\n      this.isModified = true;\n      this.date = dateObject;\n      this.s = this.formatDate(this.date, 'gen');\n      this.hV = stohex(this.s);\n    };\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['str'] != \"undefined\") {\n        this.setString(params['str']);\n      } else if (typeof params['hex'] != \"undefined\") {\n        this.setStringHex(params['hex']);\n      } else if (typeof params['date'] != \"undefined\") {\n        this.setByDate(params['date']);\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER Sequence\r\n   * @name KJUR.asn1.DERSequence\r\n   * @class class for ASN.1 DER Sequence\r\n   * @extends KJUR.asn1.DERAbstractStructured\r\n   * @description\r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>array - specify array of ASN1Object to set elements of content</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   */\n\n  KJUR.asn1.DERSequence = function (params) {\n    KJUR.asn1.DERSequence.superclass.constructor.call(this, params);\n    this.hT = \"30\";\n\n    this.getFreshValueHex = function () {\n      var h = '';\n\n      for (var i = 0; i < this.asn1Array.length; i++) {\n        var asn1Obj = this.asn1Array[i];\n        h += asn1Obj.getEncodedHex();\n      }\n\n      this.hV = h;\n      return this.hV;\n    };\n  };\n\n  JSX.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER Set\r\n   * @name KJUR.asn1.DERSet\r\n   * @class class for ASN.1 DER Set\r\n   * @extends KJUR.asn1.DERAbstractStructured\r\n   * @description\r\n   * <br/>\r\n   * As for argument 'params' for constructor, you can specify one of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>array - specify array of ASN1Object to set elements of content</li>\r\n   * </ul>\r\n   * NOTE: 'params' can be omitted.\r\n   */\n\n  KJUR.asn1.DERSet = function (params) {\n    KJUR.asn1.DERSet.superclass.constructor.call(this, params);\n    this.hT = \"31\";\n\n    this.getFreshValueHex = function () {\n      var a = new Array();\n\n      for (var i = 0; i < this.asn1Array.length; i++) {\n        var asn1Obj = this.asn1Array[i];\n        a.push(asn1Obj.getEncodedHex());\n      }\n\n      a.sort();\n      this.hV = a.join('');\n      return this.hV;\n    };\n  };\n\n  JSX.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured); // ********************************************************************\n\n  /**\r\n   * class for ASN.1 DER TaggedObject\r\n   * @name KJUR.asn1.DERTaggedObject\r\n   * @class class for ASN.1 DER TaggedObject\r\n   * @extends KJUR.asn1.ASN1Object\r\n   * @description\r\n   * <br/>\r\n   * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.\r\n   * For example, if you find '[1]' tag in a ASN.1 dump, \r\n   * 'tagNoHex' will be 'a1'.\r\n   * <br/>\r\n   * As for optional argument 'params' for constructor, you can specify *ANY* of\r\n   * following properties:\r\n   * <ul>\r\n   * <li>explicit - specify true if this is explicit tag otherwise false \r\n   *     (default is 'true').</li>\r\n   * <li>tag - specify tag (default is 'a0' which means [0])</li>\r\n   * <li>obj - specify ASN1Object which is tagged</li>\r\n   * </ul>\r\n   * @example\r\n   * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});\r\n   * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});\r\n   * hex = d2.getEncodedHex();\r\n   */\n\n  KJUR.asn1.DERTaggedObject = function (params) {\n    KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);\n    this.hT = \"a0\";\n    this.hV = '';\n    this.isExplicit = true;\n    this.asn1Object = null;\n    /**\r\n     * set value by an ASN1Object\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERTaggedObject\r\n     * @function\r\n     * @param {Boolean} isExplicitFlag flag for explicit/implicit tag\r\n     * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag\r\n     * @param {ASN1Object} asn1Object ASN.1 to encapsulate\r\n     */\n\n    this.setASN1Object = function (isExplicitFlag, tagNoHex, asn1Object) {\n      this.hT = tagNoHex;\n      this.isExplicit = isExplicitFlag;\n      this.asn1Object = asn1Object;\n\n      if (this.isExplicit) {\n        this.hV = this.asn1Object.getEncodedHex();\n        this.hTLV = null;\n        this.isModified = true;\n      } else {\n        this.hV = null;\n        this.hTLV = asn1Object.getEncodedHex();\n        this.hTLV = this.hTLV.replace(/^../, tagNoHex);\n        this.isModified = false;\n      }\n    };\n\n    this.getFreshValueHex = function () {\n      return this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n      if (typeof params['tag'] != \"undefined\") {\n        this.hT = params['tag'];\n      }\n\n      if (typeof params['explicit'] != \"undefined\") {\n        this.isExplicit = params['explicit'];\n      }\n\n      if (typeof params['obj'] != \"undefined\") {\n        this.asn1Object = params['obj'];\n        this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);\n      }\n    }\n  };\n\n  JSX.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object); // Hex JavaScript decoder\n  // Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n  // Permission to use, copy, modify, and/or distribute this software for any\n  // purpose with or without fee is hereby granted, provided that the above\n  // copyright notice and this permission notice appear in all copies.\n  // \n  // THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n  // WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n  // MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n  // ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n  // WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n  // ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n  // OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n  /*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\n\n  (function (undefined) {\n    \"use strict\";\n\n    var Hex = {},\n        decoder;\n\n    Hex.decode = function (a) {\n      var i;\n\n      if (decoder === undefined) {\n        var hex = \"0123456789ABCDEF\",\n            ignore = \" \\f\\n\\r\\t\\xA0\\u2028\\u2029\";\n        decoder = [];\n\n        for (i = 0; i < 16; ++i) {\n          decoder[hex.charAt(i)] = i;\n        }\n\n        hex = hex.toLowerCase();\n\n        for (i = 10; i < 16; ++i) {\n          decoder[hex.charAt(i)] = i;\n        }\n\n        for (i = 0; i < ignore.length; ++i) {\n          decoder[ignore.charAt(i)] = -1;\n        }\n      }\n\n      var out = [],\n          bits = 0,\n          char_count = 0;\n\n      for (i = 0; i < a.length; ++i) {\n        var c = a.charAt(i);\n        if (c == '=') break;\n        c = decoder[c];\n        if (c == -1) continue;\n        if (c === undefined) throw 'Illegal character at offset ' + i;\n        bits |= c;\n\n        if (++char_count >= 2) {\n          out[out.length] = bits;\n          bits = 0;\n          char_count = 0;\n        } else {\n          bits <<= 4;\n        }\n      }\n\n      if (char_count) throw \"Hex encoding incomplete: 4 bits missing\";\n      return out;\n    }; // export globals\n\n\n    window.Hex = Hex;\n  })(); // Base64 JavaScript decoder\n  // Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n  // Permission to use, copy, modify, and/or distribute this software for any\n  // purpose with or without fee is hereby granted, provided that the above\n  // copyright notice and this permission notice appear in all copies.\n  // \n  // THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n  // WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n  // MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n  // ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n  // WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n  // ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n  // OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n  /*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\n\n\n  (function (undefined) {\n    \"use strict\";\n\n    var Base64 = {},\n        decoder;\n\n    Base64.decode = function (a) {\n      var i;\n\n      if (decoder === undefined) {\n        var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n            ignore = \"= \\f\\n\\r\\t\\xA0\\u2028\\u2029\";\n        decoder = [];\n\n        for (i = 0; i < 64; ++i) {\n          decoder[b64.charAt(i)] = i;\n        }\n\n        for (i = 0; i < ignore.length; ++i) {\n          decoder[ignore.charAt(i)] = -1;\n        }\n      }\n\n      var out = [];\n      var bits = 0,\n          char_count = 0;\n\n      for (i = 0; i < a.length; ++i) {\n        var c = a.charAt(i);\n        if (c == '=') break;\n        c = decoder[c];\n        if (c == -1) continue;\n        if (c === undefined) throw 'Illegal character at offset ' + i;\n        bits |= c;\n\n        if (++char_count >= 4) {\n          out[out.length] = bits >> 16;\n          out[out.length] = bits >> 8 & 0xFF;\n          out[out.length] = bits & 0xFF;\n          bits = 0;\n          char_count = 0;\n        } else {\n          bits <<= 6;\n        }\n      }\n\n      switch (char_count) {\n        case 1:\n          throw \"Base64 encoding incomplete: at least 2 bits missing\";\n\n        case 2:\n          out[out.length] = bits >> 10;\n          break;\n\n        case 3:\n          out[out.length] = bits >> 16;\n          out[out.length] = bits >> 8 & 0xFF;\n          break;\n      }\n\n      return out;\n    };\n\n    Base64.re = /-----BEGIN [^-]+-----([A-Za-z0-9+\\/=\\s]+)-----END [^-]+-----|begin-base64[^\\n]+\\n([A-Za-z0-9+\\/=\\s]+)====/;\n\n    Base64.unarmor = function (a) {\n      var m = Base64.re.exec(a);\n\n      if (m) {\n        if (m[1]) a = m[1];else if (m[2]) a = m[2];else throw \"RegExp out of sync\";\n      }\n\n      return Base64.decode(a);\n    }; // export globals\n\n\n    window.Base64 = Base64;\n  })(); // ASN.1 JavaScript decoder\n  // Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n  // Permission to use, copy, modify, and/or distribute this software for any\n  // purpose with or without fee is hereby granted, provided that the above\n  // copyright notice and this permission notice appear in all copies.\n  // \n  // THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n  // WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n  // MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n  // ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n  // WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n  // ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n  // OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n  /*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\n\n  /*global oids */\n\n\n  (function (undefined) {\n    \"use strict\";\n\n    var hardLimit = 100,\n        ellipsis = \"\\u2026\",\n        DOM = {\n      tag: function tag(tagName, className) {\n        var t = document.createElement(tagName);\n        t.className = className;\n        return t;\n      },\n      text: function text(str) {\n        return document.createTextNode(str);\n      }\n    };\n\n    function Stream(enc, pos) {\n      if (enc instanceof Stream) {\n        this.enc = enc.enc;\n        this.pos = enc.pos;\n      } else {\n        this.enc = enc;\n        this.pos = pos;\n      }\n    }\n\n    Stream.prototype.get = function (pos) {\n      if (pos === undefined) pos = this.pos++;\n      if (pos >= this.enc.length) throw 'Requesting byte offset ' + pos + ' on a stream of length ' + this.enc.length;\n      return this.enc[pos];\n    };\n\n    Stream.prototype.hexDigits = \"0123456789ABCDEF\";\n\n    Stream.prototype.hexByte = function (b) {\n      return this.hexDigits.charAt(b >> 4 & 0xF) + this.hexDigits.charAt(b & 0xF);\n    };\n\n    Stream.prototype.hexDump = function (start, end, raw) {\n      var s = \"\";\n\n      for (var i = start; i < end; ++i) {\n        s += this.hexByte(this.get(i));\n        if (raw !== true) switch (i & 0xF) {\n          case 0x7:\n            s += \"  \";\n            break;\n\n          case 0xF:\n            s += \"\\n\";\n            break;\n\n          default:\n            s += \" \";\n        }\n      }\n\n      return s;\n    };\n\n    Stream.prototype.parseStringISO = function (start, end) {\n      var s = \"\";\n\n      for (var i = start; i < end; ++i) {\n        s += String.fromCharCode(this.get(i));\n      }\n\n      return s;\n    };\n\n    Stream.prototype.parseStringUTF = function (start, end) {\n      var s = \"\";\n\n      for (var i = start; i < end;) {\n        var c = this.get(i++);\n        if (c < 128) s += String.fromCharCode(c);else if (c > 191 && c < 224) s += String.fromCharCode((c & 0x1F) << 6 | this.get(i++) & 0x3F);else s += String.fromCharCode((c & 0x0F) << 12 | (this.get(i++) & 0x3F) << 6 | this.get(i++) & 0x3F);\n      }\n\n      return s;\n    };\n\n    Stream.prototype.parseStringBMP = function (start, end) {\n      var str = \"\";\n\n      for (var i = start; i < end; i += 2) {\n        var high_byte = this.get(i);\n        var low_byte = this.get(i + 1);\n        str += String.fromCharCode((high_byte << 8) + low_byte);\n      }\n\n      return str;\n    };\n\n    Stream.prototype.reTime = /^((?:1[89]|2\\d)?\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/;\n\n    Stream.prototype.parseTime = function (start, end) {\n      var s = this.parseStringISO(start, end),\n          m = this.reTime.exec(s);\n      if (!m) return \"Unrecognized time: \" + s;\n      s = m[1] + \"-\" + m[2] + \"-\" + m[3] + \" \" + m[4];\n\n      if (m[5]) {\n        s += \":\" + m[5];\n\n        if (m[6]) {\n          s += \":\" + m[6];\n          if (m[7]) s += \".\" + m[7];\n        }\n      }\n\n      if (m[8]) {\n        s += \" UTC\";\n\n        if (m[8] != 'Z') {\n          s += m[8];\n          if (m[9]) s += \":\" + m[9];\n        }\n      }\n\n      return s;\n    };\n\n    Stream.prototype.parseInteger = function (start, end) {\n      //TODO support negative numbers\n      var len = end - start;\n\n      if (len > 4) {\n        len <<= 3;\n        var s = this.get(start);\n        if (s === 0) len -= 8;else while (s < 128) {\n          s <<= 1;\n          --len;\n        }\n        return \"(\" + len + \" bit)\";\n      }\n\n      var n = 0;\n\n      for (var i = start; i < end; ++i) {\n        n = n << 8 | this.get(i);\n      }\n\n      return n;\n    };\n\n    Stream.prototype.parseBitString = function (start, end) {\n      var unusedBit = this.get(start),\n          lenBit = (end - start - 1 << 3) - unusedBit,\n          s = \"(\" + lenBit + \" bit)\";\n\n      if (lenBit <= 20) {\n        var skip = unusedBit;\n        s += \" \";\n\n        for (var i = end - 1; i > start; --i) {\n          var b = this.get(i);\n\n          for (var j = skip; j < 8; ++j) {\n            s += b >> j & 1 ? \"1\" : \"0\";\n          }\n\n          skip = 0;\n        }\n      }\n\n      return s;\n    };\n\n    Stream.prototype.parseOctetString = function (start, end) {\n      var len = end - start,\n          s = \"(\" + len + \" byte) \";\n      if (len > hardLimit) end = start + hardLimit;\n\n      for (var i = start; i < end; ++i) {\n        s += this.hexByte(this.get(i));\n      } //TODO: also try Latin1?\n\n\n      if (len > hardLimit) s += ellipsis;\n      return s;\n    };\n\n    Stream.prototype.parseOID = function (start, end) {\n      var s = '',\n          n = 0,\n          bits = 0;\n\n      for (var i = start; i < end; ++i) {\n        var v = this.get(i);\n        n = n << 7 | v & 0x7F;\n        bits += 7;\n\n        if (!(v & 0x80)) {\n          // finished\n          if (s === '') {\n            var m = n < 80 ? n < 40 ? 0 : 1 : 2;\n            s = m + \".\" + (n - m * 40);\n          } else s += \".\" + (bits >= 31 ? \"bigint\" : n);\n\n          n = bits = 0;\n        }\n      }\n\n      return s;\n    };\n\n    function ASN1(stream, header, length, tag, sub) {\n      this.stream = stream;\n      this.header = header;\n      this.length = length;\n      this.tag = tag;\n      this.sub = sub;\n    }\n\n    ASN1.prototype.typeName = function () {\n      if (this.tag === undefined) return \"unknown\";\n      var tagClass = this.tag >> 6,\n          tagConstructed = this.tag >> 5 & 1,\n          tagNumber = this.tag & 0x1F;\n\n      switch (tagClass) {\n        case 0:\n          // universal\n          switch (tagNumber) {\n            case 0x00:\n              return \"EOC\";\n\n            case 0x01:\n              return \"BOOLEAN\";\n\n            case 0x02:\n              return \"INTEGER\";\n\n            case 0x03:\n              return \"BIT_STRING\";\n\n            case 0x04:\n              return \"OCTET_STRING\";\n\n            case 0x05:\n              return \"NULL\";\n\n            case 0x06:\n              return \"OBJECT_IDENTIFIER\";\n\n            case 0x07:\n              return \"ObjectDescriptor\";\n\n            case 0x08:\n              return \"EXTERNAL\";\n\n            case 0x09:\n              return \"REAL\";\n\n            case 0x0A:\n              return \"ENUMERATED\";\n\n            case 0x0B:\n              return \"EMBEDDED_PDV\";\n\n            case 0x0C:\n              return \"UTF8String\";\n\n            case 0x10:\n              return \"SEQUENCE\";\n\n            case 0x11:\n              return \"SET\";\n\n            case 0x12:\n              return \"NumericString\";\n\n            case 0x13:\n              return \"PrintableString\";\n            // ASCII subset\n\n            case 0x14:\n              return \"TeletexString\";\n            // aka T61String\n\n            case 0x15:\n              return \"VideotexString\";\n\n            case 0x16:\n              return \"IA5String\";\n            // ASCII\n\n            case 0x17:\n              return \"UTCTime\";\n\n            case 0x18:\n              return \"GeneralizedTime\";\n\n            case 0x19:\n              return \"GraphicString\";\n\n            case 0x1A:\n              return \"VisibleString\";\n            // ASCII subset\n\n            case 0x1B:\n              return \"GeneralString\";\n\n            case 0x1C:\n              return \"UniversalString\";\n\n            case 0x1E:\n              return \"BMPString\";\n\n            default:\n              return \"Universal_\" + tagNumber.toString(16);\n          }\n\n        case 1:\n          return \"Application_\" + tagNumber.toString(16);\n\n        case 2:\n          return \"[\" + tagNumber + \"]\";\n        // Context\n\n        case 3:\n          return \"Private_\" + tagNumber.toString(16);\n      }\n    };\n\n    ASN1.prototype.reSeemsASCII = /^[ -~]+$/;\n\n    ASN1.prototype.content = function () {\n      if (this.tag === undefined) return null;\n      var tagClass = this.tag >> 6,\n          tagNumber = this.tag & 0x1F,\n          content = this.posContent(),\n          len = Math.abs(this.length);\n\n      if (tagClass !== 0) {\n        // universal\n        if (this.sub !== null) return \"(\" + this.sub.length + \" elem)\"; //TODO: TRY TO PARSE ASCII STRING\n\n        var s = this.stream.parseStringISO(content, content + Math.min(len, hardLimit));\n        if (this.reSeemsASCII.test(s)) return s.substring(0, 2 * hardLimit) + (s.length > 2 * hardLimit ? ellipsis : \"\");else return this.stream.parseOctetString(content, content + len);\n      }\n\n      switch (tagNumber) {\n        case 0x01:\n          // BOOLEAN\n          return this.stream.get(content) === 0 ? \"false\" : \"true\";\n\n        case 0x02:\n          // INTEGER\n          return this.stream.parseInteger(content, content + len);\n\n        case 0x03:\n          // BIT_STRING\n          return this.sub ? \"(\" + this.sub.length + \" elem)\" : this.stream.parseBitString(content, content + len);\n\n        case 0x04:\n          // OCTET_STRING\n          return this.sub ? \"(\" + this.sub.length + \" elem)\" : this.stream.parseOctetString(content, content + len);\n        //case 0x05: // NULL\n\n        case 0x06:\n          // OBJECT_IDENTIFIER\n          return this.stream.parseOID(content, content + len);\n        //case 0x07: // ObjectDescriptor\n        //case 0x08: // EXTERNAL\n        //case 0x09: // REAL\n        //case 0x0A: // ENUMERATED\n        //case 0x0B: // EMBEDDED_PDV\n\n        case 0x10: // SEQUENCE\n\n        case 0x11:\n          // SET\n          return \"(\" + this.sub.length + \" elem)\";\n\n        case 0x0C:\n          // UTF8String\n          return this.stream.parseStringUTF(content, content + len);\n\n        case 0x12: // NumericString\n\n        case 0x13: // PrintableString\n\n        case 0x14: // TeletexString\n\n        case 0x15: // VideotexString\n\n        case 0x16: // IA5String\n        //case 0x19: // GraphicString\n\n        case 0x1A:\n          // VisibleString\n          //case 0x1B: // GeneralString\n          //case 0x1C: // UniversalString\n          return this.stream.parseStringISO(content, content + len);\n\n        case 0x1E:\n          // BMPString\n          return this.stream.parseStringBMP(content, content + len);\n\n        case 0x17: // UTCTime\n\n        case 0x18:\n          // GeneralizedTime\n          return this.stream.parseTime(content, content + len);\n      }\n\n      return null;\n    };\n\n    ASN1.prototype.toString = function () {\n      return this.typeName() + \"@\" + this.stream.pos + \"[header:\" + this.header + \",length:\" + this.length + \",sub:\" + (this.sub === null ? 'null' : this.sub.length) + \"]\";\n    };\n\n    ASN1.prototype.print = function (indent) {\n      if (indent === undefined) indent = '';\n      document.writeln(indent + this);\n\n      if (this.sub !== null) {\n        indent += '  ';\n\n        for (var i = 0, max = this.sub.length; i < max; ++i) {\n          this.sub[i].print(indent);\n        }\n      }\n    };\n\n    ASN1.prototype.toPrettyString = function (indent) {\n      if (indent === undefined) indent = '';\n      var s = indent + this.typeName() + \" @\" + this.stream.pos;\n      if (this.length >= 0) s += \"+\";\n      s += this.length;\n      if (this.tag & 0x20) s += \" (constructed)\";else if ((this.tag == 0x03 || this.tag == 0x04) && this.sub !== null) s += \" (encapsulates)\";\n      s += \"\\n\";\n\n      if (this.sub !== null) {\n        indent += '  ';\n\n        for (var i = 0, max = this.sub.length; i < max; ++i) {\n          s += this.sub[i].toPrettyString(indent);\n        }\n      }\n\n      return s;\n    };\n\n    ASN1.prototype.toDOM = function () {\n      var node = DOM.tag(\"div\", \"node\");\n      node.asn1 = this;\n      var head = DOM.tag(\"div\", \"head\");\n      var s = this.typeName().replace(/_/g, \" \");\n      head.innerHTML = s;\n      var content = this.content();\n\n      if (content !== null) {\n        content = String(content).replace(/</g, \"&lt;\");\n        var preview = DOM.tag(\"span\", \"preview\");\n        preview.appendChild(DOM.text(content));\n        head.appendChild(preview);\n      }\n\n      node.appendChild(head);\n      this.node = node;\n      this.head = head;\n      var value = DOM.tag(\"div\", \"value\");\n      s = \"Offset: \" + this.stream.pos + \"<br/>\";\n      s += \"Length: \" + this.header + \"+\";\n      if (this.length >= 0) s += this.length;else s += -this.length + \" (undefined)\";\n      if (this.tag & 0x20) s += \"<br/>(constructed)\";else if ((this.tag == 0x03 || this.tag == 0x04) && this.sub !== null) s += \"<br/>(encapsulates)\"; //TODO if (this.tag == 0x03) s += \"Unused bits: \"\n\n      if (content !== null) {\n        s += \"<br/>Value:<br/><b>\" + content + \"</b>\";\n\n        if ((typeof oids === \"undefined\" ? \"undefined\" : _typeof(oids)) === 'object' && this.tag == 0x06) {\n          var oid = oids[content];\n\n          if (oid) {\n            if (oid.d) s += \"<br/>\" + oid.d;\n            if (oid.c) s += \"<br/>\" + oid.c;\n            if (oid.w) s += \"<br/>(warning!)\";\n          }\n        }\n      }\n\n      value.innerHTML = s;\n      node.appendChild(value);\n      var sub = DOM.tag(\"div\", \"sub\");\n\n      if (this.sub !== null) {\n        for (var i = 0, max = this.sub.length; i < max; ++i) {\n          sub.appendChild(this.sub[i].toDOM());\n        }\n      }\n\n      node.appendChild(sub);\n\n      head.onclick = function () {\n        node.className = node.className == \"node collapsed\" ? \"node\" : \"node collapsed\";\n      };\n\n      return node;\n    };\n\n    ASN1.prototype.posStart = function () {\n      return this.stream.pos;\n    };\n\n    ASN1.prototype.posContent = function () {\n      return this.stream.pos + this.header;\n    };\n\n    ASN1.prototype.posEnd = function () {\n      return this.stream.pos + this.header + Math.abs(this.length);\n    };\n\n    ASN1.prototype.fakeHover = function (current) {\n      this.node.className += \" hover\";\n      if (current) this.head.className += \" hover\";\n    };\n\n    ASN1.prototype.fakeOut = function (current) {\n      var re = / ?hover/;\n      this.node.className = this.node.className.replace(re, \"\");\n      if (current) this.head.className = this.head.className.replace(re, \"\");\n    };\n\n    ASN1.prototype.toHexDOM_sub = function (node, className, stream, start, end) {\n      if (start >= end) return;\n      var sub = DOM.tag(\"span\", className);\n      sub.appendChild(DOM.text(stream.hexDump(start, end)));\n      node.appendChild(sub);\n    };\n\n    ASN1.prototype.toHexDOM = function (root) {\n      var node = DOM.tag(\"span\", \"hex\");\n      if (root === undefined) root = node;\n      this.head.hexNode = node;\n\n      this.head.onmouseover = function () {\n        this.hexNode.className = \"hexCurrent\";\n      };\n\n      this.head.onmouseout = function () {\n        this.hexNode.className = \"hex\";\n      };\n\n      node.asn1 = this;\n\n      node.onmouseover = function () {\n        var current = !root.selected;\n\n        if (current) {\n          root.selected = this.asn1;\n          this.className = \"hexCurrent\";\n        }\n\n        this.asn1.fakeHover(current);\n      };\n\n      node.onmouseout = function () {\n        var current = root.selected == this.asn1;\n        this.asn1.fakeOut(current);\n\n        if (current) {\n          root.selected = null;\n          this.className = \"hex\";\n        }\n      };\n\n      this.toHexDOM_sub(node, \"tag\", this.stream, this.posStart(), this.posStart() + 1);\n      this.toHexDOM_sub(node, this.length >= 0 ? \"dlen\" : \"ulen\", this.stream, this.posStart() + 1, this.posContent());\n      if (this.sub === null) node.appendChild(DOM.text(this.stream.hexDump(this.posContent(), this.posEnd())));else if (this.sub.length > 0) {\n        var first = this.sub[0];\n        var last = this.sub[this.sub.length - 1];\n        this.toHexDOM_sub(node, \"intro\", this.stream, this.posContent(), first.posStart());\n\n        for (var i = 0, max = this.sub.length; i < max; ++i) {\n          node.appendChild(this.sub[i].toHexDOM(root));\n        }\n\n        this.toHexDOM_sub(node, \"outro\", this.stream, last.posEnd(), this.posEnd());\n      }\n      return node;\n    };\n\n    ASN1.prototype.toHexString = function (root) {\n      return this.stream.hexDump(this.posStart(), this.posEnd(), true);\n    };\n\n    ASN1.decodeLength = function (stream) {\n      var buf = stream.get(),\n          len = buf & 0x7F;\n      if (len == buf) return len;\n      if (len > 3) throw \"Length over 24 bits not supported at position \" + (stream.pos - 1);\n      if (len === 0) return -1; // undefined\n\n      buf = 0;\n\n      for (var i = 0; i < len; ++i) {\n        buf = buf << 8 | stream.get();\n      }\n\n      return buf;\n    };\n\n    ASN1.hasContent = function (tag, len, stream) {\n      if (tag & 0x20) // constructed\n        return true;\n      if (tag < 0x03 || tag > 0x04) return false;\n      var p = new Stream(stream);\n      if (tag == 0x03) p.get(); // BitString unused bits, must be in [0, 7]\n\n      var subTag = p.get();\n      if (subTag >> 6 & 0x01) // not (universal or context)\n        return false;\n\n      try {\n        var subLength = ASN1.decodeLength(p);\n        return p.pos - stream.pos + subLength == len;\n      } catch (exception) {\n        return false;\n      }\n    };\n\n    ASN1.decode = function (stream) {\n      if (!(stream instanceof Stream)) stream = new Stream(stream, 0);\n      var streamStart = new Stream(stream),\n          tag = stream.get(),\n          len = ASN1.decodeLength(stream),\n          header = stream.pos - streamStart.pos,\n          sub = null;\n\n      if (ASN1.hasContent(tag, len, stream)) {\n        // it has content, so we decode it\n        var start = stream.pos;\n        if (tag == 0x03) stream.get(); // skip BitString unused bits, must be in [0, 7]\n\n        sub = [];\n\n        if (len >= 0) {\n          // definite length\n          var end = start + len;\n\n          while (stream.pos < end) {\n            sub[sub.length] = ASN1.decode(stream);\n          }\n\n          if (stream.pos != end) throw \"Content size is not correct for container starting at offset \" + start;\n        } else {\n          // undefined length\n          try {\n            for (;;) {\n              var s = ASN1.decode(stream);\n              if (s.tag === 0) break;\n              sub[sub.length] = s;\n            }\n\n            len = start - stream.pos;\n          } catch (e) {\n            throw \"Exception while decoding undefined length content: \" + e;\n          }\n        }\n      } else stream.pos += len; // skip content\n\n\n      return new ASN1(streamStart, header, len, tag, sub);\n    };\n\n    ASN1.test = function () {\n      var test = [{\n        value: [0x27],\n        expected: 0x27\n      }, {\n        value: [0x81, 0xC9],\n        expected: 0xC9\n      }, {\n        value: [0x83, 0xFE, 0xDC, 0xBA],\n        expected: 0xFEDCBA\n      }];\n\n      for (var i = 0, max = test.length; i < max; ++i) {\n        var pos = 0,\n            stream = new Stream(test[i].value, 0),\n            res = ASN1.decodeLength(stream);\n        if (res != test[i].expected) document.write(\"In test[\" + i + \"] expected \" + test[i].expected + \" got \" + res + \"\\n\");\n      }\n    }; // export globals\n\n\n    window.ASN1 = ASN1;\n  })();\n  /**\r\n  * Retrieve the hexadecimal value (as a string) of the current ASN.1 element\r\n  * @returns {string}\r\n  * @public\r\n  */\n\n\n  ASN1.prototype.getHexStringValue = function () {\n    var hexString = this.toHexString();\n    var offset = this.header * 2;\n    var length = this.length * 2;\n    return hexString.substr(offset, length);\n  };\n  /**\r\n   * Method to parse a pem encoded string containing both a public or private key.\r\n   * The method will translate the pem encoded string in a der encoded string and\r\n   * will parse private key and public key parameters. This method accepts public key\r\n   * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).\r\n   *\r\n   * @todo Check how many rsa formats use the same format of pkcs #1.\r\n   *\r\n   * The format is defined as:\r\n   * PublicKeyInfo ::= SEQUENCE {\r\n   *   algorithm       AlgorithmIdentifier,\r\n   *   PublicKey       BIT STRING\r\n   * }\r\n   * Where AlgorithmIdentifier is:\r\n   * AlgorithmIdentifier ::= SEQUENCE {\r\n   *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\r\n   *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\r\n   * }\r\n   * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\r\n   * RSAPublicKey ::= SEQUENCE {\r\n   *   modulus           INTEGER,  -- n\r\n   *   publicExponent    INTEGER   -- e\r\n   * }\r\n   * it's possible to examine the structure of the keys obtained from openssl using\r\n   * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/\r\n   * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer\r\n   * @private\r\n   */\n\n\n  RSAKey.prototype.parseKey = function (pem) {\n    try {\n      var modulus = 0;\n      var public_exponent = 0;\n      var reHex = /^\\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\\s*)+$/;\n      var der = reHex.test(pem) ? Hex.decode(pem) : Base64.unarmor(pem);\n      var asn1 = ASN1.decode(der); //Fixes a bug with OpenSSL 1.0+ private keys\n\n      if (asn1.sub.length === 3) {\n        asn1 = asn1.sub[2].sub[0];\n      }\n\n      if (asn1.sub.length === 9) {\n        // Parse the private key.\n        modulus = asn1.sub[1].getHexStringValue(); //bigint\n\n        this.n = parseBigInt(modulus, 16);\n        public_exponent = asn1.sub[2].getHexStringValue(); //int\n\n        this.e = parseInt(public_exponent, 16);\n        var private_exponent = asn1.sub[3].getHexStringValue(); //bigint\n\n        this.d = parseBigInt(private_exponent, 16);\n        var prime1 = asn1.sub[4].getHexStringValue(); //bigint\n\n        this.p = parseBigInt(prime1, 16);\n        var prime2 = asn1.sub[5].getHexStringValue(); //bigint\n\n        this.q = parseBigInt(prime2, 16);\n        var exponent1 = asn1.sub[6].getHexStringValue(); //bigint\n\n        this.dmp1 = parseBigInt(exponent1, 16);\n        var exponent2 = asn1.sub[7].getHexStringValue(); //bigint\n\n        this.dmq1 = parseBigInt(exponent2, 16);\n        var coefficient = asn1.sub[8].getHexStringValue(); //bigint\n\n        this.coeff = parseBigInt(coefficient, 16);\n      } else if (asn1.sub.length === 2) {\n        // Parse the public key.\n        var bit_string = asn1.sub[1];\n        var sequence = bit_string.sub[0];\n        modulus = sequence.sub[0].getHexStringValue();\n        this.n = parseBigInt(modulus, 16);\n        public_exponent = sequence.sub[1].getHexStringValue();\n        this.e = parseInt(public_exponent, 16);\n      } else {\n        return false;\n      }\n\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  };\n  /**\r\n   * Translate rsa parameters in a hex encoded string representing the rsa key.\r\n   *\r\n   * The translation follow the ASN.1 notation :\r\n   * RSAPrivateKey ::= SEQUENCE {\r\n   *   version           Version,\r\n   *   modulus           INTEGER,  -- n\r\n   *   publicExponent    INTEGER,  -- e\r\n   *   privateExponent   INTEGER,  -- d\r\n   *   prime1            INTEGER,  -- p\r\n   *   prime2            INTEGER,  -- q\r\n   *   exponent1         INTEGER,  -- d mod (p1)\r\n   *   exponent2         INTEGER,  -- d mod (q-1)\r\n   *   coefficient       INTEGER,  -- (inverse of q) mod p\r\n   * }\r\n   * @returns {string}  DER Encoded String representing the rsa private key\r\n   * @private\r\n   */\n\n\n  RSAKey.prototype.getPrivateBaseKey = function () {\n    var options = {\n      'array': [new KJUR.asn1.DERInteger({\n        'int': 0\n      }), new KJUR.asn1.DERInteger({\n        'bigint': this.n\n      }), new KJUR.asn1.DERInteger({\n        'int': this.e\n      }), new KJUR.asn1.DERInteger({\n        'bigint': this.d\n      }), new KJUR.asn1.DERInteger({\n        'bigint': this.p\n      }), new KJUR.asn1.DERInteger({\n        'bigint': this.q\n      }), new KJUR.asn1.DERInteger({\n        'bigint': this.dmp1\n      }), new KJUR.asn1.DERInteger({\n        'bigint': this.dmq1\n      }), new KJUR.asn1.DERInteger({\n        'bigint': this.coeff\n      })]\n    };\n    var seq = new KJUR.asn1.DERSequence(options);\n    return seq.getEncodedHex();\n  };\n  /**\r\n   * base64 (pem) encoded version of the DER encoded representation\r\n   * @returns {string} pem encoded representation without header and footer\r\n   * @public\r\n   */\n\n\n  RSAKey.prototype.getPrivateBaseKeyB64 = function () {\n    return hex2b64(this.getPrivateBaseKey());\n  };\n  /**\r\n   * Translate rsa parameters in a hex encoded string representing the rsa public key.\r\n   * The representation follow the ASN.1 notation :\r\n   * PublicKeyInfo ::= SEQUENCE {\r\n   *   algorithm       AlgorithmIdentifier,\r\n   *   PublicKey       BIT STRING\r\n   * }\r\n   * Where AlgorithmIdentifier is:\r\n   * AlgorithmIdentifier ::= SEQUENCE {\r\n   *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\r\n   *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\r\n   * }\r\n   * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\r\n   * RSAPublicKey ::= SEQUENCE {\r\n   *   modulus           INTEGER,  -- n\r\n   *   publicExponent    INTEGER   -- e\r\n   * }\r\n   * @returns {string} DER Encoded String representing the rsa public key\r\n   * @private\r\n   */\n\n\n  RSAKey.prototype.getPublicBaseKey = function () {\n    var options = {\n      'array': [new KJUR.asn1.DERObjectIdentifier({\n        'oid': '1.2.840.113549.1.1.1'\n      }), //RSA Encryption pkcs #1 oid\n      new KJUR.asn1.DERNull()]\n    };\n    var first_sequence = new KJUR.asn1.DERSequence(options);\n    options = {\n      'array': [new KJUR.asn1.DERInteger({\n        'bigint': this.n\n      }), new KJUR.asn1.DERInteger({\n        'int': this.e\n      })]\n    };\n    var second_sequence = new KJUR.asn1.DERSequence(options);\n    options = {\n      'hex': '00' + second_sequence.getEncodedHex()\n    };\n    var bit_string = new KJUR.asn1.DERBitString(options);\n    options = {\n      'array': [first_sequence, bit_string]\n    };\n    var seq = new KJUR.asn1.DERSequence(options);\n    return seq.getEncodedHex();\n  };\n  /**\r\n   * base64 (pem) encoded version of the DER encoded representation\r\n   * @returns {string} pem encoded representation without header and footer\r\n   * @public\r\n   */\n\n\n  RSAKey.prototype.getPublicBaseKeyB64 = function () {\n    return hex2b64(this.getPublicBaseKey());\n  };\n  /**\r\n   * wrap the string in block of width chars. The default value for rsa keys is 64\r\n   * characters.\r\n   * @param {string} str the pem encoded string without header and footer\r\n   * @param {Number} [width=64] - the length the string has to be wrapped at\r\n   * @returns {string}\r\n   * @private\r\n   */\n\n\n  RSAKey.prototype.wordwrap = function (str, width) {\n    width = width || 64;\n\n    if (!str) {\n      return str;\n    }\n\n    var regex = '(.{1,' + width + '})( +|$\\n?)|(.{1,' + width + '})';\n    return str.match(RegExp(regex, 'g')).join('\\n');\n  };\n  /**\r\n   * Retrieve the pem encoded private key\r\n   * @returns {string} the pem encoded private key with header/footer\r\n   * @public\r\n   */\n\n\n  RSAKey.prototype.getPrivateKey = function () {\n    var key = \"-----BEGIN RSA PRIVATE KEY-----\\n\";\n    key += this.wordwrap(this.getPrivateBaseKeyB64()) + \"\\n\";\n    key += \"-----END RSA PRIVATE KEY-----\";\n    return key;\n  };\n  /**\r\n   * Retrieve the pem encoded public key\r\n   * @returns {string} the pem encoded public key with header/footer\r\n   * @public\r\n   */\n\n\n  RSAKey.prototype.getPublicKey = function () {\n    var key = \"-----BEGIN PUBLIC KEY-----\\n\";\n    key += this.wordwrap(this.getPublicBaseKeyB64()) + \"\\n\";\n    key += \"-----END PUBLIC KEY-----\";\n    return key;\n  };\n  /**\r\n   * Check if the object contains the necessary parameters to populate the rsa modulus\r\n   * and public exponent parameters.\r\n   * @param {Object} [obj={}] - An object that may contain the two public key\r\n   * parameters\r\n   * @returns {boolean} true if the object contains both the modulus and the public exponent\r\n   * properties (n and e)\r\n   * @todo check for types of n and e. N should be a parseable bigInt object, E should\r\n   * be a parseable integer number\r\n   * @private\r\n   */\n\n\n  RSAKey.prototype.hasPublicKeyProperty = function (obj) {\n    obj = obj || {};\n    return obj.hasOwnProperty('n') && obj.hasOwnProperty('e');\n  };\n  /**\r\n   * Check if the object contains ALL the parameters of an RSA key.\r\n   * @param {Object} [obj={}] - An object that may contain nine rsa key\r\n   * parameters\r\n   * @returns {boolean} true if the object contains all the parameters needed\r\n   * @todo check for types of the parameters all the parameters but the public exponent\r\n   * should be parseable bigint objects, the public exponent should be a parseable integer number\r\n   * @private\r\n   */\n\n\n  RSAKey.prototype.hasPrivateKeyProperty = function (obj) {\n    obj = obj || {};\n    return obj.hasOwnProperty('n') && obj.hasOwnProperty('e') && obj.hasOwnProperty('d') && obj.hasOwnProperty('p') && obj.hasOwnProperty('q') && obj.hasOwnProperty('dmp1') && obj.hasOwnProperty('dmq1') && obj.hasOwnProperty('coeff');\n  };\n  /**\r\n   * Parse the properties of obj in the current rsa object. Obj should AT LEAST\r\n   * include the modulus and public exponent (n, e) parameters.\r\n   * @param {Object} obj - the object containing rsa parameters\r\n   * @private\r\n   */\n\n\n  RSAKey.prototype.parsePropertiesFrom = function (obj) {\n    this.n = obj.n;\n    this.e = obj.e;\n\n    if (obj.hasOwnProperty('d')) {\n      this.d = obj.d;\n      this.p = obj.p;\n      this.q = obj.q;\n      this.dmp1 = obj.dmp1;\n      this.dmq1 = obj.dmq1;\n      this.coeff = obj.coeff;\n    }\n  };\n  /**\r\n   * Create a new JSEncryptRSAKey that extends Tom Wu's RSA key object.\r\n   * This object is just a decorator for parsing the key parameter\r\n   * @param {string|Object} key - The key in string format, or an object containing\r\n   * the parameters needed to build a RSAKey object.\r\n   * @constructor\r\n   */\n\n\n  var JSEncryptRSAKey = function JSEncryptRSAKey(key) {\n    // Call the super constructor.\n    RSAKey.call(this); // If a key key was provided.\n\n    if (key) {\n      // If this is a string...\n      if (typeof key === 'string') {\n        this.parseKey(key);\n      } else if (this.hasPrivateKeyProperty(key) || this.hasPublicKeyProperty(key)) {\n        // Set the values for the key.\n        this.parsePropertiesFrom(key);\n      }\n    }\n  }; // Derive from RSAKey.\n\n\n  JSEncryptRSAKey.prototype = new RSAKey(); // Reset the contructor.\n\n  JSEncryptRSAKey.prototype.constructor = JSEncryptRSAKey;\n  /**\r\n   *\r\n   * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour\r\n   * possible parameters are:\r\n   * - default_key_size        {number}  default: 1024 the key size in bit\r\n   * - default_public_exponent {string}  default: '010001' the hexadecimal representation of the public exponent\r\n   * - log                     {boolean} default: false whether log warn/error or not\r\n   * @constructor\r\n   */\n\n  var JSEncrypt = function JSEncrypt(options) {\n    options = options || {};\n    this.default_key_size = parseInt(options.default_key_size) || 1024;\n    this.default_public_exponent = options.default_public_exponent || '010001'; //65537 default openssl public exponent for rsa key type\n\n    this.log = options.log || false; // The private and public key.\n\n    this.key = null;\n  };\n  /**\r\n   * Method to set the rsa key parameter (one method is enough to set both the public\r\n   * and the private key, since the private key contains the public key paramenters)\r\n   * Log a warning if logs are enabled\r\n   * @param {Object|string} key the pem encoded string or an object (with or without header/footer)\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.setKey = function (key) {\n    if (this.log && this.key) {\n      console.warn('A key was already set, overriding existing.');\n    }\n\n    this.key = new JSEncryptRSAKey(key);\n  };\n  /**\r\n   * Proxy method for setKey, for api compatibility\r\n   * @see setKey\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.setPrivateKey = function (privkey) {\n    // Create the key.\n    this.setKey(privkey);\n  };\n  /**\r\n   * Proxy method for setKey, for api compatibility\r\n   * @see setKey\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.setPublicKey = function (pubkey) {\n    // Sets the public key.\n    this.setKey(pubkey);\n  };\n  /**\r\n   * Proxy method for RSAKey object's decrypt, decrypt the string using the private\r\n   * components of the rsa key object. Note that if the object was not set will be created\r\n   * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\r\n   * @param {string} string base64 encoded crypted string to decrypt\r\n   * @return {string} the decrypted string\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.decrypt = function (string) {\n    // Return the decrypted string.\n    try {\n      return this.getKey().decrypt(b64tohex(string));\n    } catch (ex) {\n      return false;\n    }\n  };\n  /**\r\n   * Proxy method for RSAKey object's encrypt, encrypt the string using the public\r\n   * components of the rsa key object. Note that if the object was not set will be created\r\n   * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\r\n   * @param {string} string the string to encrypt\r\n   * @return {string} the encrypted string encoded in base64\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.encrypt = function (string) {\n    // Return the encrypted string.\n    try {\n      return hex2b64(this.getKey().encrypt(string));\n    } catch (ex) {\n      return false;\n    }\n  };\n  /**\r\n   * Getter for the current JSEncryptRSAKey object. If it doesn't exists a new object\r\n   * will be created and returned\r\n   * @param {callback} [cb] the callback to be called if we want the key to be generated\r\n   * in an async fashion\r\n   * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.getKey = function (cb) {\n    // Only create new if it does not exist.\n    if (!this.key) {\n      // Get a new private key.\n      this.key = new JSEncryptRSAKey();\n\n      if (cb && {}.toString.call(cb) === '[object Function]') {\n        this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);\n        return;\n      } // Generate the key.\n\n\n      this.key.generate(this.default_key_size, this.default_public_exponent);\n    }\n\n    return this.key;\n  };\n  /**\r\n   * Returns the pem encoded representation of the private key\r\n   * If the key doesn't exists a new key will be created\r\n   * @returns {string} pem encoded representation of the private key WITH header and footer\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.getPrivateKey = function () {\n    // Return the private representation of this key.\n    return this.getKey().getPrivateKey();\n  };\n  /**\r\n   * Returns the pem encoded representation of the private key\r\n   * If the key doesn't exists a new key will be created\r\n   * @returns {string} pem encoded representation of the private key WITHOUT header and footer\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.getPrivateKeyB64 = function () {\n    // Return the private representation of this key.\n    return this.getKey().getPrivateBaseKeyB64();\n  };\n  /**\r\n   * Returns the pem encoded representation of the public key\r\n   * If the key doesn't exists a new key will be created\r\n   * @returns {string} pem encoded representation of the public key WITH header and footer\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.getPublicKey = function () {\n    // Return the private representation of this key.\n    return this.getKey().getPublicKey();\n  };\n  /**\r\n   * Returns the pem encoded representation of the public key\r\n   * If the key doesn't exists a new key will be created\r\n   * @returns {string} pem encoded representation of the public key WITHOUT header and footer\r\n   * @public\r\n   */\n\n\n  JSEncrypt.prototype.getPublicKeyB64 = function () {\n    // Return the private representation of this key.\n    return this.getKey().getPublicBaseKeyB64();\n  };\n\n  exports.JSEncrypt = JSEncrypt;\n})(JSEncryptExports);\n\nvar JSEncrypt = JSEncryptExports.JSEncrypt;",{"version":3,"sources":["C:/Users/yif_z/Desktop/DealViewer/src/utils/jsencrypt.js"],"names":["JSEncryptExports","exports","dbits","canary","j_lm","BigInteger","a","b","c","fromNumber","fromString","nbi","am1","i","x","w","j","n","v","Math","floor","am2","xl","xh","l","h","m","am3","navigator","appName","prototype","am","DB","DM","DV","BI_FP","FV","pow","F1","F2","BI_RM","BI_RC","Array","rr","vv","charCodeAt","int2char","charAt","intAt","s","bnpCopyTo","r","t","bnpFromInt","nbv","fromInt","bnpFromString","k","fromRadix","length","mi","sh","clamp","ZERO","subTo","bnpClamp","bnToString","negate","toString","toRadix","km","d","p","bnNegate","bnAbs","bnCompareTo","nbits","bnBitLength","bnpDLShiftTo","bnpDRShiftTo","max","bnpLShiftTo","bs","cbs","bm","ds","bnpRShiftTo","bnpSubTo","min","bnpMultiplyTo","abs","y","bnpSquareTo","bnpDivRemTo","q","pm","pt","copyTo","ts","ms","nsh","lShiftTo","ys","y0","yt","d1","d2","e","dlShiftTo","compareTo","ONE","qd","drShiftTo","rShiftTo","bnMod","divRemTo","Classic","cConvert","mod","cRevert","cReduce","cMulTo","multiplyTo","reduce","cSqrTo","squareTo","convert","revert","mulTo","sqrTo","bnpInvDigit","Montgomery","mp","invDigit","mpl","mph","um","mt2","montConvert","montRevert","montReduce","u0","montSqrTo","montMulTo","bnpIsEven","bnpExp","z","r2","g","bnModPowInt","isEven","exp","bitLength","modPowInt","bnClone","bnIntValue","bnByteValue","bnShortValue","bnpChunkSize","LN2","log","bnSigNum","bnpToRadix","signum","cs","chunkSize","intValue","substr","bnpFromRadix","dMultiply","dAddOffset","bnpFromNumber","testBit","bitwiseTo","shiftLeft","op_or","isProbablePrime","nextBytes","bnToByteArray","bnEquals","bnMin","bnMax","bnpBitwiseTo","op","f","op_and","bnAnd","bnOr","op_xor","bnXor","op_andnot","bnAndNot","bnNot","bnShiftLeft","bnShiftRight","lbit","bnGetLowestSetBit","cbit","bnBitCount","bnTestBit","bnpChangeBit","bnSetBit","changeBit","bnClearBit","bnFlipBit","bnpAddTo","bnAdd","addTo","bnSubtract","bnMultiply","bnSquare","bnDivide","bnRemainder","bnDivideAndRemainder","bnpDMultiply","bnpDAddOffset","NullExp","nNop","nMulTo","nSqrTo","bnPow","bnpMultiplyLowerTo","bnpMultiplyUpperTo","Barrett","q3","mu","divide","barrettConvert","barrettRevert","barrettReduce","multiplyUpperTo","multiplyLowerTo","barrettSqrTo","barrettMulTo","bnModPow","k1","g2","is1","bnGCD","clone","getLowestSetBit","bnpModInt","bnModInverse","ac","u","subtract","add","lowprimes","lplim","bnIsProbablePrime","modInt","millerRabin","bnpMillerRabin","n1","shiftRight","random","modPow","byteValue","shortValue","toByteArray","equals","and","or","xor","andNot","not","bitCount","setBit","clearBit","flipBit","multiply","remainder","divideAndRemainder","modInverse","gcd","square","Arcfour","S","ARC4init","key","ARC4next","init","next","prng_newstate","rng_psize","rng_state","rng_pool","rng_pptr","window","crypto","getRandomValues","Uint32Array","onMouseMoveListener","ev","count","removeEventListener","detachEvent","mouseCoordinates","addEventListener","attachEvent","rng_get_byte","rng_get_bytes","ba","SecureRandom","parseBigInt","str","linebrk","ret","substring","byte2Hex","pkcs1pad2","console","error","rng","RSAKey","dmp1","dmq1","coeff","RSASetPublic","N","E","parseInt","RSADoPublic","RSAEncrypt","text","doPublic","setPublic","encrypt","pkcs1unpad2","String","fromCharCode","RSASetPrivate","D","RSASetPrivateEx","P","Q","DP","DQ","C","RSAGenerate","B","qs","ee","p1","q1","phi","RSADoPrivate","xp","xq","RSADecrypt","ctext","doPrivate","setPrivate","setPrivateEx","generate","decrypt","RSAGenerateAsync","callback","rsa","loop1","loop4","setTimeout","loop3","fromNumberAsync","gcda","loop2","generateAsync","bnGCDAsync","gcda1","bnpFromNumberAsync","bnp","bnpfn1","b64map","b64pad","hex2b64","b64tohex","slop","indexOf","b64toBA","JSX","env","L","OP","Object","FUNCTION_TOSTRING","ADD","parseUA","agent","numberify","parseFloat","replace","nav","o","ie","opera","gecko","webkit","chrome","mobile","air","ipad","iphone","ipod","ios","android","webos","caja","cajaVersion","secure","os","ua","userAgent","loc","location","href","toLowerCase","test","match","isFunction","apply","_IEEnumFix","fname","extend","subc","superc","overrides","Error","F","constructor","superclass","hasOwnProperty","KJUR","asn1","ASN1Util","integerToByteHex","bigIntToMinTwosComplementsHex","bigIntegerValue","hPos","xorLen","hMask","biMask","biNeg","getPEMStringFromHex","dataHex","pemHeader","dataWA","CryptoJS","enc","Hex","parse","dataB64","Base64","stringify","pemBody","ASN1Object","isModified","hTLV","hT","hL","hV","getLengthHexFromValue","hN","hNlen","head","getEncodedHex","getFreshValueHex","getValueHex","DERAbstractString","params","call","getString","setString","newS","stohex","setStringHex","newHexString","DERAbstractTime","date","localDateToUTC","utc","getTime","getTimezoneOffset","utcDate","Date","formatDate","dateObject","type","pad","zeroPadding","year","getFullYear","month","getMonth","day","getDate","hour","getHours","getMinutes","sec","getSeconds","len","join","setByDateValue","UTC","setByDate","DERAbstractStructured","asn1Array","setByASN1ObjectArray","asn1ObjectArray","appendASN1Object","asn1Object","push","DERBoolean","DERInteger","setByBigInteger","setByInteger","bi","setValueHex","DERBitString","setHexValueIncludingUnusedBits","newHexStringIncludingUnusedBits","setUnusedBitsAndHexValue","unusedBits","hValue","hUnusedBits","setByBinaryString","binaryString","setByBooleanArray","booleanArray","newFalseArray","nLength","DEROctetString","DERNull","DERObjectIdentifier","itox","roidtox","roid","padLen","bPad","b8","setValueOidString","oidString","split","i0","splice","setValueName","oidName","x509","OID","name2oidList","oid","DERUTF8String","DERNumericString","DERPrintableString","DERTeletexString","DERIA5String","DERUTCTime","DERGeneralizedTime","DERSequence","asn1Obj","DERSet","sort","DERTaggedObject","isExplicit","setASN1Object","isExplicitFlag","tagNoHex","undefined","decoder","decode","hex","ignore","out","bits","char_count","b64","re","unarmor","exec","hardLimit","ellipsis","DOM","tag","tagName","className","document","createElement","createTextNode","Stream","pos","get","hexDigits","hexByte","hexDump","start","end","raw","parseStringISO","parseStringUTF","parseStringBMP","high_byte","low_byte","reTime","parseTime","parseInteger","parseBitString","unusedBit","lenBit","skip","parseOctetString","parseOID","ASN1","stream","header","sub","typeName","tagClass","tagConstructed","tagNumber","reSeemsASCII","content","posContent","print","indent","writeln","toPrettyString","toDOM","node","innerHTML","preview","appendChild","value","oids","onclick","posStart","posEnd","fakeHover","current","fakeOut","toHexDOM_sub","toHexDOM","root","hexNode","onmouseover","onmouseout","selected","first","last","toHexString","decodeLength","buf","hasContent","subTag","subLength","exception","streamStart","expected","res","write","getHexStringValue","hexString","offset","parseKey","pem","modulus","public_exponent","reHex","der","private_exponent","prime1","prime2","exponent1","exponent2","coefficient","bit_string","sequence","ex","getPrivateBaseKey","options","seq","getPrivateBaseKeyB64","getPublicBaseKey","first_sequence","second_sequence","getPublicBaseKeyB64","wordwrap","width","regex","RegExp","getPrivateKey","getPublicKey","hasPublicKeyProperty","obj","hasPrivateKeyProperty","parsePropertiesFrom","JSEncryptRSAKey","JSEncrypt","default_key_size","default_public_exponent","setKey","warn","setPrivateKey","privkey","setPublicKey","pubkey","string","getKey","cb","getPrivateKeyB64","getPublicKeyB64"],"mappings":"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","sourcesContent":["var JSEncryptExports = {};\r\n(function(exports) {\r\n// Copyright (c) 2005  Tom Wu\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n\r\n// Basic JavaScript BN library - subset useful for RSA encryption.\r\n\r\n// Bits per digit\r\nvar dbits;\r\n\r\n// JavaScript engine analysis\r\nvar canary = 0xdeadbeefcafe;\r\nvar j_lm = ((canary&0xffffff)==0xefcafe);\r\n\r\n// (public) Constructor\r\nfunction BigInteger(a,b,c) {\r\n  if(a != null)\r\n    if(\"number\" == typeof a) this.fromNumber(a,b,c);\r\n    else if(b == null && \"string\" != typeof a) this.fromString(a,256);\r\n    else this.fromString(a,b);\r\n}\r\n\r\n// return new, unset BigInteger\r\nfunction nbi() { return new BigInteger(null); }\r\n\r\n// am: Compute w_j += (x*this_i), propagate carries,\r\n// c is initial carry, returns final carry.\r\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\r\n// We need to select the fastest one that works in this environment.\r\n\r\n// am1: use a single mult and divide to get the high bits,\r\n// max digit bits should be 26 because\r\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\r\nfunction am1(i,x,w,j,c,n) {\r\n  while(--n >= 0) {\r\n    var v = x*this[i++]+w[j]+c;\r\n    c = Math.floor(v/0x4000000);\r\n    w[j++] = v&0x3ffffff;\r\n  }\r\n  return c;\r\n}\r\n// am2 avoids a big mult-and-extract completely.\r\n// Max digit bits should be <= 30 because we do bitwise ops\r\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\r\nfunction am2(i,x,w,j,c,n) {\r\n  var xl = x&0x7fff, xh = x>>15;\r\n  while(--n >= 0) {\r\n    var l = this[i]&0x7fff;\r\n    var h = this[i++]>>15;\r\n    var m = xh*l+h*xl;\r\n    l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);\r\n    c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);\r\n    w[j++] = l&0x3fffffff;\r\n  }\r\n  return c;\r\n}\r\n// Alternately, set max digit bits to 28 since some\r\n// browsers slow down when dealing with 32-bit numbers.\r\nfunction am3(i,x,w,j,c,n) {\r\n  var xl = x&0x3fff, xh = x>>14;\r\n  while(--n >= 0) {\r\n    var l = this[i]&0x3fff;\r\n    var h = this[i++]>>14;\r\n    var m = xh*l+h*xl;\r\n    l = xl*l+((m&0x3fff)<<14)+w[j]+c;\r\n    c = (l>>28)+(m>>14)+xh*h;\r\n    w[j++] = l&0xfffffff;\r\n  }\r\n  return c;\r\n}\r\nif(j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\r\n  BigInteger.prototype.am = am2;\r\n  dbits = 30;\r\n}\r\nelse if(j_lm && (navigator.appName != \"Netscape\")) {\r\n  BigInteger.prototype.am = am1;\r\n  dbits = 26;\r\n}\r\nelse { // Mozilla/Netscape seems to prefer am3\r\n  BigInteger.prototype.am = am3;\r\n  dbits = 28;\r\n}\r\n\r\nBigInteger.prototype.DB = dbits;\r\nBigInteger.prototype.DM = ((1<<dbits)-1);\r\nBigInteger.prototype.DV = (1<<dbits);\r\n\r\nvar BI_FP = 52;\r\nBigInteger.prototype.FV = Math.pow(2,BI_FP);\r\nBigInteger.prototype.F1 = BI_FP-dbits;\r\nBigInteger.prototype.F2 = 2*dbits-BI_FP;\r\n\r\n// Digit conversions\r\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\nvar BI_RC = new Array();\r\nvar rr,vv;\r\nrr = \"0\".charCodeAt(0);\r\nfor(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\r\nrr = \"a\".charCodeAt(0);\r\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\nrr = \"A\".charCodeAt(0);\r\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\n\r\nfunction int2char(n) { return BI_RM.charAt(n); }\r\nfunction intAt(s,i) {\r\n  var c = BI_RC[s.charCodeAt(i)];\r\n  return (c==null)?-1:c;\r\n}\r\n\r\n// (protected) copy this to r\r\nfunction bnpCopyTo(r) {\r\n  for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\r\n  r.t = this.t;\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) set from integer value x, -DV <= x < DV\r\nfunction bnpFromInt(x) {\r\n  this.t = 1;\r\n  this.s = (x<0)?-1:0;\r\n  if(x > 0) this[0] = x;\r\n  else if(x < -1) this[0] = x+this.DV;\r\n  else this.t = 0;\r\n}\r\n\r\n// return bigint initialized to value\r\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\r\n\r\n// (protected) set from string and radix\r\nfunction bnpFromString(s,b) {\r\n  var k;\r\n  if(b == 16) k = 4;\r\n  else if(b == 8) k = 3;\r\n  else if(b == 256) k = 8; // byte array\r\n  else if(b == 2) k = 1;\r\n  else if(b == 32) k = 5;\r\n  else if(b == 4) k = 2;\r\n  else { this.fromRadix(s,b); return; }\r\n  this.t = 0;\r\n  this.s = 0;\r\n  var i = s.length, mi = false, sh = 0;\r\n  while(--i >= 0) {\r\n    var x = (k==8)?s[i]&0xff:intAt(s,i);\r\n    if(x < 0) {\r\n      if(s.charAt(i) == \"-\") mi = true;\r\n      continue;\r\n    }\r\n    mi = false;\r\n    if(sh == 0)\r\n      this[this.t++] = x;\r\n    else if(sh+k > this.DB) {\r\n      this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\r\n      this[this.t++] = (x>>(this.DB-sh));\r\n    }\r\n    else\r\n      this[this.t-1] |= x<<sh;\r\n    sh += k;\r\n    if(sh >= this.DB) sh -= this.DB;\r\n  }\r\n  if(k == 8 && (s[0]&0x80) != 0) {\r\n    this.s = -1;\r\n    if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\r\n  }\r\n  this.clamp();\r\n  if(mi) BigInteger.ZERO.subTo(this,this);\r\n}\r\n\r\n// (protected) clamp off excess high words\r\nfunction bnpClamp() {\r\n  var c = this.s&this.DM;\r\n  while(this.t > 0 && this[this.t-1] == c) --this.t;\r\n}\r\n\r\n// (public) return string representation in given radix\r\nfunction bnToString(b) {\r\n  if(this.s < 0) return \"-\"+this.negate().toString(b);\r\n  var k;\r\n  if(b == 16) k = 4;\r\n  else if(b == 8) k = 3;\r\n  else if(b == 2) k = 1;\r\n  else if(b == 32) k = 5;\r\n  else if(b == 4) k = 2;\r\n  else return this.toRadix(b);\r\n  var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\r\n  var p = this.DB-(i*this.DB)%k;\r\n  if(i-- > 0) {\r\n    if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\r\n    while(i >= 0) {\r\n      if(p < k) {\r\n        d = (this[i]&((1<<p)-1))<<(k-p);\r\n        d |= this[--i]>>(p+=this.DB-k);\r\n      }\r\n      else {\r\n        d = (this[i]>>(p-=k))&km;\r\n        if(p <= 0) { p += this.DB; --i; }\r\n      }\r\n      if(d > 0) m = true;\r\n      if(m) r += int2char(d);\r\n    }\r\n  }\r\n  return m?r:\"0\";\r\n}\r\n\r\n// (public) -this\r\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\r\n\r\n// (public) |this|\r\nfunction bnAbs() { return (this.s<0)?this.negate():this; }\r\n\r\n// (public) return + if this > a, - if this < a, 0 if equal\r\nfunction bnCompareTo(a) {\r\n  var r = this.s-a.s;\r\n  if(r != 0) return r;\r\n  var i = this.t;\r\n  r = i-a.t;\r\n  if(r != 0) return (this.s<0)?-r:r;\r\n  while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\r\n  return 0;\r\n}\r\n\r\n// returns bit length of the integer x\r\nfunction nbits(x) {\r\n  var r = 1, t;\r\n  if((t=x>>>16) != 0) { x = t; r += 16; }\r\n  if((t=x>>8) != 0) { x = t; r += 8; }\r\n  if((t=x>>4) != 0) { x = t; r += 4; }\r\n  if((t=x>>2) != 0) { x = t; r += 2; }\r\n  if((t=x>>1) != 0) { x = t; r += 1; }\r\n  return r;\r\n}\r\n\r\n// (public) return the number of bits in \"this\"\r\nfunction bnBitLength() {\r\n  if(this.t <= 0) return 0;\r\n  return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\r\n}\r\n\r\n// (protected) r = this << n*DB\r\nfunction bnpDLShiftTo(n,r) {\r\n  var i;\r\n  for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\r\n  for(i = n-1; i >= 0; --i) r[i] = 0;\r\n  r.t = this.t+n;\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) r = this >> n*DB\r\nfunction bnpDRShiftTo(n,r) {\r\n  for(var i = n; i < this.t; ++i) r[i-n] = this[i];\r\n  r.t = Math.max(this.t-n,0);\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) r = this << n\r\nfunction bnpLShiftTo(n,r) {\r\n  var bs = n%this.DB;\r\n  var cbs = this.DB-bs;\r\n  var bm = (1<<cbs)-1;\r\n  var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\r\n  for(i = this.t-1; i >= 0; --i) {\r\n    r[i+ds+1] = (this[i]>>cbs)|c;\r\n    c = (this[i]&bm)<<bs;\r\n  }\r\n  for(i = ds-1; i >= 0; --i) r[i] = 0;\r\n  r[ds] = c;\r\n  r.t = this.t+ds+1;\r\n  r.s = this.s;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this >> n\r\nfunction bnpRShiftTo(n,r) {\r\n  r.s = this.s;\r\n  var ds = Math.floor(n/this.DB);\r\n  if(ds >= this.t) { r.t = 0; return; }\r\n  var bs = n%this.DB;\r\n  var cbs = this.DB-bs;\r\n  var bm = (1<<bs)-1;\r\n  r[0] = this[ds]>>bs;\r\n  for(var i = ds+1; i < this.t; ++i) {\r\n    r[i-ds-1] |= (this[i]&bm)<<cbs;\r\n    r[i-ds] = this[i]>>bs;\r\n  }\r\n  if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\r\n  r.t = this.t-ds;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this - a\r\nfunction bnpSubTo(a,r) {\r\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\r\n  while(i < m) {\r\n    c += this[i]-a[i];\r\n    r[i++] = c&this.DM;\r\n    c >>= this.DB;\r\n  }\r\n  if(a.t < this.t) {\r\n    c -= a.s;\r\n    while(i < this.t) {\r\n      c += this[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += this.s;\r\n  }\r\n  else {\r\n    c += this.s;\r\n    while(i < a.t) {\r\n      c -= a[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c -= a.s;\r\n  }\r\n  r.s = (c<0)?-1:0;\r\n  if(c < -1) r[i++] = this.DV+c;\r\n  else if(c > 0) r[i++] = c;\r\n  r.t = i;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this * a, r != this,a (HAC 14.12)\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyTo(a,r) {\r\n  var x = this.abs(), y = a.abs();\r\n  var i = x.t;\r\n  r.t = i+y.t;\r\n  while(--i >= 0) r[i] = 0;\r\n  for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\r\n  r.s = 0;\r\n  r.clamp();\r\n  if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\r\n}\r\n\r\n// (protected) r = this^2, r != this (HAC 14.16)\r\nfunction bnpSquareTo(r) {\r\n  var x = this.abs();\r\n  var i = r.t = 2*x.t;\r\n  while(--i >= 0) r[i] = 0;\r\n  for(i = 0; i < x.t-1; ++i) {\r\n    var c = x.am(i,x[i],r,2*i,0,1);\r\n    if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\r\n      r[i+x.t] -= x.DV;\r\n      r[i+x.t+1] = 1;\r\n    }\r\n  }\r\n  if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\r\n  r.s = 0;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\r\n// r != q, this != m.  q or r may be null.\r\nfunction bnpDivRemTo(m,q,r) {\r\n  var pm = m.abs();\r\n  if(pm.t <= 0) return;\r\n  var pt = this.abs();\r\n  if(pt.t < pm.t) {\r\n    if(q != null) q.fromInt(0);\r\n    if(r != null) this.copyTo(r);\r\n    return;\r\n  }\r\n  if(r == null) r = nbi();\r\n  var y = nbi(), ts = this.s, ms = m.s;\r\n  var nsh = this.DB-nbits(pm[pm.t-1]);\t// normalize modulus\r\n  if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\r\n  else { pm.copyTo(y); pt.copyTo(r); }\r\n  var ys = y.t;\r\n  var y0 = y[ys-1];\r\n  if(y0 == 0) return;\r\n  var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\r\n  var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\r\n  var i = r.t, j = i-ys, t = (q==null)?nbi():q;\r\n  y.dlShiftTo(j,t);\r\n  if(r.compareTo(t) >= 0) {\r\n    r[r.t++] = 1;\r\n    r.subTo(t,r);\r\n  }\r\n  BigInteger.ONE.dlShiftTo(ys,t);\r\n  t.subTo(y,y);\t// \"negative\" y so we can replace sub with am later\r\n  while(y.t < ys) y[y.t++] = 0;\r\n  while(--j >= 0) {\r\n    // Estimate quotient digit\r\n    var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\r\n    if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {\t// Try it out\r\n      y.dlShiftTo(j,t);\r\n      r.subTo(t,r);\r\n      while(r[i] < --qd) r.subTo(t,r);\r\n    }\r\n  }\r\n  if(q != null) {\r\n    r.drShiftTo(ys,q);\r\n    if(ts != ms) BigInteger.ZERO.subTo(q,q);\r\n  }\r\n  r.t = ys;\r\n  r.clamp();\r\n  if(nsh > 0) r.rShiftTo(nsh,r);\t// Denormalize remainder\r\n  if(ts < 0) BigInteger.ZERO.subTo(r,r);\r\n}\r\n\r\n// (public) this mod a\r\nfunction bnMod(a) {\r\n  var r = nbi();\r\n  this.abs().divRemTo(a,null,r);\r\n  if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\r\n  return r;\r\n}\r\n\r\n// Modular reduction using \"classic\" algorithm\r\nfunction Classic(m) { this.m = m; }\r\nfunction cConvert(x) {\r\n  if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\r\n  else return x;\r\n}\r\nfunction cRevert(x) { return x; }\r\nfunction cReduce(x) { x.divRemTo(this.m,null,x); }\r\nfunction cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\r\nfunction cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\r\n\r\nClassic.prototype.convert = cConvert;\r\nClassic.prototype.revert = cRevert;\r\nClassic.prototype.reduce = cReduce;\r\nClassic.prototype.mulTo = cMulTo;\r\nClassic.prototype.sqrTo = cSqrTo;\r\n\r\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\r\n// justification:\r\n//         xy == 1 (mod m)\r\n//         xy =  1+km\r\n//   xy(2-xy) = (1+km)(1-km)\r\n// x[y(2-xy)] = 1-k^2m^2\r\n// x[y(2-xy)] == 1 (mod m^2)\r\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\r\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\r\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\r\nfunction bnpInvDigit() {\r\n  if(this.t < 1) return 0;\r\n  var x = this[0];\r\n  if((x&1) == 0) return 0;\r\n  var y = x&3;\t\t// y == 1/x mod 2^2\r\n  y = (y*(2-(x&0xf)*y))&0xf;\t// y == 1/x mod 2^4\r\n  y = (y*(2-(x&0xff)*y))&0xff;\t// y == 1/x mod 2^8\r\n  y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;\t// y == 1/x mod 2^16\r\n  // last step - calculate inverse mod DV directly;\r\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\r\n  y = (y*(2-x*y%this.DV))%this.DV;\t\t// y == 1/x mod 2^dbits\r\n  // we really want the negative inverse, and -DV < y < DV\r\n  return (y>0)?this.DV-y:-y;\r\n}\r\n\r\n// Montgomery reduction\r\nfunction Montgomery(m) {\r\n  this.m = m;\r\n  this.mp = m.invDigit();\r\n  this.mpl = this.mp&0x7fff;\r\n  this.mph = this.mp>>15;\r\n  this.um = (1<<(m.DB-15))-1;\r\n  this.mt2 = 2*m.t;\r\n}\r\n\r\n// xR mod m\r\nfunction montConvert(x) {\r\n  var r = nbi();\r\n  x.abs().dlShiftTo(this.m.t,r);\r\n  r.divRemTo(this.m,null,r);\r\n  if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\r\n  return r;\r\n}\r\n\r\n// x/R mod m\r\nfunction montRevert(x) {\r\n  var r = nbi();\r\n  x.copyTo(r);\r\n  this.reduce(r);\r\n  return r;\r\n}\r\n\r\n// x = x/R mod m (HAC 14.32)\r\nfunction montReduce(x) {\r\n  while(x.t <= this.mt2)\t// pad x so am has enough room later\r\n    x[x.t++] = 0;\r\n  for(var i = 0; i < this.m.t; ++i) {\r\n    // faster way of calculating u0 = x[i]*mp mod DV\r\n    var j = x[i]&0x7fff;\r\n    var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\r\n    // use am to combine the multiply-shift-add into one call\r\n    j = i+this.m.t;\r\n    x[j] += this.m.am(0,u0,x,i,0,this.m.t);\r\n    // propagate carry\r\n    while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\r\n  }\r\n  x.clamp();\r\n  x.drShiftTo(this.m.t,x);\r\n  if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\r\n}\r\n\r\n// r = \"x^2/R mod m\"; x != r\r\nfunction montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\r\n\r\n// r = \"xy/R mod m\"; x,y != r\r\nfunction montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\r\n\r\nMontgomery.prototype.convert = montConvert;\r\nMontgomery.prototype.revert = montRevert;\r\nMontgomery.prototype.reduce = montReduce;\r\nMontgomery.prototype.mulTo = montMulTo;\r\nMontgomery.prototype.sqrTo = montSqrTo;\r\n\r\n// (protected) true iff this is even\r\nfunction bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\r\n\r\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\r\nfunction bnpExp(e,z) {\r\n  if(e > 0xffffffff || e < 1) return BigInteger.ONE;\r\n  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\r\n  g.copyTo(r);\r\n  while(--i >= 0) {\r\n    z.sqrTo(r,r2);\r\n    if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\r\n    else { var t = r; r = r2; r2 = t; }\r\n  }\r\n  return z.revert(r);\r\n}\r\n\r\n// (public) this^e % m, 0 <= e < 2^32\r\nfunction bnModPowInt(e,m) {\r\n  var z;\r\n  if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\r\n  return this.exp(e,z);\r\n}\r\n\r\n// protected\r\nBigInteger.prototype.copyTo = bnpCopyTo;\r\nBigInteger.prototype.fromInt = bnpFromInt;\r\nBigInteger.prototype.fromString = bnpFromString;\r\nBigInteger.prototype.clamp = bnpClamp;\r\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\r\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\r\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\r\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\r\nBigInteger.prototype.subTo = bnpSubTo;\r\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\r\nBigInteger.prototype.squareTo = bnpSquareTo;\r\nBigInteger.prototype.divRemTo = bnpDivRemTo;\r\nBigInteger.prototype.invDigit = bnpInvDigit;\r\nBigInteger.prototype.isEven = bnpIsEven;\r\nBigInteger.prototype.exp = bnpExp;\r\n\r\n// public\r\nBigInteger.prototype.toString = bnToString;\r\nBigInteger.prototype.negate = bnNegate;\r\nBigInteger.prototype.abs = bnAbs;\r\nBigInteger.prototype.compareTo = bnCompareTo;\r\nBigInteger.prototype.bitLength = bnBitLength;\r\nBigInteger.prototype.mod = bnMod;\r\nBigInteger.prototype.modPowInt = bnModPowInt;\r\n\r\n// \"constants\"\r\nBigInteger.ZERO = nbv(0);\r\nBigInteger.ONE = nbv(1);\r\n// Copyright (c) 2005-2009  Tom Wu\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n\r\n// Extended JavaScript BN functions, required for RSA private ops.\r\n\r\n// Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\r\n// Version 1.2: square() API, isProbablePrime fix\r\n\r\n// (public)\r\nfunction bnClone() { var r = nbi(); this.copyTo(r); return r; }\r\n\r\n// (public) return value as integer\r\nfunction bnIntValue() {\r\n  if(this.s < 0) {\r\n    if(this.t == 1) return this[0]-this.DV;\r\n    else if(this.t == 0) return -1;\r\n  }\r\n  else if(this.t == 1) return this[0];\r\n  else if(this.t == 0) return 0;\r\n  // assumes 16 < DB < 32\r\n  return ((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0];\r\n}\r\n\r\n// (public) return value as byte\r\nfunction bnByteValue() { return (this.t==0)?this.s:(this[0]<<24)>>24; }\r\n\r\n// (public) return value as short (assumes DB>=16)\r\nfunction bnShortValue() { return (this.t==0)?this.s:(this[0]<<16)>>16; }\r\n\r\n// (protected) return x s.t. r^x < DV\r\nfunction bnpChunkSize(r) { return Math.floor(Math.LN2*this.DB/Math.log(r)); }\r\n\r\n// (public) 0 if this == 0, 1 if this > 0\r\nfunction bnSigNum() {\r\n  if(this.s < 0) return -1;\r\n  else if(this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\r\n  else return 1;\r\n}\r\n\r\n// (protected) convert to radix string\r\nfunction bnpToRadix(b) {\r\n  if(b == null) b = 10;\r\n  if(this.signum() == 0 || b < 2 || b > 36) return \"0\";\r\n  var cs = this.chunkSize(b);\r\n  var a = Math.pow(b,cs);\r\n  var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\r\n  this.divRemTo(d,y,z);\r\n  while(y.signum() > 0) {\r\n    r = (a+z.intValue()).toString(b).substr(1) + r;\r\n    y.divRemTo(d,y,z);\r\n  }\r\n  return z.intValue().toString(b) + r;\r\n}\r\n\r\n// (protected) convert from radix string\r\nfunction bnpFromRadix(s,b) {\r\n  this.fromInt(0);\r\n  if(b == null) b = 10;\r\n  var cs = this.chunkSize(b);\r\n  var d = Math.pow(b,cs), mi = false, j = 0, w = 0;\r\n  for(var i = 0; i < s.length; ++i) {\r\n    var x = intAt(s,i);\r\n    if(x < 0) {\r\n      if(s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\r\n      continue;\r\n    }\r\n    w = b*w+x;\r\n    if(++j >= cs) {\r\n      this.dMultiply(d);\r\n      this.dAddOffset(w,0);\r\n      j = 0;\r\n      w = 0;\r\n    }\r\n  }\r\n  if(j > 0) {\r\n    this.dMultiply(Math.pow(b,j));\r\n    this.dAddOffset(w,0);\r\n  }\r\n  if(mi) BigInteger.ZERO.subTo(this,this);\r\n}\r\n\r\n// (protected) alternate constructor\r\nfunction bnpFromNumber(a,b,c) {\r\n  if(\"number\" == typeof b) {\r\n    // new BigInteger(int,int,RNG)\r\n    if(a < 2) this.fromInt(1);\r\n    else {\r\n      this.fromNumber(a,c);\r\n      if(!this.testBit(a-1))\t// force MSB set\r\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\r\n      if(this.isEven()) this.dAddOffset(1,0); // force odd\r\n      while(!this.isProbablePrime(b)) {\r\n        this.dAddOffset(2,0);\r\n        if(this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a-1),this);\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    // new BigInteger(int,RNG)\r\n    var x = new Array(), t = a&7;\r\n    x.length = (a>>3)+1;\r\n    b.nextBytes(x);\r\n    if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\r\n    this.fromString(x,256);\r\n  }\r\n}\r\n\r\n// (public) convert to bigendian byte array\r\nfunction bnToByteArray() {\r\n  var i = this.t, r = new Array();\r\n  r[0] = this.s;\r\n  var p = this.DB-(i*this.DB)%8, d, k = 0;\r\n  if(i-- > 0) {\r\n    if(p < this.DB && (d = this[i]>>p) != (this.s&this.DM)>>p)\r\n      r[k++] = d|(this.s<<(this.DB-p));\r\n    while(i >= 0) {\r\n      if(p < 8) {\r\n        d = (this[i]&((1<<p)-1))<<(8-p);\r\n        d |= this[--i]>>(p+=this.DB-8);\r\n      }\r\n      else {\r\n        d = (this[i]>>(p-=8))&0xff;\r\n        if(p <= 0) { p += this.DB; --i; }\r\n      }\r\n      if((d&0x80) != 0) d |= -256;\r\n      if(k == 0 && (this.s&0x80) != (d&0x80)) ++k;\r\n      if(k > 0 || d != this.s) r[k++] = d;\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nfunction bnEquals(a) { return(this.compareTo(a)==0); }\r\nfunction bnMin(a) { return(this.compareTo(a)<0)?this:a; }\r\nfunction bnMax(a) { return(this.compareTo(a)>0)?this:a; }\r\n\r\n// (protected) r = this op a (bitwise)\r\nfunction bnpBitwiseTo(a,op,r) {\r\n  var i, f, m = Math.min(a.t,this.t);\r\n  for(i = 0; i < m; ++i) r[i] = op(this[i],a[i]);\r\n  if(a.t < this.t) {\r\n    f = a.s&this.DM;\r\n    for(i = m; i < this.t; ++i) r[i] = op(this[i],f);\r\n    r.t = this.t;\r\n  }\r\n  else {\r\n    f = this.s&this.DM;\r\n    for(i = m; i < a.t; ++i) r[i] = op(f,a[i]);\r\n    r.t = a.t;\r\n  }\r\n  r.s = op(this.s,a.s);\r\n  r.clamp();\r\n}\r\n\r\n// (public) this & a\r\nfunction op_and(x,y) { return x&y; }\r\nfunction bnAnd(a) { var r = nbi(); this.bitwiseTo(a,op_and,r); return r; }\r\n\r\n// (public) this | a\r\nfunction op_or(x,y) { return x|y; }\r\nfunction bnOr(a) { var r = nbi(); this.bitwiseTo(a,op_or,r); return r; }\r\n\r\n// (public) this ^ a\r\nfunction op_xor(x,y) { return x^y; }\r\nfunction bnXor(a) { var r = nbi(); this.bitwiseTo(a,op_xor,r); return r; }\r\n\r\n// (public) this & ~a\r\nfunction op_andnot(x,y) { return x&~y; }\r\nfunction bnAndNot(a) { var r = nbi(); this.bitwiseTo(a,op_andnot,r); return r; }\r\n\r\n// (public) ~this\r\nfunction bnNot() {\r\n  var r = nbi();\r\n  for(var i = 0; i < this.t; ++i) r[i] = this.DM&~this[i];\r\n  r.t = this.t;\r\n  r.s = ~this.s;\r\n  return r;\r\n}\r\n\r\n// (public) this << n\r\nfunction bnShiftLeft(n) {\r\n  var r = nbi();\r\n  if(n < 0) this.rShiftTo(-n,r); else this.lShiftTo(n,r);\r\n  return r;\r\n}\r\n\r\n// (public) this >> n\r\nfunction bnShiftRight(n) {\r\n  var r = nbi();\r\n  if(n < 0) this.lShiftTo(-n,r); else this.rShiftTo(n,r);\r\n  return r;\r\n}\r\n\r\n// return index of lowest 1-bit in x, x < 2^31\r\nfunction lbit(x) {\r\n  if(x == 0) return -1;\r\n  var r = 0;\r\n  if((x&0xffff) == 0) { x >>= 16; r += 16; }\r\n  if((x&0xff) == 0) { x >>= 8; r += 8; }\r\n  if((x&0xf) == 0) { x >>= 4; r += 4; }\r\n  if((x&3) == 0) { x >>= 2; r += 2; }\r\n  if((x&1) == 0) ++r;\r\n  return r;\r\n}\r\n\r\n// (public) returns index of lowest 1-bit (or -1 if none)\r\nfunction bnGetLowestSetBit() {\r\n  for(var i = 0; i < this.t; ++i)\r\n    if(this[i] != 0) return i*this.DB+lbit(this[i]);\r\n  if(this.s < 0) return this.t*this.DB;\r\n  return -1;\r\n}\r\n\r\n// return number of 1 bits in x\r\nfunction cbit(x) {\r\n  var r = 0;\r\n  while(x != 0) { x &= x-1; ++r; }\r\n  return r;\r\n}\r\n\r\n// (public) return number of set bits\r\nfunction bnBitCount() {\r\n  var r = 0, x = this.s&this.DM;\r\n  for(var i = 0; i < this.t; ++i) r += cbit(this[i]^x);\r\n  return r;\r\n}\r\n\r\n// (public) true iff nth bit is set\r\nfunction bnTestBit(n) {\r\n  var j = Math.floor(n/this.DB);\r\n  if(j >= this.t) return(this.s!=0);\r\n  return((this[j]&(1<<(n%this.DB)))!=0);\r\n}\r\n\r\n// (protected) this op (1<<n)\r\nfunction bnpChangeBit(n,op) {\r\n  var r = BigInteger.ONE.shiftLeft(n);\r\n  this.bitwiseTo(r,op,r);\r\n  return r;\r\n}\r\n\r\n// (public) this | (1<<n)\r\nfunction bnSetBit(n) { return this.changeBit(n,op_or); }\r\n\r\n// (public) this & ~(1<<n)\r\nfunction bnClearBit(n) { return this.changeBit(n,op_andnot); }\r\n\r\n// (public) this ^ (1<<n)\r\nfunction bnFlipBit(n) { return this.changeBit(n,op_xor); }\r\n\r\n// (protected) r = this + a\r\nfunction bnpAddTo(a,r) {\r\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\r\n  while(i < m) {\r\n    c += this[i]+a[i];\r\n    r[i++] = c&this.DM;\r\n    c >>= this.DB;\r\n  }\r\n  if(a.t < this.t) {\r\n    c += a.s;\r\n    while(i < this.t) {\r\n      c += this[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += this.s;\r\n  }\r\n  else {\r\n    c += this.s;\r\n    while(i < a.t) {\r\n      c += a[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += a.s;\r\n  }\r\n  r.s = (c<0)?-1:0;\r\n  if(c > 0) r[i++] = c;\r\n  else if(c < -1) r[i++] = this.DV+c;\r\n  r.t = i;\r\n  r.clamp();\r\n}\r\n\r\n// (public) this + a\r\nfunction bnAdd(a) { var r = nbi(); this.addTo(a,r); return r; }\r\n\r\n// (public) this - a\r\nfunction bnSubtract(a) { var r = nbi(); this.subTo(a,r); return r; }\r\n\r\n// (public) this * a\r\nfunction bnMultiply(a) { var r = nbi(); this.multiplyTo(a,r); return r; }\r\n\r\n// (public) this^2\r\nfunction bnSquare() { var r = nbi(); this.squareTo(r); return r; }\r\n\r\n// (public) this / a\r\nfunction bnDivide(a) { var r = nbi(); this.divRemTo(a,r,null); return r; }\r\n\r\n// (public) this % a\r\nfunction bnRemainder(a) { var r = nbi(); this.divRemTo(a,null,r); return r; }\r\n\r\n// (public) [this/a,this%a]\r\nfunction bnDivideAndRemainder(a) {\r\n  var q = nbi(), r = nbi();\r\n  this.divRemTo(a,q,r);\r\n  return new Array(q,r);\r\n}\r\n\r\n// (protected) this *= n, this >= 0, 1 < n < DV\r\nfunction bnpDMultiply(n) {\r\n  this[this.t] = this.am(0,n-1,this,0,0,this.t);\r\n  ++this.t;\r\n  this.clamp();\r\n}\r\n\r\n// (protected) this += n << w words, this >= 0\r\nfunction bnpDAddOffset(n,w) {\r\n  if(n == 0) return;\r\n  while(this.t <= w) this[this.t++] = 0;\r\n  this[w] += n;\r\n  while(this[w] >= this.DV) {\r\n    this[w] -= this.DV;\r\n    if(++w >= this.t) this[this.t++] = 0;\r\n    ++this[w];\r\n  }\r\n}\r\n\r\n// A \"null\" reducer\r\nfunction NullExp() {}\r\nfunction nNop(x) { return x; }\r\nfunction nMulTo(x,y,r) { x.multiplyTo(y,r); }\r\nfunction nSqrTo(x,r) { x.squareTo(r); }\r\n\r\nNullExp.prototype.convert = nNop;\r\nNullExp.prototype.revert = nNop;\r\nNullExp.prototype.mulTo = nMulTo;\r\nNullExp.prototype.sqrTo = nSqrTo;\r\n\r\n// (public) this^e\r\nfunction bnPow(e) { return this.exp(e,new NullExp()); }\r\n\r\n// (protected) r = lower n words of \"this * a\", a.t <= n\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyLowerTo(a,n,r) {\r\n  var i = Math.min(this.t+a.t,n);\r\n  r.s = 0; // assumes a,this >= 0\r\n  r.t = i;\r\n  while(i > 0) r[--i] = 0;\r\n  var j;\r\n  for(j = r.t-this.t; i < j; ++i) r[i+this.t] = this.am(0,a[i],r,i,0,this.t);\r\n  for(j = Math.min(a.t,n); i < j; ++i) this.am(0,a[i],r,i,0,n-i);\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = \"this * a\" without lower n words, n > 0\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyUpperTo(a,n,r) {\r\n  --n;\r\n  var i = r.t = this.t+a.t-n;\r\n  r.s = 0; // assumes a,this >= 0\r\n  while(--i >= 0) r[i] = 0;\r\n  for(i = Math.max(n-this.t,0); i < a.t; ++i)\r\n    r[this.t+i-n] = this.am(n-i,a[i],r,0,0,this.t+i-n);\r\n  r.clamp();\r\n  r.drShiftTo(1,r);\r\n}\r\n\r\n// Barrett modular reduction\r\nfunction Barrett(m) {\r\n  // setup Barrett\r\n  this.r2 = nbi();\r\n  this.q3 = nbi();\r\n  BigInteger.ONE.dlShiftTo(2*m.t,this.r2);\r\n  this.mu = this.r2.divide(m);\r\n  this.m = m;\r\n}\r\n\r\nfunction barrettConvert(x) {\r\n  if(x.s < 0 || x.t > 2*this.m.t) return x.mod(this.m);\r\n  else if(x.compareTo(this.m) < 0) return x;\r\n  else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\r\n}\r\n\r\nfunction barrettRevert(x) { return x; }\r\n\r\n// x = x mod m (HAC 14.42)\r\nfunction barrettReduce(x) {\r\n  x.drShiftTo(this.m.t-1,this.r2);\r\n  if(x.t > this.m.t+1) { x.t = this.m.t+1; x.clamp(); }\r\n  this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);\r\n  this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);\r\n  while(x.compareTo(this.r2) < 0) x.dAddOffset(1,this.m.t+1);\r\n  x.subTo(this.r2,x);\r\n  while(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\r\n}\r\n\r\n// r = x^2 mod m; x != r\r\nfunction barrettSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\r\n\r\n// r = x*y mod m; x,y != r\r\nfunction barrettMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\r\n\r\nBarrett.prototype.convert = barrettConvert;\r\nBarrett.prototype.revert = barrettRevert;\r\nBarrett.prototype.reduce = barrettReduce;\r\nBarrett.prototype.mulTo = barrettMulTo;\r\nBarrett.prototype.sqrTo = barrettSqrTo;\r\n\r\n// (public) this^e % m (HAC 14.85)\r\nfunction bnModPow(e,m) {\r\n  var i = e.bitLength(), k, r = nbv(1), z;\r\n  if(i <= 0) return r;\r\n  else if(i < 18) k = 1;\r\n  else if(i < 48) k = 3;\r\n  else if(i < 144) k = 4;\r\n  else if(i < 768) k = 5;\r\n  else k = 6;\r\n  if(i < 8)\r\n    z = new Classic(m);\r\n  else if(m.isEven())\r\n    z = new Barrett(m);\r\n  else\r\n    z = new Montgomery(m);\r\n\r\n  // precomputation\r\n  var g = new Array(), n = 3, k1 = k-1, km = (1<<k)-1;\r\n  g[1] = z.convert(this);\r\n  if(k > 1) {\r\n    var g2 = nbi();\r\n    z.sqrTo(g[1],g2);\r\n    while(n <= km) {\r\n      g[n] = nbi();\r\n      z.mulTo(g2,g[n-2],g[n]);\r\n      n += 2;\r\n    }\r\n  }\r\n\r\n  var j = e.t-1, w, is1 = true, r2 = nbi(), t;\r\n  i = nbits(e[j])-1;\r\n  while(j >= 0) {\r\n    if(i >= k1) w = (e[j]>>(i-k1))&km;\r\n    else {\r\n      w = (e[j]&((1<<(i+1))-1))<<(k1-i);\r\n      if(j > 0) w |= e[j-1]>>(this.DB+i-k1);\r\n    }\r\n\r\n    n = k;\r\n    while((w&1) == 0) { w >>= 1; --n; }\r\n    if((i -= n) < 0) { i += this.DB; --j; }\r\n    if(is1) {\t// ret == 1, don't bother squaring or multiplying it\r\n      g[w].copyTo(r);\r\n      is1 = false;\r\n    }\r\n    else {\r\n      while(n > 1) { z.sqrTo(r,r2); z.sqrTo(r2,r); n -= 2; }\r\n      if(n > 0) z.sqrTo(r,r2); else { t = r; r = r2; r2 = t; }\r\n      z.mulTo(r2,g[w],r);\r\n    }\r\n\r\n    while(j >= 0 && (e[j]&(1<<i)) == 0) {\r\n      z.sqrTo(r,r2); t = r; r = r2; r2 = t;\r\n      if(--i < 0) { i = this.DB-1; --j; }\r\n    }\r\n  }\r\n  return z.revert(r);\r\n}\r\n\r\n// (public) gcd(this,a) (HAC 14.54)\r\nfunction bnGCD(a) {\r\n  var x = (this.s<0)?this.negate():this.clone();\r\n  var y = (a.s<0)?a.negate():a.clone();\r\n  if(x.compareTo(y) < 0) { var t = x; x = y; y = t; }\r\n  var i = x.getLowestSetBit(), g = y.getLowestSetBit();\r\n  if(g < 0) return x;\r\n  if(i < g) g = i;\r\n  if(g > 0) {\r\n    x.rShiftTo(g,x);\r\n    y.rShiftTo(g,y);\r\n  }\r\n  while(x.signum() > 0) {\r\n    if((i = x.getLowestSetBit()) > 0) x.rShiftTo(i,x);\r\n    if((i = y.getLowestSetBit()) > 0) y.rShiftTo(i,y);\r\n    if(x.compareTo(y) >= 0) {\r\n      x.subTo(y,x);\r\n      x.rShiftTo(1,x);\r\n    }\r\n    else {\r\n      y.subTo(x,y);\r\n      y.rShiftTo(1,y);\r\n    }\r\n  }\r\n  if(g > 0) y.lShiftTo(g,y);\r\n  return y;\r\n}\r\n\r\n// (protected) this % n, n < 2^26\r\nfunction bnpModInt(n) {\r\n  if(n <= 0) return 0;\r\n  var d = this.DV%n, r = (this.s<0)?n-1:0;\r\n  if(this.t > 0)\r\n    if(d == 0) r = this[0]%n;\r\n    else for(var i = this.t-1; i >= 0; --i) r = (d*r+this[i])%n;\r\n  return r;\r\n}\r\n\r\n// (public) 1/this % m (HAC 14.61)\r\nfunction bnModInverse(m) {\r\n  var ac = m.isEven();\r\n  if((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\r\n  var u = m.clone(), v = this.clone();\r\n  var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\r\n  while(u.signum() != 0) {\r\n    while(u.isEven()) {\r\n      u.rShiftTo(1,u);\r\n      if(ac) {\r\n        if(!a.isEven() || !b.isEven()) { a.addTo(this,a); b.subTo(m,b); }\r\n        a.rShiftTo(1,a);\r\n      }\r\n      else if(!b.isEven()) b.subTo(m,b);\r\n      b.rShiftTo(1,b);\r\n    }\r\n    while(v.isEven()) {\r\n      v.rShiftTo(1,v);\r\n      if(ac) {\r\n        if(!c.isEven() || !d.isEven()) { c.addTo(this,c); d.subTo(m,d); }\r\n        c.rShiftTo(1,c);\r\n      }\r\n      else if(!d.isEven()) d.subTo(m,d);\r\n      d.rShiftTo(1,d);\r\n    }\r\n    if(u.compareTo(v) >= 0) {\r\n      u.subTo(v,u);\r\n      if(ac) a.subTo(c,a);\r\n      b.subTo(d,b);\r\n    }\r\n    else {\r\n      v.subTo(u,v);\r\n      if(ac) c.subTo(a,c);\r\n      d.subTo(b,d);\r\n    }\r\n  }\r\n  if(v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\r\n  if(d.compareTo(m) >= 0) return d.subtract(m);\r\n  if(d.signum() < 0) d.addTo(m,d); else return d;\r\n  if(d.signum() < 0) return d.add(m); else return d;\r\n}\r\n\r\nvar lowprimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];\r\nvar lplim = (1<<26)/lowprimes[lowprimes.length-1];\r\n\r\n// (public) test primality with certainty >= 1-.5^t\r\nfunction bnIsProbablePrime(t) {\r\n  var i, x = this.abs();\r\n  if(x.t == 1 && x[0] <= lowprimes[lowprimes.length-1]) {\r\n    for(i = 0; i < lowprimes.length; ++i)\r\n      if(x[0] == lowprimes[i]) return true;\r\n    return false;\r\n  }\r\n  if(x.isEven()) return false;\r\n  i = 1;\r\n  while(i < lowprimes.length) {\r\n    var m = lowprimes[i], j = i+1;\r\n    while(j < lowprimes.length && m < lplim) m *= lowprimes[j++];\r\n    m = x.modInt(m);\r\n    while(i < j) if(m%lowprimes[i++] == 0) return false;\r\n  }\r\n  return x.millerRabin(t);\r\n}\r\n\r\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\r\nfunction bnpMillerRabin(t) {\r\n  var n1 = this.subtract(BigInteger.ONE);\r\n  var k = n1.getLowestSetBit();\r\n  if(k <= 0) return false;\r\n  var r = n1.shiftRight(k);\r\n  t = (t+1)>>1;\r\n  if(t > lowprimes.length) t = lowprimes.length;\r\n  var a = nbi();\r\n  for(var i = 0; i < t; ++i) {\r\n    //Pick bases at random, instead of starting at 2\r\n    a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);\r\n    var y = a.modPow(r,this);\r\n    if(y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\r\n      var j = 1;\r\n      while(j++ < k && y.compareTo(n1) != 0) {\r\n        y = y.modPowInt(2,this);\r\n        if(y.compareTo(BigInteger.ONE) == 0) return false;\r\n      }\r\n      if(y.compareTo(n1) != 0) return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n// protected\r\nBigInteger.prototype.chunkSize = bnpChunkSize;\r\nBigInteger.prototype.toRadix = bnpToRadix;\r\nBigInteger.prototype.fromRadix = bnpFromRadix;\r\nBigInteger.prototype.fromNumber = bnpFromNumber;\r\nBigInteger.prototype.bitwiseTo = bnpBitwiseTo;\r\nBigInteger.prototype.changeBit = bnpChangeBit;\r\nBigInteger.prototype.addTo = bnpAddTo;\r\nBigInteger.prototype.dMultiply = bnpDMultiply;\r\nBigInteger.prototype.dAddOffset = bnpDAddOffset;\r\nBigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\r\nBigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\r\nBigInteger.prototype.modInt = bnpModInt;\r\nBigInteger.prototype.millerRabin = bnpMillerRabin;\r\n\r\n// public\r\nBigInteger.prototype.clone = bnClone;\r\nBigInteger.prototype.intValue = bnIntValue;\r\nBigInteger.prototype.byteValue = bnByteValue;\r\nBigInteger.prototype.shortValue = bnShortValue;\r\nBigInteger.prototype.signum = bnSigNum;\r\nBigInteger.prototype.toByteArray = bnToByteArray;\r\nBigInteger.prototype.equals = bnEquals;\r\nBigInteger.prototype.min = bnMin;\r\nBigInteger.prototype.max = bnMax;\r\nBigInteger.prototype.and = bnAnd;\r\nBigInteger.prototype.or = bnOr;\r\nBigInteger.prototype.xor = bnXor;\r\nBigInteger.prototype.andNot = bnAndNot;\r\nBigInteger.prototype.not = bnNot;\r\nBigInteger.prototype.shiftLeft = bnShiftLeft;\r\nBigInteger.prototype.shiftRight = bnShiftRight;\r\nBigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\r\nBigInteger.prototype.bitCount = bnBitCount;\r\nBigInteger.prototype.testBit = bnTestBit;\r\nBigInteger.prototype.setBit = bnSetBit;\r\nBigInteger.prototype.clearBit = bnClearBit;\r\nBigInteger.prototype.flipBit = bnFlipBit;\r\nBigInteger.prototype.add = bnAdd;\r\nBigInteger.prototype.subtract = bnSubtract;\r\nBigInteger.prototype.multiply = bnMultiply;\r\nBigInteger.prototype.divide = bnDivide;\r\nBigInteger.prototype.remainder = bnRemainder;\r\nBigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\r\nBigInteger.prototype.modPow = bnModPow;\r\nBigInteger.prototype.modInverse = bnModInverse;\r\nBigInteger.prototype.pow = bnPow;\r\nBigInteger.prototype.gcd = bnGCD;\r\nBigInteger.prototype.isProbablePrime = bnIsProbablePrime;\r\n\r\n// JSBN-specific extension\r\nBigInteger.prototype.square = bnSquare;\r\n\r\n// BigInteger interfaces not implemented in jsbn:\r\n\r\n// BigInteger(int signum, byte[] magnitude)\r\n// double doubleValue()\r\n// float floatValue()\r\n// int hashCode()\r\n// long longValue()\r\n// static BigInteger valueOf(long val)\r\n// prng4.js - uses Arcfour as a PRNG\r\n\r\nfunction Arcfour() {\r\n  this.i = 0;\r\n  this.j = 0;\r\n  this.S = new Array();\r\n}\r\n\r\n// Initialize arcfour context from key, an array of ints, each from [0..255]\r\nfunction ARC4init(key) {\r\n  var i, j, t;\r\n  for(i = 0; i < 256; ++i)\r\n    this.S[i] = i;\r\n  j = 0;\r\n  for(i = 0; i < 256; ++i) {\r\n    j = (j + this.S[i] + key[i % key.length]) & 255;\r\n    t = this.S[i];\r\n    this.S[i] = this.S[j];\r\n    this.S[j] = t;\r\n  }\r\n  this.i = 0;\r\n  this.j = 0;\r\n}\r\n\r\nfunction ARC4next() {\r\n  var t;\r\n  this.i = (this.i + 1) & 255;\r\n  this.j = (this.j + this.S[this.i]) & 255;\r\n  t = this.S[this.i];\r\n  this.S[this.i] = this.S[this.j];\r\n  this.S[this.j] = t;\r\n  return this.S[(t + this.S[this.i]) & 255];\r\n}\r\n\r\nArcfour.prototype.init = ARC4init;\r\nArcfour.prototype.next = ARC4next;\r\n\r\n// Plug in your RNG constructor here\r\nfunction prng_newstate() {\r\n  return new Arcfour();\r\n}\r\n\r\n// Pool size must be a multiple of 4 and greater than 32.\r\n// An array of bytes the size of the pool will be passed to init()\r\nvar rng_psize = 256;\r\n// Random number generator - requires a PRNG backend, e.g. prng4.js\r\nvar rng_state;\r\nvar rng_pool;\r\nvar rng_pptr;\r\n\r\n// Initialize the pool with junk if needed.\r\nif(rng_pool == null) {\r\n  rng_pool = new Array();\r\n  rng_pptr = 0;\r\n  var t;\r\n  if(window.crypto && window.crypto.getRandomValues) {\r\n    // Extract entropy (2048 bits) from RNG if available\r\n    var z = new Uint32Array(256);\r\n    window.crypto.getRandomValues(z);\r\n    for (t = 0; t < z.length; ++t)\r\n      rng_pool[rng_pptr++] = z[t] & 255;\r\n  } \r\n  \r\n  // Use mouse events for entropy, if we do not have enough entropy by the time\r\n  // we need it, entropy will be generated by Math.random.\r\n  var onMouseMoveListener = function(ev) {\r\n    this.count = this.count || 0;\r\n    if (this.count >= 256 || rng_pptr >= rng_psize) {\r\n      if (window.removeEventListener)\r\n        window.removeEventListener(\"mousemove\", onMouseMoveListener);\r\n      else if (window.detachEvent)\r\n        window.detachEvent(\"onmousemove\", onMouseMoveListener);\r\n      return;\r\n    }\r\n    this.count += 1;\r\n    var mouseCoordinates = ev.x + ev.y;\r\n    rng_pool[rng_pptr++] = mouseCoordinates & 255;\r\n  };\r\n  if (window.addEventListener)\r\n    window.addEventListener(\"mousemove\", onMouseMoveListener);\r\n  else if (window.attachEvent)\r\n    window.attachEvent(\"onmousemove\", onMouseMoveListener);\r\n  \r\n}\r\n\r\nfunction rng_get_byte() {\r\n  if(rng_state == null) {\r\n    rng_state = prng_newstate();\r\n    // At this point, we may not have collected enough entropy.  If not, fall back to Math.random\r\n    while (rng_pptr < rng_psize) {\r\n      var random = Math.floor(65536 * Math.random());\r\n      rng_pool[rng_pptr++] = random & 255;\r\n    }\r\n    rng_state.init(rng_pool);\r\n    for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\r\n      rng_pool[rng_pptr] = 0;\r\n    rng_pptr = 0;\r\n  }\r\n  // TODO: allow reseeding after first request\r\n  return rng_state.next();\r\n}\r\n\r\nfunction rng_get_bytes(ba) {\r\n  var i;\r\n  for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\r\n}\r\n\r\nfunction SecureRandom() {}\r\n\r\nSecureRandom.prototype.nextBytes = rng_get_bytes;\r\n// Depends on jsbn.js and rng.js\r\n\r\n// Version 1.1: support utf-8 encoding in pkcs1pad2\r\n\r\n// convert a (hex) string to a bignum object\r\nfunction parseBigInt(str,r) {\r\n  return new BigInteger(str,r);\r\n}\r\n\r\nfunction linebrk(s,n) {\r\n  var ret = \"\";\r\n  var i = 0;\r\n  while(i + n < s.length) {\r\n    ret += s.substring(i,i+n) + \"\\n\";\r\n    i += n;\r\n  }\r\n  return ret + s.substring(i,s.length);\r\n}\r\n\r\nfunction byte2Hex(b) {\r\n  if(b < 0x10)\r\n    return \"0\" + b.toString(16);\r\n  else\r\n    return b.toString(16);\r\n}\r\n\r\n// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\r\nfunction pkcs1pad2(s,n) {\r\n  if(n < s.length + 11) { // TODO: fix for utf-8\r\n    console.error(\"Message too long for RSA\");\r\n    return null;\r\n  }\r\n  var ba = new Array();\r\n  var i = s.length - 1;\r\n  while(i >= 0 && n > 0) {\r\n    var c = s.charCodeAt(i--);\r\n    if(c < 128) { // encode using utf-8\r\n      ba[--n] = c;\r\n    }\r\n    else if((c > 127) && (c < 2048)) {\r\n      ba[--n] = (c & 63) | 128;\r\n      ba[--n] = (c >> 6) | 192;\r\n    }\r\n    else {\r\n      ba[--n] = (c & 63) | 128;\r\n      ba[--n] = ((c >> 6) & 63) | 128;\r\n      ba[--n] = (c >> 12) | 224;\r\n    }\r\n  }\r\n  ba[--n] = 0;\r\n  var rng = new SecureRandom();\r\n  var x = new Array();\r\n  while(n > 2) { // random non-zero pad\r\n    x[0] = 0;\r\n    while(x[0] == 0) rng.nextBytes(x);\r\n    ba[--n] = x[0];\r\n  }\r\n  ba[--n] = 2;\r\n  ba[--n] = 0;\r\n  return new BigInteger(ba);\r\n}\r\n\r\n// \"empty\" RSA key constructor\r\nfunction RSAKey() {\r\n  this.n = null;\r\n  this.e = 0;\r\n  this.d = null;\r\n  this.p = null;\r\n  this.q = null;\r\n  this.dmp1 = null;\r\n  this.dmq1 = null;\r\n  this.coeff = null;\r\n}\r\n\r\n// Set the public key fields N and e from hex strings\r\nfunction RSASetPublic(N,E) {\r\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\r\n    this.n = parseBigInt(N,16);\r\n    this.e = parseInt(E,16);\r\n  }\r\n  else\r\n    console.error(\"Invalid RSA public key\");\r\n}\r\n\r\n// Perform raw public operation on \"x\": return x^e (mod n)\r\nfunction RSADoPublic(x) {\r\n  return x.modPowInt(this.e, this.n);\r\n}\r\n\r\n// Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\r\nfunction RSAEncrypt(text) {\r\n  var m = pkcs1pad2(text,(this.n.bitLength()+7)>>3);\r\n  if(m == null) return null;\r\n  var c = this.doPublic(m);\r\n  if(c == null) return null;\r\n  var h = c.toString(16);\r\n  if((h.length & 1) == 0) return h; else return \"0\" + h;\r\n}\r\n\r\n// Return the PKCS#1 RSA encryption of \"text\" as a Base64-encoded string\r\n//function RSAEncryptB64(text) {\r\n//  var h = this.encrypt(text);\r\n//  if(h) return hex2b64(h); else return null;\r\n//}\r\n\r\n// protected\r\nRSAKey.prototype.doPublic = RSADoPublic;\r\n\r\n// public\r\nRSAKey.prototype.setPublic = RSASetPublic;\r\nRSAKey.prototype.encrypt = RSAEncrypt;\r\n//RSAKey.prototype.encrypt_b64 = RSAEncryptB64;\r\n// Depends on rsa.js and jsbn2.js\r\n\r\n// Version 1.1: support utf-8 decoding in pkcs1unpad2\r\n\r\n// Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext\r\nfunction pkcs1unpad2(d,n) {\r\n  var b = d.toByteArray();\r\n  var i = 0;\r\n  while(i < b.length && b[i] == 0) ++i;\r\n  if(b.length-i != n-1 || b[i] != 2)\r\n    return null;\r\n  ++i;\r\n  while(b[i] != 0)\r\n    if(++i >= b.length) return null;\r\n  var ret = \"\";\r\n  while(++i < b.length) {\r\n    var c = b[i] & 255;\r\n    if(c < 128) { // utf-8 decode\r\n      ret += String.fromCharCode(c);\r\n    }\r\n    else if((c > 191) && (c < 224)) {\r\n      ret += String.fromCharCode(((c & 31) << 6) | (b[i+1] & 63));\r\n      ++i;\r\n    }\r\n    else {\r\n      ret += String.fromCharCode(((c & 15) << 12) | ((b[i+1] & 63) << 6) | (b[i+2] & 63));\r\n      i += 2;\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\n// Set the private key fields N, e, and d from hex strings\r\nfunction RSASetPrivate(N,E,D) {\r\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\r\n    this.n = parseBigInt(N,16);\r\n    this.e = parseInt(E,16);\r\n    this.d = parseBigInt(D,16);\r\n  }\r\n  else\r\n    console.error(\"Invalid RSA private key\");\r\n}\r\n\r\n// Set the private key fields N, e, d and CRT params from hex strings\r\nfunction RSASetPrivateEx(N,E,D,P,Q,DP,DQ,C) {\r\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\r\n    this.n = parseBigInt(N,16);\r\n    this.e = parseInt(E,16);\r\n    this.d = parseBigInt(D,16);\r\n    this.p = parseBigInt(P,16);\r\n    this.q = parseBigInt(Q,16);\r\n    this.dmp1 = parseBigInt(DP,16);\r\n    this.dmq1 = parseBigInt(DQ,16);\r\n    this.coeff = parseBigInt(C,16);\r\n  }\r\n  else\r\n    console.error(\"Invalid RSA private key\");\r\n}\r\n\r\n// Generate a new random private key B bits long, using public expt E\r\nfunction RSAGenerate(B,E) {\r\n  var rng = new SecureRandom();\r\n  var qs = B>>1;\r\n  this.e = parseInt(E,16);\r\n  var ee = new BigInteger(E,16);\r\n  for(;;) {\r\n    for(;;) {\r\n      this.p = new BigInteger(B-qs,1,rng);\r\n      if(this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) break;\r\n    }\r\n    for(;;) {\r\n      this.q = new BigInteger(qs,1,rng);\r\n      if(this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) break;\r\n    }\r\n    if(this.p.compareTo(this.q) <= 0) {\r\n      var t = this.p;\r\n      this.p = this.q;\r\n      this.q = t;\r\n    }\r\n    var p1 = this.p.subtract(BigInteger.ONE);\r\n    var q1 = this.q.subtract(BigInteger.ONE);\r\n    var phi = p1.multiply(q1);\r\n    if(phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\r\n      this.n = this.p.multiply(this.q);\r\n      this.d = ee.modInverse(phi);\r\n      this.dmp1 = this.d.mod(p1);\r\n      this.dmq1 = this.d.mod(q1);\r\n      this.coeff = this.q.modInverse(this.p);\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\n// Perform raw private operation on \"x\": return x^d (mod n)\r\nfunction RSADoPrivate(x) {\r\n  if(this.p == null || this.q == null)\r\n    return x.modPow(this.d, this.n);\r\n\r\n  // TODO: re-calculate any missing CRT params\r\n  var xp = x.mod(this.p).modPow(this.dmp1, this.p);\r\n  var xq = x.mod(this.q).modPow(this.dmq1, this.q);\r\n\r\n  while(xp.compareTo(xq) < 0)\r\n    xp = xp.add(this.p);\r\n  return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);\r\n}\r\n\r\n// Return the PKCS#1 RSA decryption of \"ctext\".\r\n// \"ctext\" is an even-length hex string and the output is a plain string.\r\nfunction RSADecrypt(ctext) {\r\n  var c = parseBigInt(ctext, 16);\r\n  var m = this.doPrivate(c);\r\n  if(m == null) return null;\r\n  return pkcs1unpad2(m, (this.n.bitLength()+7)>>3);\r\n}\r\n\r\n// Return the PKCS#1 RSA decryption of \"ctext\".\r\n// \"ctext\" is a Base64-encoded string and the output is a plain string.\r\n//function RSAB64Decrypt(ctext) {\r\n//  var h = b64tohex(ctext);\r\n//  if(h) return this.decrypt(h); else return null;\r\n//}\r\n\r\n// protected\r\nRSAKey.prototype.doPrivate = RSADoPrivate;\r\n\r\n// public\r\nRSAKey.prototype.setPrivate = RSASetPrivate;\r\nRSAKey.prototype.setPrivateEx = RSASetPrivateEx;\r\nRSAKey.prototype.generate = RSAGenerate;\r\nRSAKey.prototype.decrypt = RSADecrypt;\r\n//RSAKey.prototype.b64_decrypt = RSAB64Decrypt;\r\n// Copyright (c) 2011  Kevin M Burns Jr.\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n//\r\n// Extension to jsbn which adds facilities for asynchronous RSA key generation\r\n// Primarily created to avoid execution timeout on mobile devices\r\n//\r\n// http://www-cs-students.stanford.edu/~tjw/jsbn/\r\n//\r\n// ---\r\n\r\n(function(){\r\n\r\n// Generate a new random private key B bits long, using public expt E\r\nvar RSAGenerateAsync = function (B, E, callback) {\r\n    //var rng = new SeededRandom();\r\n    var rng = new SecureRandom();\r\n    var qs = B >> 1;\r\n    this.e = parseInt(E, 16);\r\n    var ee = new BigInteger(E, 16);\r\n    var rsa = this;\r\n    // These functions have non-descript names because they were originally for(;;) loops.\r\n    // I don't know about cryptography to give them better names than loop1-4.\r\n    var loop1 = function() {\r\n        var loop4 = function() {\r\n            if (rsa.p.compareTo(rsa.q) <= 0) {\r\n                var t = rsa.p;\r\n                rsa.p = rsa.q;\r\n                rsa.q = t;\r\n            }\r\n            var p1 = rsa.p.subtract(BigInteger.ONE);\r\n            var q1 = rsa.q.subtract(BigInteger.ONE);\r\n            var phi = p1.multiply(q1);\r\n            if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\r\n                rsa.n = rsa.p.multiply(rsa.q);\r\n                rsa.d = ee.modInverse(phi);\r\n                rsa.dmp1 = rsa.d.mod(p1);\r\n                rsa.dmq1 = rsa.d.mod(q1);\r\n                rsa.coeff = rsa.q.modInverse(rsa.p);\r\n                setTimeout(function(){callback()},0); // escape\r\n            } else {\r\n                setTimeout(loop1,0);\r\n            }\r\n        };\r\n        var loop3 = function() {\r\n            rsa.q = nbi();\r\n            rsa.q.fromNumberAsync(qs, 1, rng, function(){\r\n                rsa.q.subtract(BigInteger.ONE).gcda(ee, function(r){\r\n                    if (r.compareTo(BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {\r\n                        setTimeout(loop4,0);\r\n                    } else {\r\n                        setTimeout(loop3,0);\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        var loop2 = function() {\r\n            rsa.p = nbi();\r\n            rsa.p.fromNumberAsync(B - qs, 1, rng, function(){\r\n                rsa.p.subtract(BigInteger.ONE).gcda(ee, function(r){\r\n                    if (r.compareTo(BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {\r\n                        setTimeout(loop3,0);\r\n                    } else {\r\n                        setTimeout(loop2,0);\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        setTimeout(loop2,0);\r\n    };\r\n    setTimeout(loop1,0);\r\n};\r\nRSAKey.prototype.generateAsync = RSAGenerateAsync;\r\n\r\n// Public API method\r\nvar bnGCDAsync = function (a, callback) {\r\n    var x = (this.s < 0) ? this.negate() : this.clone();\r\n    var y = (a.s < 0) ? a.negate() : a.clone();\r\n    if (x.compareTo(y) < 0) {\r\n        var t = x;\r\n        x = y;\r\n        y = t;\r\n    }\r\n    var i = x.getLowestSetBit(),\r\n        g = y.getLowestSetBit();\r\n    if (g < 0) {\r\n        callback(x);\r\n        return;\r\n    }\r\n    if (i < g) g = i;\r\n    if (g > 0) {\r\n        x.rShiftTo(g, x);\r\n        y.rShiftTo(g, y);\r\n    }\r\n    // Workhorse of the algorithm, gets called 200 - 800 times per 512 bit keygen.\r\n    var gcda1 = function() {\r\n        if ((i = x.getLowestSetBit()) > 0){ x.rShiftTo(i, x); }\r\n        if ((i = y.getLowestSetBit()) > 0){ y.rShiftTo(i, y); }\r\n        if (x.compareTo(y) >= 0) {\r\n            x.subTo(y, x);\r\n            x.rShiftTo(1, x);\r\n        } else {\r\n            y.subTo(x, y);\r\n            y.rShiftTo(1, y);\r\n        }\r\n        if(!(x.signum() > 0)) {\r\n            if (g > 0) y.lShiftTo(g, y);\r\n            setTimeout(function(){callback(y)},0); // escape\r\n        } else {\r\n            setTimeout(gcda1,0);\r\n        }\r\n    };\r\n    setTimeout(gcda1,10);\r\n};\r\nBigInteger.prototype.gcda = bnGCDAsync;\r\n\r\n// (protected) alternate constructor\r\nvar bnpFromNumberAsync = function (a,b,c,callback) {\r\n  if(\"number\" == typeof b) {\r\n    if(a < 2) {\r\n        this.fromInt(1);\r\n    } else {\r\n      this.fromNumber(a,c);\r\n      if(!this.testBit(a-1)){\r\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\r\n      }\r\n      if(this.isEven()) {\r\n        this.dAddOffset(1,0);\r\n      }\r\n      var bnp = this;\r\n      var bnpfn1 = function(){\r\n        bnp.dAddOffset(2,0);\r\n        if(bnp.bitLength() > a) bnp.subTo(BigInteger.ONE.shiftLeft(a-1),bnp);\r\n        if(bnp.isProbablePrime(b)) {\r\n            setTimeout(function(){callback()},0); // escape\r\n        } else {\r\n            setTimeout(bnpfn1,0);\r\n        }\r\n      };\r\n      setTimeout(bnpfn1,0);\r\n    }\r\n  } else {\r\n    var x = new Array(), t = a&7;\r\n    x.length = (a>>3)+1;\r\n    b.nextBytes(x);\r\n    if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\r\n    this.fromString(x,256);\r\n  }\r\n};\r\nBigInteger.prototype.fromNumberAsync = bnpFromNumberAsync;\r\n\r\n})();var b64map=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\nvar b64pad=\"=\";\r\n\r\nfunction hex2b64(h) {\r\n  var i;\r\n  var c;\r\n  var ret = \"\";\r\n  for(i = 0; i+3 <= h.length; i+=3) {\r\n    c = parseInt(h.substring(i,i+3),16);\r\n    ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\r\n  }\r\n  if(i+1 == h.length) {\r\n    c = parseInt(h.substring(i,i+1),16);\r\n    ret += b64map.charAt(c << 2);\r\n  }\r\n  else if(i+2 == h.length) {\r\n    c = parseInt(h.substring(i,i+2),16);\r\n    ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\r\n  }\r\n  while((ret.length & 3) > 0) ret += b64pad;\r\n  return ret;\r\n}\r\n\r\n// convert a base64 string to hex\r\nfunction b64tohex(s) {\r\n  var ret = \"\"\r\n  var i;\r\n  var k = 0; // b64 state, 0-3\r\n  var slop;\r\n  for(i = 0; i < s.length; ++i) {\r\n    if(s.charAt(i) == b64pad) break;\r\n    v = b64map.indexOf(s.charAt(i));\r\n    if(v < 0) continue;\r\n    if(k == 0) {\r\n      ret += int2char(v >> 2);\r\n      slop = v & 3;\r\n      k = 1;\r\n    }\r\n    else if(k == 1) {\r\n      ret += int2char((slop << 2) | (v >> 4));\r\n      slop = v & 0xf;\r\n      k = 2;\r\n    }\r\n    else if(k == 2) {\r\n      ret += int2char(slop);\r\n      ret += int2char(v >> 2);\r\n      slop = v & 3;\r\n      k = 3;\r\n    }\r\n    else {\r\n      ret += int2char((slop << 2) | (v >> 4));\r\n      ret += int2char(v & 0xf);\r\n      k = 0;\r\n    }\r\n  }\r\n  if(k == 1)\r\n    ret += int2char(slop << 2);\r\n  return ret;\r\n}\r\n\r\n// convert a base64 string to a byte/number array\r\nfunction b64toBA(s) {\r\n  //piggyback on b64tohex for now, optimize later\r\n  var h = b64tohex(s);\r\n  var i;\r\n  var a = new Array();\r\n  for(i = 0; 2*i < h.length; ++i) {\r\n    a[i] = parseInt(h.substring(2*i,2*i+2),16);\r\n  }\r\n  return a;\r\n}\r\n/*! asn1-1.0.2.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license\r\n */\r\n\r\nvar JSX = JSX || {};\r\nJSX.env = JSX.env || {};\r\n\r\nvar L = JSX, OP = Object.prototype, FUNCTION_TOSTRING = '[object Function]',ADD = [\"toString\", \"valueOf\"];\r\n\r\nJSX.env.parseUA = function(agent) {\r\n\r\n    var numberify = function(s) {\r\n        var c = 0;\r\n        return parseFloat(s.replace(/\\./g, function() {\r\n            return (c++ == 1) ? '' : '.';\r\n        }));\r\n    },\r\n\r\n    nav = navigator,\r\n    o = {\r\n        ie: 0,\r\n        opera: 0,\r\n        gecko: 0,\r\n        webkit: 0,\r\n        chrome: 0,\r\n        mobile: null,\r\n        air: 0,\r\n        ipad: 0,\r\n        iphone: 0,\r\n        ipod: 0,\r\n        ios: null,\r\n        android: 0,\r\n        webos: 0,\r\n        caja: nav && nav.cajaVersion,\r\n        secure: false,\r\n        os: null\r\n\r\n    },\r\n\r\n    ua = agent || (navigator && navigator.userAgent),\r\n    loc = window && window.location,\r\n    href = loc && loc.href,\r\n    m;\r\n\r\n    o.secure = href && (href.toLowerCase().indexOf(\"https\") === 0);\r\n\r\n    if (ua) {\r\n\r\n        if ((/windows|win32/i).test(ua)) {\r\n            o.os = 'windows';\r\n        } else if ((/macintosh/i).test(ua)) {\r\n            o.os = 'macintosh';\r\n        } else if ((/rhino/i).test(ua)) {\r\n            o.os = 'rhino';\r\n        }\r\n        if ((/KHTML/).test(ua)) {\r\n            o.webkit = 1;\r\n        }\r\n        m = ua.match(/AppleWebKit\\/([^\\s]*)/);\r\n        if (m && m[1]) {\r\n            o.webkit = numberify(m[1]);\r\n            if (/ Mobile\\//.test(ua)) {\r\n                o.mobile = 'Apple'; // iPhone or iPod Touch\r\n                m = ua.match(/OS ([^\\s]*)/);\r\n                if (m && m[1]) {\r\n                    m = numberify(m[1].replace('_', '.'));\r\n                }\r\n                o.ios = m;\r\n                o.ipad = o.ipod = o.iphone = 0;\r\n                m = ua.match(/iPad|iPod|iPhone/);\r\n                if (m && m[0]) {\r\n                    o[m[0].toLowerCase()] = o.ios;\r\n                }\r\n            } else {\r\n                m = ua.match(/NokiaN[^\\/]*|Android \\d\\.\\d|webOS\\/\\d\\.\\d/);\r\n                if (m) {\r\n                    o.mobile = m[0];\r\n                }\r\n                if (/webOS/.test(ua)) {\r\n                    o.mobile = 'WebOS';\r\n                    m = ua.match(/webOS\\/([^\\s]*);/);\r\n                    if (m && m[1]) {\r\n                        o.webos = numberify(m[1]);\r\n                    }\r\n                }\r\n                if (/ Android/.test(ua)) {\r\n                    o.mobile = 'Android';\r\n                    m = ua.match(/Android ([^\\s]*);/);\r\n                    if (m && m[1]) {\r\n                        o.android = numberify(m[1]);\r\n                    }\r\n                }\r\n            }\r\n            m = ua.match(/Chrome\\/([^\\s]*)/);\r\n            if (m && m[1]) {\r\n                o.chrome = numberify(m[1]); // Chrome\r\n            } else {\r\n                m = ua.match(/AdobeAIR\\/([^\\s]*)/);\r\n                if (m) {\r\n                    o.air = m[0]; // Adobe AIR 1.0 or better\r\n                }\r\n            }\r\n        }\r\n        if (!o.webkit) {\r\n            m = ua.match(/Opera[\\s\\/]([^\\s]*)/);\r\n            if (m && m[1]) {\r\n                o.opera = numberify(m[1]);\r\n                m = ua.match(/Version\\/([^\\s]*)/);\r\n                if (m && m[1]) {\r\n                    o.opera = numberify(m[1]); // opera 10+\r\n                }\r\n                m = ua.match(/Opera Mini[^;]*/);\r\n                if (m) {\r\n                    o.mobile = m[0]; // ex: Opera Mini/2.0.4509/1316\r\n                }\r\n            } else { // not opera or webkit\r\n                m = ua.match(/MSIE\\s([^;]*)/);\r\n                if (m && m[1]) {\r\n                    o.ie = numberify(m[1]);\r\n                } else { // not opera, webkit, or ie\r\n                    m = ua.match(/Gecko\\/([^\\s]*)/);\r\n                    if (m) {\r\n                        o.gecko = 1; // Gecko detected, look for revision\r\n                        m = ua.match(/rv:([^\\s\\)]*)/);\r\n                        if (m && m[1]) {\r\n                            o.gecko = numberify(m[1]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return o;\r\n};\r\n\r\nJSX.env.ua = JSX.env.parseUA();\r\n\r\nJSX.isFunction = function(o) {\r\n    return (typeof o === 'function') || OP.toString.apply(o) === FUNCTION_TOSTRING;\r\n};\r\n\r\nJSX._IEEnumFix = (JSX.env.ua.ie) ? function(r, s) {\r\n    var i, fname, f;\r\n    for (i=0;i<ADD.length;i=i+1) {\r\n\r\n        fname = ADD[i];\r\n        f = s[fname];\r\n\r\n        if (L.isFunction(f) && f!=OP[fname]) {\r\n            r[fname]=f;\r\n        }\r\n    }\r\n} : function(){};\r\n\r\nJSX.extend = function(subc, superc, overrides) {\r\n    if (!superc||!subc) {\r\n        throw new Error(\"extend failed, please check that \" +\r\n                        \"all dependencies are included.\");\r\n    }\r\n    var F = function() {}, i;\r\n    F.prototype=superc.prototype;\r\n    subc.prototype=new F();\r\n    subc.prototype.constructor=subc;\r\n    subc.superclass=superc.prototype;\r\n    if (superc.prototype.constructor == OP.constructor) {\r\n        superc.prototype.constructor=superc;\r\n    }\r\n\r\n    if (overrides) {\r\n        for (i in overrides) {\r\n            if (L.hasOwnProperty(overrides, i)) {\r\n                subc.prototype[i]=overrides[i];\r\n            }\r\n        }\r\n\r\n        L._IEEnumFix(subc.prototype, overrides);\r\n    }\r\n};\r\n\r\n/*\r\n * asn1.js - ASN.1 DER encoder classes\r\n *\r\n * Copyright (c) 2013 Kenji Urushima (kenji.urushima@gmail.com)\r\n *\r\n * This software is licensed under the terms of the MIT License.\r\n * http://kjur.github.com/jsrsasign/license\r\n *\r\n * The above copyright and license notice shall be \r\n * included in all copies or substantial portions of the Software.\r\n */\r\n\r\n/**\r\n * @fileOverview\r\n * @name asn1-1.0.js\r\n * @author Kenji Urushima kenji.urushima@gmail.com\r\n * @version 1.0.2 (2013-May-30)\r\n * @since 2.1\r\n * @license <a href=\"http://kjur.github.io/jsrsasign/license/\">MIT License</a>\r\n */\r\n\r\n/** \r\n * kjur's class library name space\r\n * <p>\r\n * This name space provides following name spaces:\r\n * <ul>\r\n * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>\r\n * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>\r\n * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature \r\n * class and utilities</li>\r\n * </ul>\r\n * </p> \r\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n  * @name KJUR\r\n * @namespace kjur's class library name space\r\n */\r\nif (typeof KJUR == \"undefined\" || !KJUR) KJUR = {};\r\n\r\n/**\r\n * kjur's ASN.1 class library name space\r\n * <p>\r\n * This is ITU-T X.690 ASN.1 DER encoder class library and\r\n * class structure and methods is very similar to \r\n * org.bouncycastle.asn1 package of \r\n * well known BouncyCaslte Cryptography Library.\r\n *\r\n * <h4>PROVIDING ASN.1 PRIMITIVES</h4>\r\n * Here are ASN.1 DER primitive classes.\r\n * <ul>\r\n * <li>{@link KJUR.asn1.DERBoolean}</li>\r\n * <li>{@link KJUR.asn1.DERInteger}</li>\r\n * <li>{@link KJUR.asn1.DERBitString}</li>\r\n * <li>{@link KJUR.asn1.DEROctetString}</li>\r\n * <li>{@link KJUR.asn1.DERNull}</li>\r\n * <li>{@link KJUR.asn1.DERObjectIdentifier}</li>\r\n * <li>{@link KJUR.asn1.DERUTF8String}</li>\r\n * <li>{@link KJUR.asn1.DERNumericString}</li>\r\n * <li>{@link KJUR.asn1.DERPrintableString}</li>\r\n * <li>{@link KJUR.asn1.DERTeletexString}</li>\r\n * <li>{@link KJUR.asn1.DERIA5String}</li>\r\n * <li>{@link KJUR.asn1.DERUTCTime}</li>\r\n * <li>{@link KJUR.asn1.DERGeneralizedTime}</li>\r\n * <li>{@link KJUR.asn1.DERSequence}</li>\r\n * <li>{@link KJUR.asn1.DERSet}</li>\r\n * </ul>\r\n *\r\n * <h4>OTHER ASN.1 CLASSES</h4>\r\n * <ul>\r\n * <li>{@link KJUR.asn1.ASN1Object}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractString}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractTime}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractStructured}</li>\r\n * <li>{@link KJUR.asn1.DERTaggedObject}</li>\r\n * </ul>\r\n * </p>\r\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n * @name KJUR.asn1\r\n * @namespace\r\n */\r\nif (typeof KJUR.asn1 == \"undefined\" || !KJUR.asn1) KJUR.asn1 = {};\r\n\r\n/**\r\n * ASN1 utilities class\r\n * @name KJUR.asn1.ASN1Util\r\n * @classs ASN1 utilities class\r\n * @since asn1 1.0.2\r\n */\r\nKJUR.asn1.ASN1Util = new function() {\r\n    this.integerToByteHex = function(i) {\r\n\tvar h = i.toString(16);\r\n\tif ((h.length % 2) == 1) h = '0' + h;\r\n\treturn h;\r\n    };\r\n    this.bigIntToMinTwosComplementsHex = function(bigIntegerValue) {\r\n\tvar h = bigIntegerValue.toString(16);\r\n\tif (h.substr(0, 1) != '-') {\r\n\t    if (h.length % 2 == 1) {\r\n\t\th = '0' + h;\r\n\t    } else {\r\n\t\tif (! h.match(/^[0-7]/)) {\r\n\t\t    h = '00' + h;\r\n\t\t}\r\n\t    }\r\n\t} else {\r\n\t    var hPos = h.substr(1);\r\n\t    var xorLen = hPos.length;\r\n\t    if (xorLen % 2 == 1) {\r\n\t\txorLen += 1;\r\n\t    } else {\r\n\t\tif (! h.match(/^[0-7]/)) {\r\n\t\t    xorLen += 2;\r\n\t\t}\r\n\t    }\r\n\t    var hMask = '';\r\n\t    for (var i = 0; i < xorLen; i++) {\r\n\t\thMask += 'f';\r\n\t    }\r\n\t    var biMask = new BigInteger(hMask, 16);\r\n\t    var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);\r\n\t    h = biNeg.toString(16).replace(/^-/, '');\r\n\t}\r\n\treturn h;\r\n    };\r\n    /**\r\n     * get PEM string from hexadecimal data and header string\r\n     * @name getPEMStringFromHex\r\n     * @memberOf KJUR.asn1.ASN1Util\r\n     * @function\r\n     * @param {String} dataHex hexadecimal string of PEM body\r\n     * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')\r\n     * @return {String} PEM formatted string of input data\r\n     * @description\r\n     * @example\r\n     * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');\r\n     * // value of pem will be:\r\n     * -----BEGIN PRIVATE KEY-----\r\n     * YWFh\r\n     * -----END PRIVATE KEY-----\r\n     */\r\n    this.getPEMStringFromHex = function(dataHex, pemHeader) {\r\n\tvar dataWA = CryptoJS.enc.Hex.parse(dataHex);\r\n\tvar dataB64 = CryptoJS.enc.Base64.stringify(dataWA);\r\n\tvar pemBody = dataB64.replace(/(.{64})/g, \"$1\\r\\n\");\r\n        pemBody = pemBody.replace(/\\r\\n$/, '');\r\n\treturn \"-----BEGIN \" + pemHeader + \"-----\\r\\n\" + \r\n               pemBody + \r\n               \"\\r\\n-----END \" + pemHeader + \"-----\\r\\n\";\r\n    };\r\n};\r\n\r\n// ********************************************************************\r\n//  Abstract ASN.1 Classes\r\n// ********************************************************************\r\n\r\n// ********************************************************************\r\n\r\n/**\r\n * base class for ASN.1 DER encoder object\r\n * @name KJUR.asn1.ASN1Object\r\n * @class base class for ASN.1 DER encoder object\r\n * @property {Boolean} isModified flag whether internal data was changed\r\n * @property {String} hTLV hexadecimal string of ASN.1 TLV\r\n * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)\r\n * @property {String} hL hexadecimal string of ASN.1 TLV length(L)\r\n * @property {String} hV hexadecimal string of ASN.1 TLV value(V)\r\n * @description\r\n */\r\nKJUR.asn1.ASN1Object = function() {\r\n    var isModified = true;\r\n    var hTLV = null;\r\n    var hT = '00'\r\n    var hL = '00';\r\n    var hV = '';\r\n\r\n    /**\r\n     * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)\r\n     * @name getLengthHexFromValue\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV length(L)\r\n     */\r\n    this.getLengthHexFromValue = function() {\r\n\tif (typeof this.hV == \"undefined\" || this.hV == null) {\r\n\t    throw \"this.hV is null or undefined.\";\r\n\t}\r\n\tif (this.hV.length % 2 == 1) {\r\n\t    throw \"value hex must be even length: n=\" + hV.length + \",v=\" + this.hV;\r\n\t}\r\n\tvar n = this.hV.length / 2;\r\n\tvar hN = n.toString(16);\r\n\tif (hN.length % 2 == 1) {\r\n\t    hN = \"0\" + hN;\r\n\t}\r\n\tif (n < 128) {\r\n\t    return hN;\r\n\t} else {\r\n\t    var hNlen = hN.length / 2;\r\n\t    if (hNlen > 15) {\r\n\t\tthrow \"ASN.1 length too long to represent by 8x: n = \" + n.toString(16);\r\n\t    }\r\n\t    var head = 128 + hNlen;\r\n\t    return head.toString(16) + hN;\r\n\t}\r\n    };\r\n\r\n    /**\r\n     * get hexadecimal string of ASN.1 TLV bytes\r\n     * @name getEncodedHex\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV\r\n     */\r\n    this.getEncodedHex = function() {\r\n\tif (this.hTLV == null || this.isModified) {\r\n\t    this.hV = this.getFreshValueHex();\r\n\t    this.hL = this.getLengthHexFromValue();\r\n\t    this.hTLV = this.hT + this.hL + this.hV;\r\n\t    this.isModified = false;\r\n\t    //console.error(\"first time: \" + this.hTLV);\r\n\t}\r\n\treturn this.hTLV;\r\n    };\r\n\r\n    /**\r\n     * get hexadecimal string of ASN.1 TLV value(V) bytes\r\n     * @name getValueHex\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes\r\n     */\r\n    this.getValueHex = function() {\r\n\tthis.getEncodedHex();\r\n\treturn this.hV;\r\n    }\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn '';\r\n    };\r\n};\r\n\r\n// == BEGIN DERAbstractString ================================================\r\n/**\r\n * base class for ASN.1 DER string classes\r\n * @name KJUR.asn1.DERAbstractString\r\n * @class base class for ASN.1 DER string classes\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @property {String} s internal string of value\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERAbstractString = function(params) {\r\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\r\n    var s = null;\r\n    var hV = null;\r\n\r\n    /**\r\n     * get string value of this string object\r\n     * @name getString\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @return {String} string value of this string object\r\n     */\r\n    this.getString = function() {\r\n\treturn this.s;\r\n    };\r\n\r\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @param {String} newS value by a string to set\r\n     */\r\n    this.setString = function(newS) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = newS;\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setStringHex\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @param {String} newHexString value by a hexadecimal string to set\r\n     */\r\n    this.setStringHex = function(newHexString) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = null;\r\n\tthis.hV = newHexString;\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['str'] != \"undefined\") {\r\n\t    this.setString(params['str']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setStringHex(params['hex']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);\r\n// == END   DERAbstractString ================================================\r\n\r\n// == BEGIN DERAbstractTime ==================================================\r\n/**\r\n * base class for ASN.1 DER Generalized/UTCTime class\r\n * @name KJUR.asn1.DERAbstractTime\r\n * @class base class for ASN.1 DER Generalized/UTCTime class\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERAbstractTime = function(params) {\r\n    KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);\r\n    var s = null;\r\n    var date = null;\r\n\r\n    // --- PRIVATE METHODS --------------------\r\n    this.localDateToUTC = function(d) {\r\n\tutc = d.getTime() + (d.getTimezoneOffset() * 60000);\r\n\tvar utcDate = new Date(utc);\r\n\treturn utcDate;\r\n    };\r\n\r\n    this.formatDate = function(dateObject, type) {\r\n\tvar pad = this.zeroPadding;\r\n\tvar d = this.localDateToUTC(dateObject);\r\n\tvar year = String(d.getFullYear());\r\n\tif (type == 'utc') year = year.substr(2, 2);\r\n\tvar month = pad(String(d.getMonth() + 1), 2);\r\n\tvar day = pad(String(d.getDate()), 2);\r\n\tvar hour = pad(String(d.getHours()), 2);\r\n\tvar min = pad(String(d.getMinutes()), 2);\r\n\tvar sec = pad(String(d.getSeconds()), 2);\r\n\treturn year + month + day + hour + min + sec + 'Z';\r\n    };\r\n\r\n    this.zeroPadding = function(s, len) {\r\n\tif (s.length >= len) return s;\r\n\treturn new Array(len - s.length + 1).join('0') + s;\r\n    };\r\n\r\n    // --- PUBLIC METHODS --------------------\r\n    /**\r\n     * get string value of this string object\r\n     * @name getString\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @return {String} string value of this time object\r\n     */\r\n    this.getString = function() {\r\n\treturn this.s;\r\n    };\r\n\r\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @param {String} newS value by a string to set such like \"130430235959Z\"\r\n     */\r\n    this.setString = function(newS) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = newS;\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDateValue\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @param {Integer} year year of date (ex. 2013)\r\n     * @param {Integer} month month of date between 1 and 12 (ex. 12)\r\n     * @param {Integer} day day of month\r\n     * @param {Integer} hour hours of date\r\n     * @param {Integer} min minutes of date\r\n     * @param {Integer} sec seconds of date\r\n     */\r\n    this.setByDateValue = function(year, month, day, hour, min, sec) {\r\n\tvar dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));\r\n\tthis.setByDate(dateObject);\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n};\r\nJSX.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);\r\n// == END   DERAbstractTime ==================================================\r\n\r\n// == BEGIN DERAbstractStructured ============================================\r\n/**\r\n * base class for ASN.1 DER structured class\r\n * @name KJUR.asn1.DERAbstractStructured\r\n * @class base class for ASN.1 DER structured class\r\n * @property {Array} asn1Array internal array of ASN1Object\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERAbstractStructured = function(params) {\r\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\r\n    var asn1Array = null;\r\n\r\n    /**\r\n     * set value by array of ASN1Object\r\n     * @name setByASN1ObjectArray\r\n     * @memberOf KJUR.asn1.DERAbstractStructured\r\n     * @function\r\n     * @param {array} asn1ObjectArray array of ASN1Object to set\r\n     */\r\n    this.setByASN1ObjectArray = function(asn1ObjectArray) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.asn1Array = asn1ObjectArray;\r\n    };\r\n\r\n    /**\r\n     * append an ASN1Object to internal array\r\n     * @name appendASN1Object\r\n     * @memberOf KJUR.asn1.DERAbstractStructured\r\n     * @function\r\n     * @param {ASN1Object} asn1Object to add\r\n     */\r\n    this.appendASN1Object = function(asn1Object) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.asn1Array.push(asn1Object);\r\n    };\r\n\r\n    this.asn1Array = new Array();\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['array'] != \"undefined\") {\r\n\t    this.asn1Array = params['array'];\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);\r\n\r\n\r\n// ********************************************************************\r\n//  ASN.1 Object Classes\r\n// ********************************************************************\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Boolean\r\n * @name KJUR.asn1.DERBoolean\r\n * @class class for ASN.1 DER Boolean\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERBoolean = function() {\r\n    KJUR.asn1.DERBoolean.superclass.constructor.call(this);\r\n    this.hT = \"01\";\r\n    this.hTLV = \"0101ff\";\r\n};\r\nJSX.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Integer\r\n * @name KJUR.asn1.DERInteger\r\n * @class class for ASN.1 DER Integer\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\r\n * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERInteger = function(params) {\r\n    KJUR.asn1.DERInteger.superclass.constructor.call(this);\r\n    this.hT = \"02\";\r\n\r\n    /**\r\n     * set value by Tom Wu's BigInteger object\r\n     * @name setByBigInteger\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {BigInteger} bigIntegerValue to set\r\n     */\r\n    this.setByBigInteger = function(bigIntegerValue) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\r\n    };\r\n\r\n    /**\r\n     * set value by integer value\r\n     * @name setByInteger\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {Integer} integer value to set\r\n     */\r\n    this.setByInteger = function(intValue) {\r\n\tvar bi = new BigInteger(String(intValue), 10);\r\n\tthis.setByBigInteger(bi);\r\n    };\r\n\r\n    /**\r\n     * set value by integer value\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {String} hexadecimal string of integer value\r\n     * @description\r\n     * <br/>\r\n     * NOTE: Value shall be represented by minimum octet length of\r\n     * two's complement representation.\r\n     */\r\n    this.setValueHex = function(newHexString) {\r\n\tthis.hV = newHexString;\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['bigint'] != \"undefined\") {\r\n\t    this.setByBigInteger(params['bigint']);\r\n\t} else if (typeof params['int'] != \"undefined\") {\r\n\t    this.setByInteger(params['int']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setValueHex(params['hex']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER encoded BitString primitive\r\n * @name KJUR.asn1.DERBitString\r\n * @class class for ASN.1 DER encoded BitString primitive\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description \r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>bin - specify binary string (ex. '10111')</li>\r\n * <li>array - specify array of boolean (ex. [true,false,true,true])</li>\r\n * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERBitString = function(params) {\r\n    KJUR.asn1.DERBitString.superclass.constructor.call(this);\r\n    this.hT = \"03\";\r\n\r\n    /**\r\n     * set ASN.1 value(V) by a hexadecimal string including unused bits\r\n     * @name setHexValueIncludingUnusedBits\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {String} newHexStringIncludingUnusedBits\r\n     */\r\n    this.setHexValueIncludingUnusedBits = function(newHexStringIncludingUnusedBits) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = newHexStringIncludingUnusedBits;\r\n    };\r\n\r\n    /**\r\n     * set ASN.1 value(V) by unused bit and hexadecimal string of value\r\n     * @name setUnusedBitsAndHexValue\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {Integer} unusedBits\r\n     * @param {String} hValue\r\n     */\r\n    this.setUnusedBitsAndHexValue = function(unusedBits, hValue) {\r\n\tif (unusedBits < 0 || 7 < unusedBits) {\r\n\t    throw \"unused bits shall be from 0 to 7: u = \" + unusedBits;\r\n\t}\r\n\tvar hUnusedBits = \"0\" + unusedBits;\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = hUnusedBits + hValue;\r\n    };\r\n\r\n    /**\r\n     * set ASN.1 DER BitString by binary string\r\n     * @name setByBinaryString\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {String} binaryString binary value string (i.e. '10111')\r\n     * @description\r\n     * Its unused bits will be calculated automatically by length of \r\n     * 'binaryValue'. <br/>\r\n     * NOTE: Trailing zeros '0' will be ignored.\r\n     */\r\n    this.setByBinaryString = function(binaryString) {\r\n\tbinaryString = binaryString.replace(/0+$/, '');\r\n\tvar unusedBits = 8 - binaryString.length % 8;\r\n\tif (unusedBits == 8) unusedBits = 0;\r\n\tfor (var i = 0; i <= unusedBits; i++) {\r\n\t    binaryString += '0';\r\n\t}\r\n\tvar h = '';\r\n\tfor (var i = 0; i < binaryString.length - 1; i += 8) {\r\n\t    var b = binaryString.substr(i, 8);\r\n\t    var x = parseInt(b, 2).toString(16);\r\n\t    if (x.length == 1) x = '0' + x;\r\n\t    h += x;  \r\n\t}\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = '0' + unusedBits + h;\r\n    };\r\n\r\n    /**\r\n     * set ASN.1 TLV value(V) by an array of boolean\r\n     * @name setByBooleanArray\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {array} booleanArray array of boolean (ex. [true, false, true])\r\n     * @description\r\n     * NOTE: Trailing falses will be ignored.\r\n     */\r\n    this.setByBooleanArray = function(booleanArray) {\r\n\tvar s = '';\r\n\tfor (var i = 0; i < booleanArray.length; i++) {\r\n\t    if (booleanArray[i] == true) {\r\n\t\ts += '1';\r\n\t    } else {\r\n\t\ts += '0';\r\n\t    }\r\n\t}\r\n\tthis.setByBinaryString(s);\r\n    };\r\n\r\n    /**\r\n     * generate an array of false with specified length\r\n     * @name newFalseArray\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {Integer} nLength length of array to generate\r\n     * @return {array} array of boolean faluse\r\n     * @description\r\n     * This static method may be useful to initialize boolean array.\r\n     */\r\n    this.newFalseArray = function(nLength) {\r\n\tvar a = new Array(nLength);\r\n\tfor (var i = 0; i < nLength; i++) {\r\n\t    a[i] = false;\r\n\t}\r\n\treturn a;\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['hex'] != \"undefined\") {\r\n\t    this.setHexValueIncludingUnusedBits(params['hex']);\r\n\t} else if (typeof params['bin'] != \"undefined\") {\r\n\t    this.setByBinaryString(params['bin']);\r\n\t} else if (typeof params['array'] != \"undefined\") {\r\n\t    this.setByBooleanArray(params['array']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER OctetString\r\n * @name KJUR.asn1.DEROctetString\r\n * @class class for ASN.1 DER OctetString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DEROctetString = function(params) {\r\n    KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);\r\n    this.hT = \"04\";\r\n};\r\nJSX.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Null\r\n * @name KJUR.asn1.DERNull\r\n * @class class for ASN.1 DER Null\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERNull = function() {\r\n    KJUR.asn1.DERNull.superclass.constructor.call(this);\r\n    this.hT = \"05\";\r\n    this.hTLV = \"0500\";\r\n};\r\nJSX.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER ObjectIdentifier\r\n * @name KJUR.asn1.DERObjectIdentifier\r\n * @class class for ASN.1 DER ObjectIdentifier\r\n * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERObjectIdentifier = function(params) {\r\n    var itox = function(i) {\r\n\tvar h = i.toString(16);\r\n\tif (h.length == 1) h = '0' + h;\r\n\treturn h;\r\n    };\r\n    var roidtox = function(roid) {\r\n\tvar h = '';\r\n\tvar bi = new BigInteger(roid, 10);\r\n\tvar b = bi.toString(2);\r\n\tvar padLen = 7 - b.length % 7;\r\n\tif (padLen == 7) padLen = 0;\r\n\tvar bPad = '';\r\n\tfor (var i = 0; i < padLen; i++) bPad += '0';\r\n\tb = bPad + b;\r\n\tfor (var i = 0; i < b.length - 1; i += 7) {\r\n\t    var b8 = b.substr(i, 7);\r\n\t    if (i != b.length - 7) b8 = '1' + b8;\r\n\t    h += itox(parseInt(b8, 2));\r\n\t}\r\n\treturn h;\r\n    }\r\n\r\n    KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);\r\n    this.hT = \"06\";\r\n\r\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} newHexString hexadecimal value of OID bytes\r\n     */\r\n    this.setValueHex = function(newHexString) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = null;\r\n\tthis.hV = newHexString;\r\n    };\r\n\r\n    /**\r\n     * set value by a OID string\r\n     * @name setValueOidString\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} oidString OID string (ex. 2.5.4.13)\r\n     */\r\n    this.setValueOidString = function(oidString) {\r\n\tif (! oidString.match(/^[0-9.]+$/)) {\r\n\t    throw \"malformed oid string: \" + oidString;\r\n\t}\r\n\tvar h = '';\r\n\tvar a = oidString.split('.');\r\n\tvar i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\r\n\th += itox(i0);\r\n\ta.splice(0, 2);\r\n\tfor (var i = 0; i < a.length; i++) {\r\n\t    h += roidtox(a[i]);\r\n\t}\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = null;\r\n\tthis.hV = h;\r\n    };\r\n\r\n    /**\r\n     * set value by a OID name\r\n     * @name setValueName\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} oidName OID name (ex. 'serverAuth')\r\n     * @since 1.0.1\r\n     * @description\r\n     * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.\r\n     * Otherwise raise error.\r\n     */\r\n    this.setValueName = function(oidName) {\r\n\tif (typeof KJUR.asn1.x509.OID.name2oidList[oidName] != \"undefined\") {\r\n\t    var oid = KJUR.asn1.x509.OID.name2oidList[oidName];\r\n\t    this.setValueOidString(oid);\r\n\t} else {\r\n\t    throw \"DERObjectIdentifier oidName undefined: \" + oidName;\r\n\t}\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['oid'] != \"undefined\") {\r\n\t    this.setValueOidString(params['oid']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setValueHex(params['hex']);\r\n\t} else if (typeof params['name'] != \"undefined\") {\r\n\t    this.setValueName(params['name']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER UTF8String\r\n * @name KJUR.asn1.DERUTF8String\r\n * @class class for ASN.1 DER UTF8String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERUTF8String = function(params) {\r\n    KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);\r\n    this.hT = \"0c\";\r\n};\r\nJSX.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER NumericString\r\n * @name KJUR.asn1.DERNumericString\r\n * @class class for ASN.1 DER NumericString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERNumericString = function(params) {\r\n    KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);\r\n    this.hT = \"12\";\r\n};\r\nJSX.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER PrintableString\r\n * @name KJUR.asn1.DERPrintableString\r\n * @class class for ASN.1 DER PrintableString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERPrintableString = function(params) {\r\n    KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);\r\n    this.hT = \"13\";\r\n};\r\nJSX.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER TeletexString\r\n * @name KJUR.asn1.DERTeletexString\r\n * @class class for ASN.1 DER TeletexString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERTeletexString = function(params) {\r\n    KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);\r\n    this.hT = \"14\";\r\n};\r\nJSX.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER IA5String\r\n * @name KJUR.asn1.DERIA5String\r\n * @class class for ASN.1 DER IA5String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERIA5String = function(params) {\r\n    KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);\r\n    this.hT = \"16\";\r\n};\r\nJSX.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER UTCTime\r\n * @name KJUR.asn1.DERUTCTime\r\n * @class class for ASN.1 DER UTCTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n * <h4>EXAMPLES</h4>\r\n * @example\r\n * var d1 = new KJUR.asn1.DERUTCTime();\r\n * d1.setString('130430125959Z');\r\n *\r\n * var d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});\r\n *\r\n * var d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});\r\n */\r\nKJUR.asn1.DERUTCTime = function(params) {\r\n    KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);\r\n    this.hT = \"17\";\r\n\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERUTCTime\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     */\r\n    this.setByDate = function(dateObject) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.date = dateObject;\r\n\tthis.s = this.formatDate(this.date, 'utc');\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['str'] != \"undefined\") {\r\n\t    this.setString(params['str']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setStringHex(params['hex']);\r\n\t} else if (typeof params['date'] != \"undefined\") {\r\n\t    this.setByDate(params['date']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER GeneralizedTime\r\n * @name KJUR.asn1.DERGeneralizedTime\r\n * @class class for ASN.1 DER GeneralizedTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERGeneralizedTime = function(params) {\r\n    KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);\r\n    this.hT = \"18\";\r\n\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERGeneralizedTime\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     * @example\r\n     * When you specify UTC time, use 'Date.UTC' method like this:<br/>\r\n     * var o = new DERUTCTime();\r\n     * var date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59\r\n     * o.setByDate(date);\r\n     */\r\n    this.setByDate = function(dateObject) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.date = dateObject;\r\n\tthis.s = this.formatDate(this.date, 'gen');\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['str'] != \"undefined\") {\r\n\t    this.setString(params['str']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setStringHex(params['hex']);\r\n\t} else if (typeof params['date'] != \"undefined\") {\r\n\t    this.setByDate(params['date']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Sequence\r\n * @name KJUR.asn1.DERSequence\r\n * @class class for ASN.1 DER Sequence\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERSequence = function(params) {\r\n    KJUR.asn1.DERSequence.superclass.constructor.call(this, params);\r\n    this.hT = \"30\";\r\n    this.getFreshValueHex = function() {\r\n\tvar h = '';\r\n\tfor (var i = 0; i < this.asn1Array.length; i++) {\r\n\t    var asn1Obj = this.asn1Array[i];\r\n\t    h += asn1Obj.getEncodedHex();\r\n\t}\r\n\tthis.hV = h;\r\n\treturn this.hV;\r\n    };\r\n};\r\nJSX.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Set\r\n * @name KJUR.asn1.DERSet\r\n * @class class for ASN.1 DER Set\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERSet = function(params) {\r\n    KJUR.asn1.DERSet.superclass.constructor.call(this, params);\r\n    this.hT = \"31\";\r\n    this.getFreshValueHex = function() {\r\n\tvar a = new Array();\r\n\tfor (var i = 0; i < this.asn1Array.length; i++) {\r\n\t    var asn1Obj = this.asn1Array[i];\r\n\t    a.push(asn1Obj.getEncodedHex());\r\n\t}\r\n\ta.sort();\r\n\tthis.hV = a.join('');\r\n\treturn this.hV;\r\n    };\r\n};\r\nJSX.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER TaggedObject\r\n * @name KJUR.asn1.DERTaggedObject\r\n * @class class for ASN.1 DER TaggedObject\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.\r\n * For example, if you find '[1]' tag in a ASN.1 dump, \r\n * 'tagNoHex' will be 'a1'.\r\n * <br/>\r\n * As for optional argument 'params' for constructor, you can specify *ANY* of\r\n * following properties:\r\n * <ul>\r\n * <li>explicit - specify true if this is explicit tag otherwise false \r\n *     (default is 'true').</li>\r\n * <li>tag - specify tag (default is 'a0' which means [0])</li>\r\n * <li>obj - specify ASN1Object which is tagged</li>\r\n * </ul>\r\n * @example\r\n * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});\r\n * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});\r\n * hex = d2.getEncodedHex();\r\n */\r\nKJUR.asn1.DERTaggedObject = function(params) {\r\n    KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);\r\n    this.hT = \"a0\";\r\n    this.hV = '';\r\n    this.isExplicit = true;\r\n    this.asn1Object = null;\r\n\r\n    /**\r\n     * set value by an ASN1Object\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERTaggedObject\r\n     * @function\r\n     * @param {Boolean} isExplicitFlag flag for explicit/implicit tag\r\n     * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag\r\n     * @param {ASN1Object} asn1Object ASN.1 to encapsulate\r\n     */\r\n    this.setASN1Object = function(isExplicitFlag, tagNoHex, asn1Object) {\r\n\tthis.hT = tagNoHex;\r\n\tthis.isExplicit = isExplicitFlag;\r\n\tthis.asn1Object = asn1Object;\r\n\tif (this.isExplicit) {\r\n\t    this.hV = this.asn1Object.getEncodedHex();\r\n\t    this.hTLV = null;\r\n\t    this.isModified = true;\r\n\t} else {\r\n\t    this.hV = null;\r\n\t    this.hTLV = asn1Object.getEncodedHex();\r\n\t    this.hTLV = this.hTLV.replace(/^../, tagNoHex);\r\n\t    this.isModified = false;\r\n\t}\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['tag'] != \"undefined\") {\r\n\t    this.hT = params['tag'];\r\n\t}\r\n\tif (typeof params['explicit'] != \"undefined\") {\r\n\t    this.isExplicit = params['explicit'];\r\n\t}\r\n\tif (typeof params['obj'] != \"undefined\") {\r\n\t    this.asn1Object = params['obj'];\r\n\t    this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);// Hex JavaScript decoder\r\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\r\n\r\n// Permission to use, copy, modify, and/or distribute this software for any\r\n// purpose with or without fee is hereby granted, provided that the above\r\n// copyright notice and this permission notice appear in all copies.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n\r\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\r\n(function (undefined) {\r\n\"use strict\";\r\n\r\nvar Hex = {},\r\n    decoder;\r\n\r\nHex.decode = function(a) {\r\n    var i;\r\n    if (decoder === undefined) {\r\n        var hex = \"0123456789ABCDEF\",\r\n            ignore = \" \\f\\n\\r\\t\\u00A0\\u2028\\u2029\";\r\n        decoder = [];\r\n        for (i = 0; i < 16; ++i)\r\n            decoder[hex.charAt(i)] = i;\r\n        hex = hex.toLowerCase();\r\n        for (i = 10; i < 16; ++i)\r\n            decoder[hex.charAt(i)] = i;\r\n        for (i = 0; i < ignore.length; ++i)\r\n            decoder[ignore.charAt(i)] = -1;\r\n    }\r\n    var out = [],\r\n        bits = 0,\r\n        char_count = 0;\r\n    for (i = 0; i < a.length; ++i) {\r\n        var c = a.charAt(i);\r\n        if (c == '=')\r\n            break;\r\n        c = decoder[c];\r\n        if (c == -1)\r\n            continue;\r\n        if (c === undefined)\r\n            throw 'Illegal character at offset ' + i;\r\n        bits |= c;\r\n        if (++char_count >= 2) {\r\n            out[out.length] = bits;\r\n            bits = 0;\r\n            char_count = 0;\r\n        } else {\r\n            bits <<= 4;\r\n        }\r\n    }\r\n    if (char_count)\r\n        throw \"Hex encoding incomplete: 4 bits missing\";\r\n    return out;\r\n};\r\n\r\n// export globals\r\nwindow.Hex = Hex;\r\n})();// Base64 JavaScript decoder\r\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\r\n\r\n// Permission to use, copy, modify, and/or distribute this software for any\r\n// purpose with or without fee is hereby granted, provided that the above\r\n// copyright notice and this permission notice appear in all copies.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n\r\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\r\n(function (undefined) {\r\n\"use strict\";\r\n\r\nvar Base64 = {},\r\n    decoder;\r\n\r\nBase64.decode = function (a) {\r\n    var i;\r\n    if (decoder === undefined) {\r\n        var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\r\n            ignore = \"= \\f\\n\\r\\t\\u00A0\\u2028\\u2029\";\r\n        decoder = [];\r\n        for (i = 0; i < 64; ++i)\r\n            decoder[b64.charAt(i)] = i;\r\n        for (i = 0; i < ignore.length; ++i)\r\n            decoder[ignore.charAt(i)] = -1;\r\n    }\r\n    var out = [];\r\n    var bits = 0, char_count = 0;\r\n    for (i = 0; i < a.length; ++i) {\r\n        var c = a.charAt(i);\r\n        if (c == '=')\r\n            break;\r\n        c = decoder[c];\r\n        if (c == -1)\r\n            continue;\r\n        if (c === undefined)\r\n            throw 'Illegal character at offset ' + i;\r\n        bits |= c;\r\n        if (++char_count >= 4) {\r\n            out[out.length] = (bits >> 16);\r\n            out[out.length] = (bits >> 8) & 0xFF;\r\n            out[out.length] = bits & 0xFF;\r\n            bits = 0;\r\n            char_count = 0;\r\n        } else {\r\n            bits <<= 6;\r\n        }\r\n    }\r\n    switch (char_count) {\r\n      case 1:\r\n        throw \"Base64 encoding incomplete: at least 2 bits missing\";\r\n      case 2:\r\n        out[out.length] = (bits >> 10);\r\n        break;\r\n      case 3:\r\n        out[out.length] = (bits >> 16);\r\n        out[out.length] = (bits >> 8) & 0xFF;\r\n        break;\r\n    }\r\n    return out;\r\n};\r\n\r\nBase64.re = /-----BEGIN [^-]+-----([A-Za-z0-9+\\/=\\s]+)-----END [^-]+-----|begin-base64[^\\n]+\\n([A-Za-z0-9+\\/=\\s]+)====/;\r\nBase64.unarmor = function (a) {\r\n    var m = Base64.re.exec(a);\r\n    if (m) {\r\n        if (m[1])\r\n            a = m[1];\r\n        else if (m[2])\r\n            a = m[2];\r\n        else\r\n            throw \"RegExp out of sync\";\r\n    }\r\n    return Base64.decode(a);\r\n};\r\n\r\n// export globals\r\nwindow.Base64 = Base64;\r\n})();// ASN.1 JavaScript decoder\r\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\r\n\r\n// Permission to use, copy, modify, and/or distribute this software for any\r\n// purpose with or without fee is hereby granted, provided that the above\r\n// copyright notice and this permission notice appear in all copies.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n\r\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\r\n/*global oids */\r\n(function (undefined) {\r\n\"use strict\";\r\n\r\nvar hardLimit = 100,\r\n    ellipsis = \"\\u2026\",\r\n    DOM = {\r\n        tag: function (tagName, className) {\r\n            var t = document.createElement(tagName);\r\n            t.className = className;\r\n            return t;\r\n        },\r\n        text: function (str) {\r\n            return document.createTextNode(str);\r\n        }\r\n    };\r\n\r\nfunction Stream(enc, pos) {\r\n    if (enc instanceof Stream) {\r\n        this.enc = enc.enc;\r\n        this.pos = enc.pos;\r\n    } else {\r\n        this.enc = enc;\r\n        this.pos = pos;\r\n    }\r\n}\r\nStream.prototype.get = function (pos) {\r\n    if (pos === undefined)\r\n        pos = this.pos++;\r\n    if (pos >= this.enc.length)\r\n        throw 'Requesting byte offset ' + pos + ' on a stream of length ' + this.enc.length;\r\n    return this.enc[pos];\r\n};\r\nStream.prototype.hexDigits = \"0123456789ABCDEF\";\r\nStream.prototype.hexByte = function (b) {\r\n    return this.hexDigits.charAt((b >> 4) & 0xF) + this.hexDigits.charAt(b & 0xF);\r\n};\r\nStream.prototype.hexDump = function (start, end, raw) {\r\n    var s = \"\";\r\n    for (var i = start; i < end; ++i) {\r\n        s += this.hexByte(this.get(i));\r\n        if (raw !== true)\r\n            switch (i & 0xF) {\r\n            case 0x7: s += \"  \"; break;\r\n            case 0xF: s += \"\\n\"; break;\r\n            default:  s += \" \";\r\n            }\r\n    }\r\n    return s;\r\n};\r\nStream.prototype.parseStringISO = function (start, end) {\r\n    var s = \"\";\r\n    for (var i = start; i < end; ++i)\r\n        s += String.fromCharCode(this.get(i));\r\n    return s;\r\n};\r\nStream.prototype.parseStringUTF = function (start, end) {\r\n    var s = \"\";\r\n    for (var i = start; i < end; ) {\r\n        var c = this.get(i++);\r\n        if (c < 128)\r\n            s += String.fromCharCode(c);\r\n        else if ((c > 191) && (c < 224))\r\n            s += String.fromCharCode(((c & 0x1F) << 6) | (this.get(i++) & 0x3F));\r\n        else\r\n            s += String.fromCharCode(((c & 0x0F) << 12) | ((this.get(i++) & 0x3F) << 6) | (this.get(i++) & 0x3F));\r\n    }\r\n    return s;\r\n};\r\nStream.prototype.parseStringBMP = function (start, end) {\r\n    var str = \"\"\r\n    for (var i = start; i < end; i += 2) {\r\n        var high_byte = this.get(i);\r\n        var low_byte = this.get(i + 1);\r\n        str += String.fromCharCode( (high_byte << 8) + low_byte );\r\n    }\r\n\r\n    return str;\r\n};\r\nStream.prototype.reTime = /^((?:1[89]|2\\d)?\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/;\r\nStream.prototype.parseTime = function (start, end) {\r\n    var s = this.parseStringISO(start, end),\r\n        m = this.reTime.exec(s);\r\n    if (!m)\r\n        return \"Unrecognized time: \" + s;\r\n    s = m[1] + \"-\" + m[2] + \"-\" + m[3] + \" \" + m[4];\r\n    if (m[5]) {\r\n        s += \":\" + m[5];\r\n        if (m[6]) {\r\n            s += \":\" + m[6];\r\n            if (m[7])\r\n                s += \".\" + m[7];\r\n        }\r\n    }\r\n    if (m[8]) {\r\n        s += \" UTC\";\r\n        if (m[8] != 'Z') {\r\n            s += m[8];\r\n            if (m[9])\r\n                s += \":\" + m[9];\r\n        }\r\n    }\r\n    return s;\r\n};\r\nStream.prototype.parseInteger = function (start, end) {\r\n    //TODO support negative numbers\r\n    var len = end - start;\r\n    if (len > 4) {\r\n        len <<= 3;\r\n        var s = this.get(start);\r\n        if (s === 0)\r\n            len -= 8;\r\n        else\r\n            while (s < 128) {\r\n                s <<= 1;\r\n                --len;\r\n            }\r\n        return \"(\" + len + \" bit)\";\r\n    }\r\n    var n = 0;\r\n    for (var i = start; i < end; ++i)\r\n        n = (n << 8) | this.get(i);\r\n    return n;\r\n};\r\nStream.prototype.parseBitString = function (start, end) {\r\n    var unusedBit = this.get(start),\r\n        lenBit = ((end - start - 1) << 3) - unusedBit,\r\n        s = \"(\" + lenBit + \" bit)\";\r\n    if (lenBit <= 20) {\r\n        var skip = unusedBit;\r\n        s += \" \";\r\n        for (var i = end - 1; i > start; --i) {\r\n            var b = this.get(i);\r\n            for (var j = skip; j < 8; ++j)\r\n                s += (b >> j) & 1 ? \"1\" : \"0\";\r\n            skip = 0;\r\n        }\r\n    }\r\n    return s;\r\n};\r\nStream.prototype.parseOctetString = function (start, end) {\r\n    var len = end - start,\r\n        s = \"(\" + len + \" byte) \";\r\n    if (len > hardLimit)\r\n        end = start + hardLimit;\r\n    for (var i = start; i < end; ++i)\r\n        s += this.hexByte(this.get(i)); //TODO: also try Latin1?\r\n    if (len > hardLimit)\r\n        s += ellipsis;\r\n    return s;\r\n};\r\nStream.prototype.parseOID = function (start, end) {\r\n    var s = '',\r\n        n = 0,\r\n        bits = 0;\r\n    for (var i = start; i < end; ++i) {\r\n        var v = this.get(i);\r\n        n = (n << 7) | (v & 0x7F);\r\n        bits += 7;\r\n        if (!(v & 0x80)) { // finished\r\n            if (s === '') {\r\n                var m = n < 80 ? n < 40 ? 0 : 1 : 2;\r\n                s = m + \".\" + (n - m * 40);\r\n            } else\r\n                s += \".\" + ((bits >= 31) ? \"bigint\" : n);\r\n            n = bits = 0;\r\n        }\r\n    }\r\n    return s;\r\n};\r\n\r\nfunction ASN1(stream, header, length, tag, sub) {\r\n    this.stream = stream;\r\n    this.header = header;\r\n    this.length = length;\r\n    this.tag = tag;\r\n    this.sub = sub;\r\n}\r\nASN1.prototype.typeName = function () {\r\n    if (this.tag === undefined)\r\n        return \"unknown\";\r\n    var tagClass = this.tag >> 6,\r\n        tagConstructed = (this.tag >> 5) & 1,\r\n        tagNumber = this.tag & 0x1F;\r\n    switch (tagClass) {\r\n    case 0: // universal\r\n        switch (tagNumber) {\r\n        case 0x00: return \"EOC\";\r\n        case 0x01: return \"BOOLEAN\";\r\n        case 0x02: return \"INTEGER\";\r\n        case 0x03: return \"BIT_STRING\";\r\n        case 0x04: return \"OCTET_STRING\";\r\n        case 0x05: return \"NULL\";\r\n        case 0x06: return \"OBJECT_IDENTIFIER\";\r\n        case 0x07: return \"ObjectDescriptor\";\r\n        case 0x08: return \"EXTERNAL\";\r\n        case 0x09: return \"REAL\";\r\n        case 0x0A: return \"ENUMERATED\";\r\n        case 0x0B: return \"EMBEDDED_PDV\";\r\n        case 0x0C: return \"UTF8String\";\r\n        case 0x10: return \"SEQUENCE\";\r\n        case 0x11: return \"SET\";\r\n        case 0x12: return \"NumericString\";\r\n        case 0x13: return \"PrintableString\"; // ASCII subset\r\n        case 0x14: return \"TeletexString\"; // aka T61String\r\n        case 0x15: return \"VideotexString\";\r\n        case 0x16: return \"IA5String\"; // ASCII\r\n        case 0x17: return \"UTCTime\";\r\n        case 0x18: return \"GeneralizedTime\";\r\n        case 0x19: return \"GraphicString\";\r\n        case 0x1A: return \"VisibleString\"; // ASCII subset\r\n        case 0x1B: return \"GeneralString\";\r\n        case 0x1C: return \"UniversalString\";\r\n        case 0x1E: return \"BMPString\";\r\n        default:   return \"Universal_\" + tagNumber.toString(16);\r\n        }\r\n    case 1: return \"Application_\" + tagNumber.toString(16);\r\n    case 2: return \"[\" + tagNumber + \"]\"; // Context\r\n    case 3: return \"Private_\" + tagNumber.toString(16);\r\n    }\r\n};\r\nASN1.prototype.reSeemsASCII = /^[ -~]+$/;\r\nASN1.prototype.content = function () {\r\n    if (this.tag === undefined)\r\n        return null;\r\n    var tagClass = this.tag >> 6,\r\n        tagNumber = this.tag & 0x1F,\r\n        content = this.posContent(),\r\n        len = Math.abs(this.length);\r\n    if (tagClass !== 0) { // universal\r\n        if (this.sub !== null)\r\n            return \"(\" + this.sub.length + \" elem)\";\r\n        //TODO: TRY TO PARSE ASCII STRING\r\n        var s = this.stream.parseStringISO(content, content + Math.min(len, hardLimit));\r\n        if (this.reSeemsASCII.test(s))\r\n            return s.substring(0, 2 * hardLimit) + ((s.length > 2 * hardLimit) ? ellipsis : \"\");\r\n        else\r\n            return this.stream.parseOctetString(content, content + len);\r\n    }\r\n    switch (tagNumber) {\r\n    case 0x01: // BOOLEAN\r\n        return (this.stream.get(content) === 0) ? \"false\" : \"true\";\r\n    case 0x02: // INTEGER\r\n        return this.stream.parseInteger(content, content + len);\r\n    case 0x03: // BIT_STRING\r\n        return this.sub ? \"(\" + this.sub.length + \" elem)\" :\r\n            this.stream.parseBitString(content, content + len);\r\n    case 0x04: // OCTET_STRING\r\n        return this.sub ? \"(\" + this.sub.length + \" elem)\" :\r\n            this.stream.parseOctetString(content, content + len);\r\n    //case 0x05: // NULL\r\n    case 0x06: // OBJECT_IDENTIFIER\r\n        return this.stream.parseOID(content, content + len);\r\n    //case 0x07: // ObjectDescriptor\r\n    //case 0x08: // EXTERNAL\r\n    //case 0x09: // REAL\r\n    //case 0x0A: // ENUMERATED\r\n    //case 0x0B: // EMBEDDED_PDV\r\n    case 0x10: // SEQUENCE\r\n    case 0x11: // SET\r\n        return \"(\" + this.sub.length + \" elem)\";\r\n    case 0x0C: // UTF8String\r\n        return this.stream.parseStringUTF(content, content + len);\r\n    case 0x12: // NumericString\r\n    case 0x13: // PrintableString\r\n    case 0x14: // TeletexString\r\n    case 0x15: // VideotexString\r\n    case 0x16: // IA5String\r\n    //case 0x19: // GraphicString\r\n    case 0x1A: // VisibleString\r\n    //case 0x1B: // GeneralString\r\n    //case 0x1C: // UniversalString\r\n        return this.stream.parseStringISO(content, content + len);\r\n    case 0x1E: // BMPString\r\n        return this.stream.parseStringBMP(content, content + len);\r\n    case 0x17: // UTCTime\r\n    case 0x18: // GeneralizedTime\r\n        return this.stream.parseTime(content, content + len);\r\n    }\r\n    return null;\r\n};\r\nASN1.prototype.toString = function () {\r\n    return this.typeName() + \"@\" + this.stream.pos + \"[header:\" + this.header + \",length:\" + this.length + \",sub:\" + ((this.sub === null) ? 'null' : this.sub.length) + \"]\";\r\n};\r\nASN1.prototype.print = function (indent) {\r\n    if (indent === undefined) indent = '';\r\n    document.writeln(indent + this);\r\n    if (this.sub !== null) {\r\n        indent += '  ';\r\n        for (var i = 0, max = this.sub.length; i < max; ++i)\r\n            this.sub[i].print(indent);\r\n    }\r\n};\r\nASN1.prototype.toPrettyString = function (indent) {\r\n    if (indent === undefined) indent = '';\r\n    var s = indent + this.typeName() + \" @\" + this.stream.pos;\r\n    if (this.length >= 0)\r\n        s += \"+\";\r\n    s += this.length;\r\n    if (this.tag & 0x20)\r\n        s += \" (constructed)\";\r\n    else if (((this.tag == 0x03) || (this.tag == 0x04)) && (this.sub !== null))\r\n        s += \" (encapsulates)\";\r\n    s += \"\\n\";\r\n    if (this.sub !== null) {\r\n        indent += '  ';\r\n        for (var i = 0, max = this.sub.length; i < max; ++i)\r\n            s += this.sub[i].toPrettyString(indent);\r\n    }\r\n    return s;\r\n};\r\nASN1.prototype.toDOM = function () {\r\n    var node = DOM.tag(\"div\", \"node\");\r\n    node.asn1 = this;\r\n    var head = DOM.tag(\"div\", \"head\");\r\n    var s = this.typeName().replace(/_/g, \" \");\r\n    head.innerHTML = s;\r\n    var content = this.content();\r\n    if (content !== null) {\r\n        content = String(content).replace(/</g, \"&lt;\");\r\n        var preview = DOM.tag(\"span\", \"preview\");\r\n        preview.appendChild(DOM.text(content));\r\n        head.appendChild(preview);\r\n    }\r\n    node.appendChild(head);\r\n    this.node = node;\r\n    this.head = head;\r\n    var value = DOM.tag(\"div\", \"value\");\r\n    s = \"Offset: \" + this.stream.pos + \"<br/>\";\r\n    s += \"Length: \" + this.header + \"+\";\r\n    if (this.length >= 0)\r\n        s += this.length;\r\n    else\r\n        s += (-this.length) + \" (undefined)\";\r\n    if (this.tag & 0x20)\r\n        s += \"<br/>(constructed)\";\r\n    else if (((this.tag == 0x03) || (this.tag == 0x04)) && (this.sub !== null))\r\n        s += \"<br/>(encapsulates)\";\r\n    //TODO if (this.tag == 0x03) s += \"Unused bits: \"\r\n    if (content !== null) {\r\n        s += \"<br/>Value:<br/><b>\" + content + \"</b>\";\r\n        if ((typeof oids === 'object') && (this.tag == 0x06)) {\r\n            var oid = oids[content];\r\n            if (oid) {\r\n                if (oid.d) s += \"<br/>\" + oid.d;\r\n                if (oid.c) s += \"<br/>\" + oid.c;\r\n                if (oid.w) s += \"<br/>(warning!)\";\r\n            }\r\n        }\r\n    }\r\n    value.innerHTML = s;\r\n    node.appendChild(value);\r\n    var sub = DOM.tag(\"div\", \"sub\");\r\n    if (this.sub !== null) {\r\n        for (var i = 0, max = this.sub.length; i < max; ++i)\r\n            sub.appendChild(this.sub[i].toDOM());\r\n    }\r\n    node.appendChild(sub);\r\n    head.onclick = function () {\r\n        node.className = (node.className == \"node collapsed\") ? \"node\" : \"node collapsed\";\r\n    };\r\n    return node;\r\n};\r\nASN1.prototype.posStart = function () {\r\n    return this.stream.pos;\r\n};\r\nASN1.prototype.posContent = function () {\r\n    return this.stream.pos + this.header;\r\n};\r\nASN1.prototype.posEnd = function () {\r\n    return this.stream.pos + this.header + Math.abs(this.length);\r\n};\r\nASN1.prototype.fakeHover = function (current) {\r\n    this.node.className += \" hover\";\r\n    if (current)\r\n        this.head.className += \" hover\";\r\n};\r\nASN1.prototype.fakeOut = function (current) {\r\n    var re = / ?hover/;\r\n    this.node.className = this.node.className.replace(re, \"\");\r\n    if (current)\r\n        this.head.className = this.head.className.replace(re, \"\");\r\n};\r\nASN1.prototype.toHexDOM_sub = function (node, className, stream, start, end) {\r\n    if (start >= end)\r\n        return;\r\n    var sub = DOM.tag(\"span\", className);\r\n    sub.appendChild(DOM.text(\r\n        stream.hexDump(start, end)));\r\n    node.appendChild(sub);\r\n};\r\nASN1.prototype.toHexDOM = function (root) {\r\n    var node = DOM.tag(\"span\", \"hex\");\r\n    if (root === undefined) root = node;\r\n    this.head.hexNode = node;\r\n    this.head.onmouseover = function () { this.hexNode.className = \"hexCurrent\"; };\r\n    this.head.onmouseout  = function () { this.hexNode.className = \"hex\"; };\r\n    node.asn1 = this;\r\n    node.onmouseover = function () {\r\n        var current = !root.selected;\r\n        if (current) {\r\n            root.selected = this.asn1;\r\n            this.className = \"hexCurrent\";\r\n        }\r\n        this.asn1.fakeHover(current);\r\n    };\r\n    node.onmouseout  = function () {\r\n        var current = (root.selected == this.asn1);\r\n        this.asn1.fakeOut(current);\r\n        if (current) {\r\n            root.selected = null;\r\n            this.className = \"hex\";\r\n        }\r\n    };\r\n    this.toHexDOM_sub(node, \"tag\", this.stream, this.posStart(), this.posStart() + 1);\r\n    this.toHexDOM_sub(node, (this.length >= 0) ? \"dlen\" : \"ulen\", this.stream, this.posStart() + 1, this.posContent());\r\n    if (this.sub === null)\r\n        node.appendChild(DOM.text(\r\n            this.stream.hexDump(this.posContent(), this.posEnd())));\r\n    else if (this.sub.length > 0) {\r\n        var first = this.sub[0];\r\n        var last = this.sub[this.sub.length - 1];\r\n        this.toHexDOM_sub(node, \"intro\", this.stream, this.posContent(), first.posStart());\r\n        for (var i = 0, max = this.sub.length; i < max; ++i)\r\n            node.appendChild(this.sub[i].toHexDOM(root));\r\n        this.toHexDOM_sub(node, \"outro\", this.stream, last.posEnd(), this.posEnd());\r\n    }\r\n    return node;\r\n};\r\nASN1.prototype.toHexString = function (root) {\r\n    return this.stream.hexDump(this.posStart(), this.posEnd(), true);\r\n};\r\nASN1.decodeLength = function (stream) {\r\n    var buf = stream.get(),\r\n        len = buf & 0x7F;\r\n    if (len == buf)\r\n        return len;\r\n    if (len > 3)\r\n        throw \"Length over 24 bits not supported at position \" + (stream.pos - 1);\r\n    if (len === 0)\r\n        return -1; // undefined\r\n    buf = 0;\r\n    for (var i = 0; i < len; ++i)\r\n        buf = (buf << 8) | stream.get();\r\n    return buf;\r\n};\r\nASN1.hasContent = function (tag, len, stream) {\r\n    if (tag & 0x20) // constructed\r\n        return true;\r\n    if ((tag < 0x03) || (tag > 0x04))\r\n        return false;\r\n    var p = new Stream(stream);\r\n    if (tag == 0x03) p.get(); // BitString unused bits, must be in [0, 7]\r\n    var subTag = p.get();\r\n    if ((subTag >> 6) & 0x01) // not (universal or context)\r\n        return false;\r\n    try {\r\n        var subLength = ASN1.decodeLength(p);\r\n        return ((p.pos - stream.pos) + subLength == len);\r\n    } catch (exception) {\r\n        return false;\r\n    }\r\n};\r\nASN1.decode = function (stream) {\r\n    if (!(stream instanceof Stream))\r\n        stream = new Stream(stream, 0);\r\n    var streamStart = new Stream(stream),\r\n        tag = stream.get(),\r\n        len = ASN1.decodeLength(stream),\r\n        header = stream.pos - streamStart.pos,\r\n        sub = null;\r\n    if (ASN1.hasContent(tag, len, stream)) {\r\n        // it has content, so we decode it\r\n        var start = stream.pos;\r\n        if (tag == 0x03) stream.get(); // skip BitString unused bits, must be in [0, 7]\r\n        sub = [];\r\n        if (len >= 0) {\r\n            // definite length\r\n            var end = start + len;\r\n            while (stream.pos < end)\r\n                sub[sub.length] = ASN1.decode(stream);\r\n            if (stream.pos != end)\r\n                throw \"Content size is not correct for container starting at offset \" + start;\r\n        } else {\r\n            // undefined length\r\n            try {\r\n                for (;;) {\r\n                    var s = ASN1.decode(stream);\r\n                    if (s.tag === 0)\r\n                        break;\r\n                    sub[sub.length] = s;\r\n                }\r\n                len = start - stream.pos;\r\n            } catch (e) {\r\n                throw \"Exception while decoding undefined length content: \" + e;\r\n            }\r\n        }\r\n    } else\r\n        stream.pos += len; // skip content\r\n    return new ASN1(streamStart, header, len, tag, sub);\r\n};\r\nASN1.test = function () {\r\n    var test = [\r\n        { value: [0x27],                   expected: 0x27     },\r\n        { value: [0x81, 0xC9],             expected: 0xC9     },\r\n        { value: [0x83, 0xFE, 0xDC, 0xBA], expected: 0xFEDCBA }\r\n    ];\r\n    for (var i = 0, max = test.length; i < max; ++i) {\r\n        var pos = 0,\r\n            stream = new Stream(test[i].value, 0),\r\n            res = ASN1.decodeLength(stream);\r\n        if (res != test[i].expected)\r\n            document.write(\"In test[\" + i + \"] expected \" + test[i].expected + \" got \" + res + \"\\n\");\r\n    }\r\n};\r\n\r\n// export globals\r\nwindow.ASN1 = ASN1;\r\n})();/**\r\n * Retrieve the hexadecimal value (as a string) of the current ASN.1 element\r\n * @returns {string}\r\n * @public\r\n */\r\nASN1.prototype.getHexStringValue = function () {\r\n  var hexString = this.toHexString();\r\n  var offset = this.header * 2;\r\n  var length = this.length * 2;\r\n  return hexString.substr(offset, length);\r\n};\r\n\r\n/**\r\n * Method to parse a pem encoded string containing both a public or private key.\r\n * The method will translate the pem encoded string in a der encoded string and\r\n * will parse private key and public key parameters. This method accepts public key\r\n * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).\r\n *\r\n * @todo Check how many rsa formats use the same format of pkcs #1.\r\n *\r\n * The format is defined as:\r\n * PublicKeyInfo ::= SEQUENCE {\r\n *   algorithm       AlgorithmIdentifier,\r\n *   PublicKey       BIT STRING\r\n * }\r\n * Where AlgorithmIdentifier is:\r\n * AlgorithmIdentifier ::= SEQUENCE {\r\n *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\r\n *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\r\n * }\r\n * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\r\n * RSAPublicKey ::= SEQUENCE {\r\n *   modulus           INTEGER,  -- n\r\n *   publicExponent    INTEGER   -- e\r\n * }\r\n * it's possible to examine the structure of the keys obtained from openssl using\r\n * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/\r\n * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer\r\n * @private\r\n */\r\nRSAKey.prototype.parseKey = function (pem) {\r\n  try {\r\n    var modulus = 0;\r\n    var public_exponent = 0;\r\n    var reHex = /^\\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\\s*)+$/;\r\n    var der = reHex.test(pem) ? Hex.decode(pem) : Base64.unarmor(pem);\r\n    var asn1 = ASN1.decode(der);\r\n\r\n    //Fixes a bug with OpenSSL 1.0+ private keys\r\n    if(asn1.sub.length === 3){\r\n        asn1 = asn1.sub[2].sub[0];\r\n    }\r\n    if (asn1.sub.length === 9) {\r\n\r\n      // Parse the private key.\r\n      modulus = asn1.sub[1].getHexStringValue(); //bigint\r\n      this.n = parseBigInt(modulus, 16);\r\n\r\n      public_exponent = asn1.sub[2].getHexStringValue(); //int\r\n      this.e = parseInt(public_exponent, 16);\r\n\r\n      var private_exponent = asn1.sub[3].getHexStringValue(); //bigint\r\n      this.d = parseBigInt(private_exponent, 16);\r\n\r\n      var prime1 = asn1.sub[4].getHexStringValue(); //bigint\r\n      this.p = parseBigInt(prime1, 16);\r\n\r\n      var prime2 = asn1.sub[5].getHexStringValue(); //bigint\r\n      this.q = parseBigInt(prime2, 16);\r\n\r\n      var exponent1 = asn1.sub[6].getHexStringValue(); //bigint\r\n      this.dmp1 = parseBigInt(exponent1, 16);\r\n\r\n      var exponent2 = asn1.sub[7].getHexStringValue(); //bigint\r\n      this.dmq1 = parseBigInt(exponent2, 16);\r\n\r\n      var coefficient = asn1.sub[8].getHexStringValue(); //bigint\r\n      this.coeff = parseBigInt(coefficient, 16);\r\n\r\n    }\r\n    else if (asn1.sub.length === 2) {\r\n\r\n      // Parse the public key.\r\n      var bit_string = asn1.sub[1];\r\n      var sequence = bit_string.sub[0];\r\n\r\n      modulus = sequence.sub[0].getHexStringValue();\r\n      this.n = parseBigInt(modulus, 16);\r\n      public_exponent = sequence.sub[1].getHexStringValue();\r\n      this.e = parseInt(public_exponent, 16);\r\n\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  catch (ex) {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Translate rsa parameters in a hex encoded string representing the rsa key.\r\n *\r\n * The translation follow the ASN.1 notation :\r\n * RSAPrivateKey ::= SEQUENCE {\r\n *   version           Version,\r\n *   modulus           INTEGER,  -- n\r\n *   publicExponent    INTEGER,  -- e\r\n *   privateExponent   INTEGER,  -- d\r\n *   prime1            INTEGER,  -- p\r\n *   prime2            INTEGER,  -- q\r\n *   exponent1         INTEGER,  -- d mod (p1)\r\n *   exponent2         INTEGER,  -- d mod (q-1)\r\n *   coefficient       INTEGER,  -- (inverse of q) mod p\r\n * }\r\n * @returns {string}  DER Encoded String representing the rsa private key\r\n * @private\r\n */\r\nRSAKey.prototype.getPrivateBaseKey = function () {\r\n  var options = {\r\n    'array': [\r\n      new KJUR.asn1.DERInteger({'int': 0}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.n}),\r\n      new KJUR.asn1.DERInteger({'int': this.e}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.d}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.p}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.q}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.dmp1}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.dmq1}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.coeff})\r\n    ]\r\n  };\r\n  var seq = new KJUR.asn1.DERSequence(options);\r\n  return seq.getEncodedHex();\r\n};\r\n\r\n/**\r\n * base64 (pem) encoded version of the DER encoded representation\r\n * @returns {string} pem encoded representation without header and footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPrivateBaseKeyB64 = function () {\r\n  return hex2b64(this.getPrivateBaseKey());\r\n};\r\n\r\n/**\r\n * Translate rsa parameters in a hex encoded string representing the rsa public key.\r\n * The representation follow the ASN.1 notation :\r\n * PublicKeyInfo ::= SEQUENCE {\r\n *   algorithm       AlgorithmIdentifier,\r\n *   PublicKey       BIT STRING\r\n * }\r\n * Where AlgorithmIdentifier is:\r\n * AlgorithmIdentifier ::= SEQUENCE {\r\n *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\r\n *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\r\n * }\r\n * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\r\n * RSAPublicKey ::= SEQUENCE {\r\n *   modulus           INTEGER,  -- n\r\n *   publicExponent    INTEGER   -- e\r\n * }\r\n * @returns {string} DER Encoded String representing the rsa public key\r\n * @private\r\n */\r\nRSAKey.prototype.getPublicBaseKey = function () {\r\n  var options = {\r\n    'array': [\r\n      new KJUR.asn1.DERObjectIdentifier({'oid': '1.2.840.113549.1.1.1'}), //RSA Encryption pkcs #1 oid\r\n      new KJUR.asn1.DERNull()\r\n    ]\r\n  };\r\n  var first_sequence = new KJUR.asn1.DERSequence(options);\r\n\r\n  options = {\r\n    'array': [\r\n      new KJUR.asn1.DERInteger({'bigint': this.n}),\r\n      new KJUR.asn1.DERInteger({'int': this.e})\r\n    ]\r\n  };\r\n  var second_sequence = new KJUR.asn1.DERSequence(options);\r\n\r\n  options = {\r\n    'hex': '00' + second_sequence.getEncodedHex()\r\n  };\r\n  var bit_string = new KJUR.asn1.DERBitString(options);\r\n\r\n  options = {\r\n    'array': [\r\n      first_sequence,\r\n      bit_string\r\n    ]\r\n  };\r\n  var seq = new KJUR.asn1.DERSequence(options);\r\n  return seq.getEncodedHex();\r\n};\r\n\r\n/**\r\n * base64 (pem) encoded version of the DER encoded representation\r\n * @returns {string} pem encoded representation without header and footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPublicBaseKeyB64 = function () {\r\n  return hex2b64(this.getPublicBaseKey());\r\n};\r\n\r\n/**\r\n * wrap the string in block of width chars. The default value for rsa keys is 64\r\n * characters.\r\n * @param {string} str the pem encoded string without header and footer\r\n * @param {Number} [width=64] - the length the string has to be wrapped at\r\n * @returns {string}\r\n * @private\r\n */\r\nRSAKey.prototype.wordwrap = function (str, width) {\r\n  width = width || 64;\r\n  if (!str) {\r\n    return str;\r\n  }\r\n  var regex = '(.{1,' + width + '})( +|$\\n?)|(.{1,' + width + '})';\r\n  return str.match(RegExp(regex, 'g')).join('\\n');\r\n};\r\n\r\n/**\r\n * Retrieve the pem encoded private key\r\n * @returns {string} the pem encoded private key with header/footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPrivateKey = function () {\r\n  var key = \"-----BEGIN RSA PRIVATE KEY-----\\n\";\r\n  key += this.wordwrap(this.getPrivateBaseKeyB64()) + \"\\n\";\r\n  key += \"-----END RSA PRIVATE KEY-----\";\r\n  return key;\r\n};\r\n\r\n/**\r\n * Retrieve the pem encoded public key\r\n * @returns {string} the pem encoded public key with header/footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPublicKey = function () {\r\n  var key = \"-----BEGIN PUBLIC KEY-----\\n\";\r\n  key += this.wordwrap(this.getPublicBaseKeyB64()) + \"\\n\";\r\n  key += \"-----END PUBLIC KEY-----\";\r\n  return key;\r\n};\r\n\r\n/**\r\n * Check if the object contains the necessary parameters to populate the rsa modulus\r\n * and public exponent parameters.\r\n * @param {Object} [obj={}] - An object that may contain the two public key\r\n * parameters\r\n * @returns {boolean} true if the object contains both the modulus and the public exponent\r\n * properties (n and e)\r\n * @todo check for types of n and e. N should be a parseable bigInt object, E should\r\n * be a parseable integer number\r\n * @private\r\n */\r\nRSAKey.prototype.hasPublicKeyProperty = function (obj) {\r\n  obj = obj || {};\r\n  return (\r\n    obj.hasOwnProperty('n') &&\r\n    obj.hasOwnProperty('e')\r\n  );\r\n};\r\n\r\n/**\r\n * Check if the object contains ALL the parameters of an RSA key.\r\n * @param {Object} [obj={}] - An object that may contain nine rsa key\r\n * parameters\r\n * @returns {boolean} true if the object contains all the parameters needed\r\n * @todo check for types of the parameters all the parameters but the public exponent\r\n * should be parseable bigint objects, the public exponent should be a parseable integer number\r\n * @private\r\n */\r\nRSAKey.prototype.hasPrivateKeyProperty = function (obj) {\r\n  obj = obj || {};\r\n  return (\r\n    obj.hasOwnProperty('n') &&\r\n    obj.hasOwnProperty('e') &&\r\n    obj.hasOwnProperty('d') &&\r\n    obj.hasOwnProperty('p') &&\r\n    obj.hasOwnProperty('q') &&\r\n    obj.hasOwnProperty('dmp1') &&\r\n    obj.hasOwnProperty('dmq1') &&\r\n    obj.hasOwnProperty('coeff')\r\n  );\r\n};\r\n\r\n/**\r\n * Parse the properties of obj in the current rsa object. Obj should AT LEAST\r\n * include the modulus and public exponent (n, e) parameters.\r\n * @param {Object} obj - the object containing rsa parameters\r\n * @private\r\n */\r\nRSAKey.prototype.parsePropertiesFrom = function (obj) {\r\n  this.n = obj.n;\r\n  this.e = obj.e;\r\n\r\n  if (obj.hasOwnProperty('d')) {\r\n    this.d = obj.d;\r\n    this.p = obj.p;\r\n    this.q = obj.q;\r\n    this.dmp1 = obj.dmp1;\r\n    this.dmq1 = obj.dmq1;\r\n    this.coeff = obj.coeff;\r\n  }\r\n};\r\n\r\n/**\r\n * Create a new JSEncryptRSAKey that extends Tom Wu's RSA key object.\r\n * This object is just a decorator for parsing the key parameter\r\n * @param {string|Object} key - The key in string format, or an object containing\r\n * the parameters needed to build a RSAKey object.\r\n * @constructor\r\n */\r\nvar JSEncryptRSAKey = function (key) {\r\n  // Call the super constructor.\r\n  RSAKey.call(this);\r\n  // If a key key was provided.\r\n  if (key) {\r\n    // If this is a string...\r\n    if (typeof key === 'string') {\r\n      this.parseKey(key);\r\n    }\r\n    else if (\r\n      this.hasPrivateKeyProperty(key) ||\r\n      this.hasPublicKeyProperty(key)\r\n    ) {\r\n      // Set the values for the key.\r\n      this.parsePropertiesFrom(key);\r\n    }\r\n  }\r\n};\r\n\r\n// Derive from RSAKey.\r\nJSEncryptRSAKey.prototype = new RSAKey();\r\n\r\n// Reset the contructor.\r\nJSEncryptRSAKey.prototype.constructor = JSEncryptRSAKey;\r\n\r\n\r\n/**\r\n *\r\n * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour\r\n * possible parameters are:\r\n * - default_key_size        {number}  default: 1024 the key size in bit\r\n * - default_public_exponent {string}  default: '010001' the hexadecimal representation of the public exponent\r\n * - log                     {boolean} default: false whether log warn/error or not\r\n * @constructor\r\n */\r\nvar JSEncrypt = function (options) {\r\n  options = options || {};\r\n  this.default_key_size = parseInt(options.default_key_size) || 1024;\r\n  this.default_public_exponent = options.default_public_exponent || '010001'; //65537 default openssl public exponent for rsa key type\r\n  this.log = options.log || false;\r\n  // The private and public key.\r\n  this.key = null;\r\n};\r\n\r\n/**\r\n * Method to set the rsa key parameter (one method is enough to set both the public\r\n * and the private key, since the private key contains the public key paramenters)\r\n * Log a warning if logs are enabled\r\n * @param {Object|string} key the pem encoded string or an object (with or without header/footer)\r\n * @public\r\n */\r\nJSEncrypt.prototype.setKey = function (key) {\r\n  if (this.log && this.key) {\r\n    console.warn('A key was already set, overriding existing.');\r\n  }\r\n  this.key = new JSEncryptRSAKey(key);\r\n};\r\n\r\n/**\r\n * Proxy method for setKey, for api compatibility\r\n * @see setKey\r\n * @public\r\n */\r\nJSEncrypt.prototype.setPrivateKey = function (privkey) {\r\n  // Create the key.\r\n  this.setKey(privkey);\r\n};\r\n\r\n/**\r\n * Proxy method for setKey, for api compatibility\r\n * @see setKey\r\n * @public\r\n */\r\nJSEncrypt.prototype.setPublicKey = function (pubkey) {\r\n  // Sets the public key.\r\n  this.setKey(pubkey);\r\n};\r\n\r\n/**\r\n * Proxy method for RSAKey object's decrypt, decrypt the string using the private\r\n * components of the rsa key object. Note that if the object was not set will be created\r\n * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\r\n * @param {string} string base64 encoded crypted string to decrypt\r\n * @return {string} the decrypted string\r\n * @public\r\n */\r\nJSEncrypt.prototype.decrypt = function (string) {\r\n  // Return the decrypted string.\r\n  try {\r\n    return this.getKey().decrypt(b64tohex(string));\r\n  }\r\n  catch (ex) {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Proxy method for RSAKey object's encrypt, encrypt the string using the public\r\n * components of the rsa key object. Note that if the object was not set will be created\r\n * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\r\n * @param {string} string the string to encrypt\r\n * @return {string} the encrypted string encoded in base64\r\n * @public\r\n */\r\nJSEncrypt.prototype.encrypt = function (string) {\r\n  // Return the encrypted string.\r\n  try {\r\n    return hex2b64(this.getKey().encrypt(string));\r\n  }\r\n  catch (ex) {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Getter for the current JSEncryptRSAKey object. If it doesn't exists a new object\r\n * will be created and returned\r\n * @param {callback} [cb] the callback to be called if we want the key to be generated\r\n * in an async fashion\r\n * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object\r\n * @public\r\n */\r\nJSEncrypt.prototype.getKey = function (cb) {\r\n  // Only create new if it does not exist.\r\n  if (!this.key) {\r\n    // Get a new private key.\r\n    this.key = new JSEncryptRSAKey();\r\n    if (cb && {}.toString.call(cb) === '[object Function]') {\r\n      this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);\r\n      return;\r\n    }\r\n    // Generate the key.\r\n    this.key.generate(this.default_key_size, this.default_public_exponent);\r\n  }\r\n  return this.key;\r\n};\r\n\r\n/**\r\n * Returns the pem encoded representation of the private key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the private key WITH header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPrivateKey = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPrivateKey();\r\n};\r\n\r\n/**\r\n * Returns the pem encoded representation of the private key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the private key WITHOUT header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPrivateKeyB64 = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPrivateBaseKeyB64();\r\n};\r\n\r\n\r\n/**\r\n * Returns the pem encoded representation of the public key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the public key WITH header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPublicKey = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPublicKey();\r\n};\r\n\r\n/**\r\n * Returns the pem encoded representation of the public key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the public key WITHOUT header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPublicKeyB64 = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPublicBaseKeyB64();\r\n};\r\n\r\nexports.JSEncrypt = JSEncrypt;\r\n})(JSEncryptExports);\r\nvar JSEncrypt = JSEncryptExports.JSEncrypt;\r\n"]}]}