{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\store\\modules\\user.js","mtime":1604281046845},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["// 用户信息模块\nimport { UserApi } from \"../../api/UserApi\";\nimport cookie from '../../utils/cookie.js';\nimport keys from \"../../utils/keys\";\nexport default {\n  state: {\n    displayName: '',\n    userName: '',\n    userId: '',\n    loggedTime: 0,\n    isRoot: false,\n    lastActiveDate: ''\n  },\n  mutations: {\n    setUserName: function setUserName(state, userName) {\n      state.userName = userName;\n    },\n    setUserDisplayName: function setUserDisplayName(state, displayName) {\n      state.userDisplayName = displayName;\n    },\n    setUserId: function setUserId(state, userId) {\n      state.userId = userId;\n    },\n    setLastActiveDate: function setLastActiveDate(state, lastActiveDate) {\n      state.lastActiveDate = lastActiveDate;\n    },\n    setIsRoot: function setIsRoot(state, isRoot) {\n      state.isRoot = isRoot || false;\n    }\n  },\n  actions: {\n    handleUserLogin: function handleUserLogin(_ref, data) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        UserApi.postUserLogin(data).then(function (res) {\n          console.log(res);\n\n          if (typeof res === 'boolean' && !res) {\n            resolve(false);\n          } else if (res.UserName) {\n            commit('setLoginStatus', true, {\n              root: true\n            });\n            commit('setUserId', res.UserID);\n            commit('setUserName', res.UserName);\n            commit('setUserDisplayName', res.DisplayName);\n            commit('setIsRoot', res.IsRoot);\n            resolve(res);\n          } else {\n            reject();\n          }\n        });\n      });\n    },\n    handleUserLogout: function handleUserLogout() {\n      return new Promise(function (resolve) {\n        UserApi.postUserLogout().then(function (res) {\n          resolve(res);\n        });\n      });\n    },\n    getUserInfo: function getUserInfo(_ref2) {\n      var commit = _ref2.commit;\n      var data = cookie.get(keys.userInfo);\n\n      if (data) {\n        data = JSON.parse(data);\n        console.log(data);\n        commit('setLoginStatus', true, {\n          root: true\n        });\n        commit('setUserId', data.UserID);\n        commit('setUserName', data.UserName);\n        commit('setIsRoot', data.IsRoot);\n        commit('setLastActiveDate', data.LastActiveDate);\n        commit('setUserDisplayName', data.DisplayName);\n      }\n    }\n  }\n};",{"version":3,"sources":["C:/Users/yif_z/Desktop/DealViewer/src/store/modules/user.js"],"names":["UserApi","cookie","keys","state","displayName","userName","userId","loggedTime","isRoot","lastActiveDate","mutations","setUserName","setUserDisplayName","userDisplayName","setUserId","setLastActiveDate","setIsRoot","actions","handleUserLogin","data","commit","Promise","resolve","reject","postUserLogin","then","res","console","log","UserName","root","UserID","DisplayName","IsRoot","handleUserLogout","postUserLogout","getUserInfo","get","userInfo","JSON","parse","LastActiveDate"],"mappings":"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","sourcesContent":["// 用户信息模块\nimport { UserApi } from \"../../api/UserApi\";\nimport cookie from '../../utils/cookie.js';\nimport keys from \"../../utils/keys\";\n\nexport default {\n  state: {\n    displayName: '',\n    userName: '',\n    userId: '',\n    loggedTime: 0,\n    isRoot: false,\n    lastActiveDate: '',\n  },\n  mutations: {\n    setUserName(state, userName) {\n      state.userName = userName;\n    },\n    setUserDisplayName(state, displayName) {\n      state.userDisplayName = displayName;\n    },\n    setUserId(state, userId) {\n      state.userId = userId;\n    },\n    setLastActiveDate(state, lastActiveDate) {\n      state.lastActiveDate = lastActiveDate;\n    },\n    setIsRoot(state, isRoot) {\n      state.isRoot = isRoot || false;\n    }\n  },\n  actions: {\n    handleUserLogin({ commit }, data) {\n      return new Promise((resolve, reject) => {\n        UserApi.postUserLogin(data).then(res => {\n          console.log(res)\n          if(typeof res === 'boolean' && !res) {\n            resolve(false);\n          }else if (res.UserName) {\n            commit('setLoginStatus', true, { root: true });\n            commit('setUserId', res.UserID);\n            commit('setUserName', res.UserName);\n            commit('setUserDisplayName', res.DisplayName);\n            commit('setIsRoot', res.IsRoot);\n            resolve(res);\n          } else {\n            reject();\n          }\n        });\n      });\n    },\n    handleUserLogout() {\n      return new Promise((resolve) => {\n        UserApi.postUserLogout().then(res => {\n          resolve(res);\n        });\n      });\n    },\n    getUserInfo({ commit }) {\n      let data = cookie.get(keys.userInfo);\n      if (data) {\n        data = JSON.parse(data);\n        console.log(data)\n        commit('setLoginStatus', true, { root: true });\n        commit('setUserId', data.UserID);\n        commit('setUserName', data.UserName);\n        commit('setIsRoot', data.IsRoot);\n        commit('setLastActiveDate', data.LastActiveDate);\n        commit('setUserDisplayName', data.DisplayName);\n      }\n    }\n  }\n};\n"]}]}