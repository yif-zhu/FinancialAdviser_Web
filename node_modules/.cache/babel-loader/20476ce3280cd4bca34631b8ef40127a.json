{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\store\\modules\\user.js","mtime":1604281046845},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["// 用户信息模块\nimport { UserApi } from \"../../api/UserApi\";\nimport cookie from '../../utils/cookie.js';\nimport keys from \"../../utils/keys\";\nexport default {\n  state: {\n    displayName: '',\n    userName: '',\n    userId: '',\n    loggedTime: 0,\n    isRoot: false,\n    lastActiveDate: ''\n  },\n  mutations: {\n    setUserName: function setUserName(state, userName) {\n      state.userName = userName;\n    },\n    setUserDisplayName: function setUserDisplayName(state, displayName) {\n      state.userDisplayName = displayName;\n    },\n    setUserId: function setUserId(state, userId) {\n      state.userId = userId;\n    },\n    setLastActiveDate: function setLastActiveDate(state, lastActiveDate) {\n      state.lastActiveDate = lastActiveDate;\n    },\n    setIsRoot: function setIsRoot(state, isRoot) {\n      state.isRoot = isRoot || false;\n    }\n  },\n  actions: {\n    handleUserLogin: function handleUserLogin(_ref, data) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        UserApi.postUserLogin(data).then(function (res) {\n          console.log(res);\n\n          if (typeof res === 'boolean' && !res) {\n            resolve(false);\n          } else if (res.UserName) {\n            commit('setLoginStatus', true, {\n              root: true\n            });\n            commit('setUserId', res.UserID);\n            commit('setUserName', res.UserName);\n            commit('setUserDisplayName', res.DisplayName);\n            commit('setIsRoot', res.IsRoot);\n            resolve(res);\n          } else {\n            reject();\n          }\n        });\n      });\n    },\n    handleUserLogout: function handleUserLogout() {\n      return new Promise(function (resolve) {\n        UserApi.postUserLogout().then(function (res) {\n          resolve(res);\n        });\n      });\n    },\n    getUserInfo: function getUserInfo(_ref2) {\n      var commit = _ref2.commit;\n      var data = cookie.get(keys.userInfo);\n\n      if (data) {\n        data = JSON.parse(data);\n        console.log(data);\n        commit('setLoginStatus', true, {\n          root: true\n        });\n        commit('setUserId', data.UserID);\n        commit('setUserName', data.UserName);\n        commit('setIsRoot', data.IsRoot);\n        commit('setLastActiveDate', data.LastActiveDate);\n        commit('setUserDisplayName', data.DisplayName);\n      }\n    }\n  }\n};",null]}