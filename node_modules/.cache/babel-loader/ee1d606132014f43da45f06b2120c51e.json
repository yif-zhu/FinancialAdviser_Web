{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\components\\admin\\ProductListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\components\\admin\\ProductListTable.vue","mtime":1604281045798},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport csvc from \"@/api/CommonService.js\";\nimport fsvc from '@/api/FileService';\nimport taskprocess from '@/api/TaskProcess';\nimport createTrust from \"./CreateTrust.vue\";\nimport checkList from \"./CheckList.vue\";\nimport pager from \"@/components/common/Pager.vue\";\nimport DataGrid from '@/components/common/DataGrid.vue';\nimport hchart from \"@/components/common/Highcharts\";\nimport Highcharts from \"highcharts\";\nimport advFilter from '@/components/common/AdvanceFilter.vue';\nimport dynamicTab from '@/mixins/dynamicTab.js';\nimport { mapMutations, mapState } from 'vuex';\nimport { FileBaseFolder } from '@/utils/config';\nimport transformSeparator from '@/utils/transformSeparator';\nexport default {\n  components: {\n    pager: pager,\n    DataGrid: DataGrid,\n    createTrust: createTrust,\n    checkList: checkList,\n    hchart: hchart,\n    advFilter: advFilter\n  },\n  props: {\n    openInParentTab: {\n      type: Function\n    },\n    projectsTransactionHight: {}\n  },\n  data: function data() {\n    return {\n      dialogTitle: '',\n      listFilter: 'IsMarketProduct = 1',\n      listOrder: \"TrustId desc\",\n      listData: [],\n      dynamicTabHeight: \"\",\n      excelUploadVisible: false,\n      dlgTrustInfo: {\n        Visiable: false,\n        TrustId: 0\n      },\n      dlgCheckList: {\n        Visiable: false,\n        TrustId: 0\n      },\n      statisticsDialogVisible: false,\n      dialogUploadFileName: null,\n      dropdownData: [],\n      statisticOptions: null,\n      instructionstUploadVisible: false,\n      RatingUploadVisible: false,\n      trusteeUploadVisible: false,\n      dlgAssetPoolPayment: false,\n      uploadType: '',\n      ShowDetailDialog: false,\n      searchS: true,\n      fields: [],\n      removeShow: false,\n      searchConA: false,\n      bondCode: ''\n    };\n  },\n  mixins: [dynamicTab],\n  created: function created() {\n    this.dynamicTabInterFace();\n  },\n  mounted: function mounted() {\n    var self = this;\n    self.getDropdown(); //self.LoadStatistic()\n\n    if (this.projectsTransactionHight) {\n      $(\".transactionStyle\").removeClass(\"tool-elRightBtn\");\n      $(\".transactionBox\").addClass(\"transactionBoxStyle\");\n\n      window.onresize = function () {\n        self.dynamicTabHeight = document.documentElement.clientHeight - 280 + \"px\";\n      };\n    } else {\n      window.onresize = function () {\n        self.dynamicTabHeight = document.documentElement.clientHeight - 230 + \"px\";\n      };\n    }\n  },\n  computed: _objectSpread({}, mapState('user', ['userName'])),\n  methods: _objectSpread(_objectSpread({}, mapMutations('dynamicTabs', ['addTab'])), {}, {\n    handleSearchCon: function handleSearchCon(fields, removeShow) {\n      this.fields = fields;\n      this.removeShow = removeShow;\n      console.log(fields);\n    },\n    removeColdChosen: function removeColdChosen() {\n      this.$refs.advFilterR.bondCodeClear();\n    },\n    removeFieldChosen: function removeFieldChosen(fields) {\n      this.$refs.advFilterR.removeFieldChosen(fields);\n    },\n    removeAll: function removeAll() {\n      this.searchConA = false;\n      this.$refs.advFilterR.removeAll();\n      this.removeColdChosen();\n    },\n    dynamicTabInterFace: function dynamicTabInterFace() {\n      this.newTab({\n        id: 'ProductList',\n        name: 'ProductList',\n        title: '产品管理',\n        closable: false,\n        // 不允许关闭\n        isCache: true // 缓存当前页面\n\n      });\n      this.newTab({\n        id: 'DataStatistics',\n        // 动态标签的ID，用来判断唯一性，避免重复创建\n        name: 'DataStatistics',\n        // 动态标签需要绑定到的路由，与路由配置中的name值要一致\n        title: '数据统计',\n        autoOpen: false,\n        // 不需要自动打开\n        closable: false,\n        // 不允许关闭\n        isCache: true // 缓存当前页面\n\n      }); //         this.newTab({\n      //           id: 'WorkStatistics',\n      //           name: 'WorkStatistics',\n      //           title: '工作统计',\n      //           autoOpen: false,\n      //           closable: false,\n      //           isCache: true\n      //         })\n    },\n    doProductListFilter: function doProductListFilter(condition, bondCode) {\n      this.listFilter = condition;\n      this.bondCode = bondCode;\n    },\n    searchSC: function searchSC() {\n      this.searchS = !this.searchS;\n    },\n    handleCommand: function handleCommand(dialogName) {\n      this.uploadType = dialogName;\n\n      if (dialogName == 'excelUpload') {\n        this.excelUploadVisible = true;\n        this.clearUploadedText();\n      } else if (dialogName == 'distributionUpload') {\n        $(\"#InstructionsUpload\").val('');\n        this.dialogUploadFileName = null;\n        this.instructionstUploadVisible = true;\n      } else if (dialogName == 'ratingReportUpload') {\n        $(\"#RatingUpload\").val('');\n        this.dialogUploadFileName = null;\n        this.RatingUploadVisible = true;\n      } else if (dialogName == 'trusteeUpload') {\n        $(\"#trusteeUpload\").val('');\n        this.dialogUploadFileName = null;\n        this.trusteeUploadVisible = true;\n      } else if (dialogName == 'assetPoolPayment' || dialogName == 'TaxTable') {\n        this.dialogUploadFileName = null;\n        this.dlgAssetPoolPayment = true;\n\n        if (dialogName == 'assetPoolPayment') {\n          this.dialogTitle = '上传资产池还款记录';\n        } else {\n          this.dialogTitle = '上传税费表';\n        }\n      } else {\n        switch (dialogName) {\n          case 'PoolStatistics':\n            this.dialogTitle = '上传资产池统计';\n            break;\n\n          case 'PoolDistributions':\n            this.dialogTitle = '上传资产池分布';\n            break;\n\n          case 'PoolCashFlow':\n            this.dialogTitle = '上传资产池现金流';\n            break;\n\n          case 'TrustServiceProvider':\n            this.dialogTitle = '上传相关参与方';\n\n          default:\n            break;\n        }\n\n        this.dialogUploadFileName = null;\n        this.dlgAssetPoolPayment = true;\n      }\n    },\n    handleCommandExport: function handleCommandExport(type) {\n      switch (type) {\n        case '0':\n          this.exportTrustBondPayment('1');\n          break;\n\n        case '1':\n          this.exportTrustBondPayment('2');\n          break;\n\n        case '2':\n          this.exportAssetPoolPayment();\n          break;\n\n        case '3':\n          this.exportTaxTable();\n          break;\n\n        case '5':\n          this.exportTrustPro();\n          break;\n\n        case '4':\n          this.exportTrustXML();\n\n        default:\n          break;\n      }\n    },\n    reInit: function reInit() {\n      this.$refs.advfStructureList.LoadFiledsAndInit();\n      this.$refs.pagerViewTrust.getListWithPager();\n    },\n    listDataLoaded: function listDataLoaded(data) {\n      this.listData = data;\n    },\n    listSortChange: function listSortChange(sorter) {\n      if (!sorter.prop || !sorter.order) {\n        return;\n      }\n\n      var order = sorter.order === \"descending\" ? \" desc\" : \" asc\";\n      var targetOrder = sorter.prop + order;\n\n      if (targetOrder === this.listOrder) {\n        return;\n      }\n\n      this.listOrder = targetOrder;\n    },\n    listSelectionChange: function listSelectionChange(data) {\n      this.listData = data;\n    },\n    //   advFilterButtonClick(conditions) {\n    //     this.listFilter = conditions;\n    //   },\n    openInTab: function openInTab(id, title) {\n      this.addTab({\n        name: '' + id,\n        title: title,\n        id: id,\n        component: 'structureCustomize'\n      });\n    },\n    advsFilterPositionClick: function advsFilterPositionClick() {\n      $(\".advsFilterPosition\").slideToggle(180);\n    },\n    editStructure: function editStructure() {\n      if (this.listData.length > 0) {\n        this.openInTab(this.listData[0].TrustId, this.listData[0].TrustName);\n      }\n    },\n    downloadReport: function downloadReport(scope, category) {\n      // console.log(scope);\n      fsvc.DownLoadFileByPath(scope);\n    },\n    //上传数据\n    exportTrustBondPayment: function exportTrustBondPayment(type) {\n      var self = this;\n      var svc = new fsvc.Export(\"PortfolioManagement\", \"DV.FactBondPayment_Export\");\n      svc.AddParam({\n        Name: \"TrustID\",\n        Value: self.listData[0].TrustId,\n        DBType: \"int\"\n      });\n      svc.AddParam({\n        Name: \"ResultType\",\n        Value: type,\n        DBType: \"int\"\n      }); //语言\n\n      svc.ExportExcelFile(\"债券收益分配\");\n    },\n    exportAssetPoolPayment: function exportAssetPoolPayment() {\n      var self = this;\n      var tp = new taskprocess(\"Task\", \"DV_ExportPaymentScheduleAggregation\", \"TaskProcess\");\n      tp.AddVariableItem(\"TrustID\", self.listData[0].TrustId, \"String\");\n      tp.ShowIndicator(function () {\n        var fName = '资产池还款记录_' + self.listData[0].TrustId + '.xlsx';\n        var filePath = transformSeparator(FileBaseFolder + 'DealViewer\\\\Output\\\\' + fName);\n        fsvc.DownLoadFileByPath(filePath);\n      });\n    },\n    exportTaxTable: function exportTaxTable() {\n      var self = this;\n      var tp = new taskprocess(\"Task\", \"DV_ExportFeeStructureReconciliation\", \"TaskProcess\");\n      tp.AddVariableItem(\"TrustID\", self.listData[0].TrustId, \"String\");\n      tp.ShowIndicator(function () {\n        var fName = '税费表_' + self.listData[0].TrustId + '.xlsx';\n        var filePath = transformSeparator(FileBaseFolder + 'DealViewer\\\\Output\\\\' + fName);\n        fsvc.DownLoadFileByPath(filePath);\n      }); // \t\t\t\t    var svc = new fsvc.Export(\"PortfolioManagement\", \"DV.FeeStructureReconciliation_Export\");\n      // \t\t\t\t    svc.AddParam({\n      // \t\t\t\t        Name: \"TrustID\",\n      // \t\t\t\t        Value: self.listData[0].TrustId,\n      // \t\t\t\t        DBType: \"int\"\n      // \t\t\t\t    });\n      // \t\t\t\t    //语言\n      // \t\t\t\t    svc.ExportExcelFile(\"税费表\");\n    },\n    //导出XML 给QuickDeal用\n    exportTrustXML: function exportTrustXML() {\n      var self = this;\n      var tp = new taskprocess(\"Task\", \"FixedIncomeSuite_TrustInfoExport\", \"TaskProcess\");\n      tp.AddVariableItem(\"TrustId\", self.listData[0].TrustId, \"int\");\n      tp.ShowIndicator(function () {\n        var filePath = \"../../TrustManagementService/TrustImportAndExportModel/AnalysisFramework_TrustInfoImportAndExportModel_\" + self.listData[0].TrustId + \".xml\";\n        var filename = 'AnalysisFramework_TrustInfoImportAndExportModel_' + self.listData[0].TrustId + '.xml';\n        var link = document.createElement('a');\n        link.download = filename;\n        link.style.display = 'none';\n        link.href = filePath;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      });\n    },\n    exportTrustPro: function exportTrustPro() {\n      var _this = this;\n\n      var self = this;\n      var trustId = self.listData[0].TrustId;\n      console.log(trustId);\n      var callApi = this.$http('TaskProcess', 'Task.initTaskStatusByTrustId', 1);\n      callApi.AddParam({\n        Name: 'trustId',\n        Value: trustId,\n        DBType: 'int'\n      });\n      callApi.ExecResult().then(function (res) {});\n      var tpi = new taskprocess(\"Task\", 'FixedIncomeSuite_TrustInfoExport', \"TaskProcess\");\n      tpi.AddVariableItem('TrustId', trustId, 'String');\n      tpi.ShowIndicator(function () {\n        var svc = _this.$http('TaskProcess', 'Task.checkTaskStatusByTrustId', 1);\n\n        svc.AddParam({\n          Name: 'trustId',\n          Value: trustId,\n          DBType: 'int'\n        });\n        svc.ExecTable().then(function (res) {\n          if (res.length == 0) {\n            return;\n          }\n\n          if (res[0].Status == \"1\") {\n            var filePath = \"/TrustManagementService/TrustImportAndExportModel/QuickDeal_TrustInfoImportAndExportModel_\" + trustId + \".xml\";\n            var filename = 'QuickDeal_TrustInfoImportAndExportModel_' + trustId + '.xml';\n            var link = document.createElement('a');\n            link.download = filename;\n            link.style.display = 'none';\n            link.href = filePath;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n          }\n        });\n      });\n    },\n    clearUploadedText: function clearUploadedText() {\n      this.dialogUploadFileName = null;\n    },\n    excelUploadFile: function excelUploadFile() {\n      var self = this;\n      console.log(self.userName);\n      var postData = $(\"#excelUpload\")[0].files[0];\n\n      if (!postData) {\n        self.$message({\n          message: '请选文件',\n          type: 'warning'\n        });\n        return;\n      }\n\n      var postDataName = postData.name;\n      var timestamp = new Date().getTime();\n      var trustId = self.listData[0].TrustId;\n      fsvc.Upload(postData, timestamp + postDataName, \"DealViewer\\\\ExcelModelData\").then(function (fpath) {\n        self.excelUploadVisible = false; // 关闭上传弹窗\n\n        self.filePath = transformSeparator(FileBaseFolder + fpath.UploadResult);\n        self.excelUpload = false;\n        var tp = new taskprocess(\"Task\", \"DV_UploadProductInfo\", \"TaskProcess\");\n        tp.AddVariableItem(\"TrustID\", trustId, \"String\");\n        tp.AddVariableItem(\"UserName\", self.userName, \"String\");\n        tp.AddVariableItem(\"DataType\", 'ExcelModel', \"String\");\n        tp.AddVariableItem(\"SourceFilePath\", FileBaseFolder + fpath.UploadResult, \"String\");\n        tp.ShowIndicator(function () {\n          self.$refs.refDataGrid.refresh();\n        });\n      });\n    },\n    trusteeUploadFile: function trusteeUploadFile() {\n      var self = this;\n      var postData = $(\"#trusteeUpload\")[0].files[0];\n\n      if (!postData) {\n        self.$message({\n          message: '请选文件',\n          type: 'warning'\n        });\n        return;\n      }\n\n      var postDataName = postData.name;\n      var timestamp = new Date().getTime();\n      var trustId = self.listData[0].TrustId;\n      fsvc.Upload(postData, timestamp + postDataName, transformSeparator(\"DealViewer\\\\TrusteeReportData\")).then(function (fpath) {\n        self.trusteeUploadVisible = false; // 关闭上传弹窗\n\n        self.filePath = FileBaseFolder + fpath.UploadResult;\n        self.excelUpload = false;\n        var tp = new taskprocess(\"Task\", \"DV_UploadTrustFactBondPayment\", \"TaskProcess\");\n        tp.AddVariableItem(\"TrustID\", trustId, \"String\");\n        tp.AddVariableItem(\"UserName\", self.userName, \"String\");\n        tp.AddVariableItem(\"DataType\", 'FactBondPayment', \"String\");\n        tp.AddVariableItem(\"SourceFilePath\", FileBaseFolder + fpath.UploadResult, \"String\");\n        tp.ShowIndicator(function () {\n          self.$refs.refDataGrid.refresh();\n        });\n      });\n    },\n    assetPoolPaymentUpload: function assetPoolPaymentUpload() {\n      var self = this;\n      var postData = $(\"#assetPoolPayment\")[0].files[0];\n\n      if (!postData) {\n        self.$message({\n          message: '请选文件',\n          type: 'warning'\n        });\n        return;\n      }\n\n      var timestamp = new Date().getTime();\n      var postDataName = postData.name;\n      var trustId = self.listData[0].TrustId;\n      var upFile = '',\n          taskName = '',\n          dataType = '';\n\n      switch (self.uploadType) {\n        case 'assetPoolPayment':\n          upFile = \"DealViewer\\\\AssetPoolData\";\n          taskName = \"DV_UploadFactAssetPoolPayment\";\n          dataType = 'FactAssetPoolPayment';\n          break;\n\n        case 'TaxTable':\n          upFile = \"DealViewer\\\\TrustFee\";\n          taskName = 'DV_UploadFeeStructureReconciliation';\n          dataType = 'TaxFee';\n          break;\n\n        case 'PoolStatistics':\n          upFile = \"DealViewer\\\\PoolStatistics\";\n          taskName = 'DV_UploadPoolStatistics';\n          dataType = 'PoolStatistics';\n          break;\n\n        case 'PoolDistributions':\n          upFile = \"DealViewer\\\\PoolDistributions\";\n          taskName = 'DV_UploadPoolDistributions';\n          dataType = 'PoolDistributions';\n          break;\n\n        case 'PoolCashFlow':\n          upFile = \"DealViewer\\\\PoolCashflowAggregation\";\n          taskName = 'DV_UploadCashflowAggregation';\n          dataType = 'PoolCashFlow';\n          break;\n\n        case 'TrustServiceProvider':\n          upFile = \"DealViewer\\\\TrustServiceProvider\";\n          taskName = 'DV_UploadTrustServiceProvider';\n          dataType = 'TrustServiceProvider';\n          break;\n\n        default:\n          break;\n      }\n\n      fsvc.Upload(postData, timestamp + postDataName, upFile).then(function (fpath) {\n        self.filePath = FileBaseFolder + fpath.UploadResult;\n        self.excelUpload = false;\n        var tp = new taskprocess(\"Task\", taskName, \"TaskProcess\");\n        tp.AddVariableItem(\"TrustID\", trustId, \"String\");\n        tp.AddVariableItem(\"UserName\", self.userName, \"String\");\n        tp.AddVariableItem(\"DataType\", dataType, \"String\");\n        tp.AddVariableItem(\"SourceFilePath\", FileBaseFolder + fpath.UploadResult, \"String\");\n        tp.ShowIndicator(function () {\n          self.dlgAssetPoolPayment = false;\n          self.$refs.refDataGrid.refresh();\n        });\n      });\n    },\n    //上传文件处理\n    dialogFileInput: function dialogFileInput(event) {\n      var file = event.target.files;\n      console.log(file);\n      var self = this;\n\n      if (file.length > 1) {\n        this.dialogUploadFileName = '';\n\n        for (var key in file) {\n          if (key == \"length\") {\n            self.dialogUploadFileName = self.dialogUploadFileName.substring(0, self.dialogUploadFileName.length - 1);\n            return;\n          }\n\n          self.dialogUploadFileName = self.dialogUploadFileName + file[key].name + ',';\n        }\n      } else if (file.length == 1) {\n        this.dialogUploadFileName = file[0].name;\n      }\n    },\n    dialogUploadCilck: function dialogUploadCilck(id) {\n      $(\"#\" + id).click();\n    },\n    checklist: function checklist() {\n      var id = this.listData[0].TrustId;\n      this.dlgCheckList.TrustId = id;\n      this.dlgCheckList.Visiable = true;\n    },\n    closeCheckList: function closeCheckList() {\n      this.dlgCheckList.Visiable = false;\n    },\n    createTrust: function createTrust(isEdit) {\n      if (isEdit) {\n        var id = this.listData[0].TrustId;\n        this.dlgTrustInfo.TrustId = id;\n      } else {\n        this.dlgTrustInfo.TrustId = 0;\n      }\n\n      this.dlgTrustInfo.Visiable = true;\n    },\n    trustUpdated: function trustUpdated(haveUpdate) {\n      this.dlgTrustInfo.Visiable = false;\n\n      if (haveUpdate) {\n        this.$refs.refDataGrid.refresh();\n      }\n    },\n    removeDealStructures: function removeDealStructures() {\n      var self = this;\n\n      if (confirm(\"确定要删除所选产品吗?\")) {\n        var list = [];\n\n        if (self.listData && self.listData.length > 0) {\n          self.listData.forEach(function (item, index) {\n            list.push(item.TrustId);\n          });\n          var strDealStructures = \"\";\n\n          if (list.length > 0) {\n            strDealStructures = list.join(\",\");\n          }\n\n          if (strDealStructures) {\n            var svc = new csvc(\"PortfolioManagement\", \"DV.Trust_Remove\", 1);\n            svc.AddParam({\n              Name: \"DealStructuresString\",\n              Value: strDealStructures,\n              DBType: \"string\"\n            });\n            svc.AddParam({\n              Name: \"UserName\",\n              Value: self.userName,\n              DBType: \"string\"\n            });\n            svc.ExecTable().then(function (res) {\n              self.$refs.refDataGrid.refresh();\n              self.$message.success('删除成功');\n              var tp = new taskprocess(\"Task\", \"FixedIncomeSuite_DeleteTrustFromDealViewer\", \"TaskProcess\");\n              tp.AddVariableItem(\"TrustID\", list[0], \"String\");\n              tp.RunTask();\n            });\n          }\n        }\n      }\n    },\n    //补充经典交易结构\n    supplementTrust: function supplementTrust() {\n      var _this2 = this;\n\n      var self = this; //DealStructure.TrustManagement.usp_GenerateClassicDealStructure\n\n      if (self.listData && self.listData.length > 0) {\n        var tid = self.listData[0].TrustId;\n        var svc = new csvc(\"PortfolioManagement\", \"TrustManagement.usp_GenerateClassicDealStructure\");\n        svc.AddParam({\n          Name: \"TrustId\",\n          Value: tid,\n          DBType: \"string\"\n        });\n        svc.ExecTable().then(function (res) {\n          self.$refs.refDataGrid.refresh();\n\n          _this2.$message({\n            message: '补充成功',\n            type: 'success'\n          });\n        });\n      }\n    },\n    //获取select下拉数据\n    getDropdown: function getDropdown() {\n      var self = this;\n      var svc = new csvc(\"PortfolioManagement\", \"DV.ItemData_GetByCategoryCode\");\n      svc.AddParam({\n        Name: \"CategoryCode\",\n        Value: 'AssetType',\n        DBType: \"string\"\n      });\n      svc.ExecTable().then(function (res) {\n        self.dropdownData = res;\n      });\n    },\n    //            导入统计图表数据\n    //导入统计\n    ImportStatistics: function ImportStatistics() {\n      this.statisticsDialogVisible = true;\n    },\n    openDetailDialog: function openDetailDialog(TrustId) {\n      this.ShowDetailDialog = true;\n    }\n  })\n};",{"version":3,"sources":["ProductListTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"productList\">\n    <div class=\"searchBox\" v-show=\"searchS\">\n      <adv-filter conName=\"PortfolioManagement\" templateName=\"AdminProductListFilter\"\n        v-on:handleSearch=\"doProductListFilter\" @handleSearchCon=\"handleSearchCon\" ref=\"advFilterR\">\n      </adv-filter>\n    </div>\n    <div class=\"tableWrap transactionBox\">\n      <data-grid conName=\"PortfolioManagement\" tableName=\"DV.view_AdminProducts\"\n        @sortChange=\"listSortChange\" @selectionChange=\"listSelectionChange\" :order=\"listOrder\" :bondCode=\"bondCode\"\n        :filter=\"listFilter\" :showFilter=\"true\" ref=\"refDataGrid\" :multiSelection=\"true\" :isFixed=\"true\">\n        <template slot=\"toolbar-filter\">\n          <span class=\"openSearch\" @click=\"searchSC\" title=\"检索\"><i class=\"iconfont\"\n              :class=\"searchS?'icon-shouqi':'icon-zhankai1'\"></i>{{searchS?'关闭检索':'展开检索'}}</span>\n        </template>\n        <template slot=\"toolbar-right\">\n          <el-button type=\"primary\" size=\"mini\" :disabled=\"listData.length!=1\"\n            @click=\"supplementTrust()\" plain>\n            <i class=\"el-icon-tickets\"></i>补充完整结构\n          </el-button>\n          <el-dropdown @command=\"handleCommand\" style=\"margin-left: 10px;\">\n            <el-button type=\"primary\" size=\"mini\" :disabled=\"listData.length!=1\" plain>\n              <i class=\"el-icon-upload2\"></i>数据上传\n            </el-button>\n            <el-dropdown-menu slot=\"dropdown\" style=\"width: 130px; margin-top: 5px;\"\n              :visibleArrow=\"false\">\n              <el-dropdown-item command='excelUpload'>Excel模型</el-dropdown-item>\n              <el-dropdown-item command='trusteeUpload'>收益分配</el-dropdown-item>\n              <el-dropdown-item command='TaxTable'>税费表</el-dropdown-item>\n              <el-dropdown-item command='PoolStatistics'>资产池统计</el-dropdown-item>\n              <el-dropdown-item command='PoolDistributions'>资产池分布</el-dropdown-item>\n              <el-dropdown-item command='PoolCashFlow'>资产池现金流</el-dropdown-item>\n              <el-dropdown-item command='assetPoolPayment'>资产池还款记录</el-dropdown-item>\n              <el-dropdown-item command='TrustServiceProvider'>相关参与方</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-dropdown @command=\"handleCommandExport\" style=\"margin: 0px 10px;\">\n            <el-button type=\"primary\" size=\"mini\" :disabled=\"listData.length!=1\" plain>\n              <i class=\"el-icon-download\"></i>数据下载\n            </el-button>\n            <el-dropdown-menu slot=\"dropdown\" style=\"width: 160px; margin-top: 5px;\"\n              :visibleArrow=\"false\">\n              <el-dropdown-item command='0'>债券收益分配(模板0)</el-dropdown-item>\n              <el-dropdown-item command='1'>债券收益分配(模板1)</el-dropdown-item>\n              <el-dropdown-item command='2'>资产池还款记录</el-dropdown-item>\n              <el-dropdown-item command='3'>税费表</el-dropdown-item>\n              <!-- <el-dropdown-item command='4'>结构xml</el-dropdown-item> -->\n              <el-dropdown-item command='5'>产品导出</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-button type=\"primary\" size=\"mini\" @click=\"createTrust(0)\" plain>\n            <i class=\"iconfont icon-xinjian2\"></i>新建\n          </el-button>\n          <el-button type=\"primary\" :disabled=\"listData.length!=1\" size=\"mini\"\n            @click=\"createTrust(1)\" plain>\n            <i class=\"iconfont icon-bianji\"></i>编辑\n          </el-button>\n          <el-button :disabled=\"listData.length<=0\" type=\"danger\" size=\"mini\"\n            @click=\"removeDealStructures\" plain>\n            <i class=\"iconfont icon-lajitong\"></i>删除\n          </el-button>\n          <el-button :disabled=\"listData.length<=0\" type=\"primary\" plain size=\"mini\"\n            @click=\"checklist\"><i class=\"el-icon-tickets\"></i>推送设置\n          </el-button>\n          <el-button type=\"primary\" plain size=\"mini\" v-popover:searchConA><i\n              class=\"iconfont icon-weibiaoti--1\"></i>管理筛选条件\n          </el-button>\n        </template>\n        <template slot=\"table-column\">\n          <el-table-column type=\"selection\" width=\"50\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"TrustId\" sortable=\"custom\" width=\"70\" label=\"标识\"></el-table-column>\n          <el-table-column min-width=\"160\" label=\"产品简称\" :show-overflow-tooltip=\"true\">\n            <template slot-scope=\"scope\">\n              <router-link :to=\"'Detail/' + scope.row.TrustId\" class=\"link\"\n                :title=\"scope.row.TrustNameShort\">\n                {{scope.row.TrustNameShort}}\n              </router-link>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"TrustName\" label=\"产品名称\" sortable=\"custom\" min-width=\"200\"\n            :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"TrustCode\" label=\"产品代码\" sortable=\"custom\" min-width=\"150\"\n            :show-overflow-tooltip=\"true\">\n          </el-table-column>\n          <el-table-column prop=\"IsExcelModelUploaded\" sortable=\"custom\" align=\"center\"\n            min-width=\"100\" label=\"Excel模型\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsExcelModelUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsTrusteeUploadUploaded\" min-width=\"100\" sortable=\"custom\"\n            align=\"center\" label=\"收益分配\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsTrusteeUploadUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsTaxFeeUploaded\" min-width=\"100\" sortable=\"custom\" align=\"center\"\n            label=\"税费\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsTaxFeeUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsPoolStatisticsUploaded\" min-width=\"110\" sortable=\"custom\"\n            align=\"center\" label=\"资产池统计\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsPoolStatisticsUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsPoolDistributionsUploaded\" min-width=\"110\" sortable=\"custom\"\n            align=\"center\" label=\"资产池分布\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsPoolDistributionsUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsPoolCashFlowUploaded\" min-width=\"120\" sortable=\"custom\"\n            align=\"center\" label=\"资产池现金流\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsPoolCashFlowUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsPoolPaymentUploaded\" min-width=\"130\" sortable=\"custom\"\n            align=\"center\" label=\"资产池还款记录\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsPoolPaymentUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsProductReleaseInstructionsUploaded\" min-width=\"110\"\n            sortable=\"custom\" align=\"center\" label=\"发行说明书\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsProductReleaseInstructionsUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsProductCreditRatingFilesUploaded\" min-width=\"100\"\n            sortable=\"custom\" align=\"center\" label=\"评级报告\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsProductCreditRatingFilesUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsTrusteeReportUploaded\" min-width=\"130\" sortable=\"custom\"\n            align=\"center\" label=\"受托机构报告\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsTrusteeReportUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsExerciseNoticeUploaded\" min-width=\"160\" sortable=\"custom\"\n            align=\"center\" label=\"兑付兑息及行权公告\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsExerciseNoticeUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsFinancialReportsUploaded\" min-width=\"100\" sortable=\"custom\"\n            align=\"center\" label=\"财务报告\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsFinancialReportsUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsIncomeDistributionReportUploaded\" min-width=\"130\"\n            sortable=\"custom\" align=\"center\" label=\"收益分配报告\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsIncomeDistributionReportUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsLoanServicerReportUploaded\" min-width=\"140\" sortable=\"custom\"\n            align=\"center\" label=\"贷款服务机构报告\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsLoanServicerReportUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsAnnouncementOfResultsUploaded\" min-width=\"130\" sortable=\"custom\"\n            align=\"center\" label=\"发行结果公告\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsAnnouncementOfResultsUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"IsDealStructurePictureUploaded\" min-width=\"120\" sortable=\"custom\"\n            align=\"center\" label=\"交易结构图\">\n            <template slot-scope=\"scope\">\n              <span><i class=\"iconfont\"\n                  :class=\"scope.row.IsDealStructurePictureUploaded?'icon-chenggong':'icon-shibai'\"></i></span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"LastModifiedPerson\" min-width=\"120\" align=\"center\"\n            :show-overflow-tooltip=\"true\" label=\"最近一次修改人\">\n          </el-table-column>\n          <el-table-column prop=\"LastModifiedTime\" min-width=\"150\" sortable=\"custom\"\n            :show-overflow-tooltip=\"true\" label=\"最近一次修改时间\">\n          </el-table-column>\n        </template>\n      </data-grid>\n    </div>\n    <base-dialog draggable :close-on-click-modal=\"false\" title=\"上传交易结构模型\"\n      :visible.sync=\"excelUploadVisible\" width=\"500px\">\n      <div class=\"dialogfileUploadBox\">\n        <span>文件上传：</span>\n        <input type=\"file\" id=\"excelUpload\" @change=\"dialogFileInput($event)\"\n          class=\"fileUploadInput\"\n          accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\" />\n        <el-input class=\"el_fileUploadInput\" v-model=\"dialogUploadFileName\">\n          <el-button class=\"el_fileUploadBtn\" slot=\"append\"\n            @click=\"dialogUploadCilck('excelUpload')\">选择文件\n          </el-button>\n        </el-input>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer assetDialogFooter\">\n        <el-button @click=\"excelUploadVisible = false\" size=\"mini\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"excelUploadFile()\" size=\"mini\">确定</el-button>\n      </span>\n    </base-dialog>\n    <base-dialog draggable :close-on-click-modal=\"false\" title=\"上传受托报告\"\n      :visible.sync=\"trusteeUploadVisible\" width=\"500px\">\n      <div class=\"dialogfileUploadBox\">\n        <span>文件上传：</span>\n        <input type=\"file\" id=\"trusteeUpload\" multiple=\"multiple\" @change=\"dialogFileInput($event)\"\n          class=\"fileUploadInput\"\n          accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel,application/pdf\" />\n        <el-input class=\"el_fileUploadInput\" v-model=\"dialogUploadFileName\">\n          <el-button class=\"el_fileUploadBtn\" slot=\"append\"\n            @click=\"dialogUploadCilck('trusteeUpload')\">选择文件\n          </el-button>\n        </el-input>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer assetDialogFooter\">\n        <el-button @click=\"trusteeUploadVisible = false\" size=\"mini\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"trusteeUploadFile()\" size=\"mini\">确定</el-button>\n      </span>\n    </base-dialog>\n\n    <base-dialog draggable :close-on-click-modal=\"false\" :title=\"dialogTitle\"\n      :visible.sync=\"dlgAssetPoolPayment\" width=\"500px\">\n      <div class=\"dialogfileUploadBox\" v-if=\"dlgAssetPoolPayment\">\n        <span>文件上传：</span>\n        <input type=\"file\" id=\"assetPoolPayment\" @change=\"dialogFileInput($event)\"\n          class=\"fileUploadInput\"\n          accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\" />\n        <el-input class=\"el_fileUploadInput\" v-model=\"dialogUploadFileName\">\n          <el-button class=\"el_fileUploadBtn\" slot=\"append\"\n            @click=\"dialogUploadCilck('assetPoolPayment')\">选择文件\n          </el-button>\n        </el-input>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer assetDialogFooter\">\n        <el-button @click=\"dlgAssetPoolPayment = false\" size=\"mini\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"assetPoolPaymentUpload()\" size=\"mini\">确定</el-button>\n      </span>\n    </base-dialog>\n\n    <base-dialog title=\"基础信息\" width=\"500px\" draggable :close-on-click-modal=\"false\"\n      :visible.sync=\"dlgTrustInfo.Visiable\">\n      <createTrust v-if=\"dlgTrustInfo.Visiable\" :trustID=\"dlgTrustInfo.TrustId\"\n        :onDialogClosed=\"trustUpdated\">\n      </createTrust>\n    </base-dialog>\n\n    <base-dialog title=\"导入统计\" width=\"960px\" draggable :close-on-click-modal=\"false\"\n      :visible.sync=\"statisticsDialogVisible\">\n      <hchart :options=\"statisticOptions\" style=\"height: 500px;\"></hchart>\n    </base-dialog>\n\n    <base-dialog title=\"推送设置\" width=\"1000px\" draggable :close-on-click-modal=\"false\"\n      :visible.sync=\"dlgCheckList.Visiable\">\n      <checkList v-if=\"dlgCheckList.Visiable\" :trustID=\"dlgCheckList.TrustId\"\n        :onDialogClosed=\"closeCheckList\">\n      </checkList>\n    </base-dialog>\n    <!-- 管理筛选条件 -->\n    <el-popover placement=\"bottom-start\" title=\"\" width=\"280\" ref=\"searchConA\" :visibleArrow=\"false\"\n      v-model=\"searchConA\" trigger=\"click\">\n      <div>\n        <div v-if=\"fields.length>0\">\n          <div v-for=\"field in fields\" :key=\"field.Title\" v-show=\"field.ChosenTitles.length>0\"\n            class=\"chosen-fields\">\n            <span class=\"field-titles\"><span\n                class=\"title\">{{field.Title}}：</span>{{field.UIFormat?field.ChosenTitles.join(\" - \"):field.ChosenTitles.join(\", \")}}</span>\n            <span class=\"field-remove\" v-if=\"!field.Must\" @click=\"removeFieldChosen(field)\">\n              <i class=\"el-icon-close\"></i>\n            </span>\n          </div>\n          <div  v-show=\"bondCode !==''\"\n            class=\"chosen-fields\">\n            <span class=\"field-titles\"><span\n                class=\"title\">证券代码：</span>{{bondCode}}</span>\n            <span class=\"field-remove\" @click=\"removeColdChosen\">\n              <i class=\"el-icon-close\"></i>\n            </span>\n          </div>\n          <span @click=\"removeAll()\" class=\"colorPrimary clear-condition\"\n            v-show=\"removeShow\">清除筛选</span>\n        </div>\n        <p v-show=\"!removeShow\" style=\"font-size:12px;color:#a5a5a5;text-align:center;\">暂无数据</p>\n      </div>\n    </el-popover>\n  </div>\n</template>\n\n<script>\n  import csvc from \"@/api/CommonService.js\";\n  import fsvc from '@/api/FileService';\n  import taskprocess from '@/api/TaskProcess';\n  import createTrust from \"./CreateTrust.vue\";\n  import checkList from \"./CheckList.vue\";\n  import pager from \"@/components/common/Pager.vue\";\n  import DataGrid from '@/components/common/DataGrid.vue';\n  import hchart from \"@/components/common/Highcharts\";\n  import Highcharts from \"highcharts\";\n  import advFilter from '@/components/common/AdvanceFilter.vue'\n  import dynamicTab from '@/mixins/dynamicTab.js';\n  import {\n    mapMutations,\n    mapState\n  } from 'vuex';\r\n\timport { FileBaseFolder } from '@/utils/config';\r\n\timport transformSeparator from '@/utils/transformSeparator';\n  export default {\n    components: {\n      pager,\n      DataGrid,\n      createTrust,\n      checkList,\n      hchart,\n      advFilter\n    },\n    props: {\n      openInParentTab: {\n        type: Function\n      },\n      projectsTransactionHight: {}\n    },\n    data() {\n      return {\n        dialogTitle: '',\n        listFilter: 'IsMarketProduct = 1',\n        listOrder: \"TrustId desc\",\n        listData: [],\n        dynamicTabHeight: \"\",\n        excelUploadVisible: false,\n        dlgTrustInfo: {\n          Visiable: false,\n          TrustId: 0\n        },\n        dlgCheckList: {\n          Visiable: false,\n          TrustId: 0\n        },\n        statisticsDialogVisible: false,\n        dialogUploadFileName: null,\n        dropdownData: [],\n        statisticOptions: null,\n        instructionstUploadVisible: false,\n        RatingUploadVisible: false,\n        trusteeUploadVisible: false,\n        dlgAssetPoolPayment: false,\n        uploadType: '',\n        ShowDetailDialog: false,\n        searchS: true,\n        fields: [],\n        removeShow: false,\n        searchConA: false,\n        bondCode:''\n      };\n    },\n    mixins: [dynamicTab],\n    created() {\n      this.dynamicTabInterFace()\n    },\n    mounted() {\n      var self = this;\n      self.getDropdown()\n      //self.LoadStatistic()\n      if (this.projectsTransactionHight) {\n        $(\".transactionStyle\").removeClass(\"tool-elRightBtn\");\n        $(\".transactionBox\").addClass(\"transactionBoxStyle\");\n        window.onresize = function () {\n          self.dynamicTabHeight = document.documentElement.clientHeight - 280 + \"px\";\n        };\n      } else {\n        window.onresize = function () {\n          self.dynamicTabHeight = document.documentElement.clientHeight - 230 + \"px\";\n        };\n      }\n    },\n    computed: {\n      ...mapState('user', ['userName']),\n    },\n    methods: {\n      ...mapMutations('dynamicTabs', ['addTab']),\n      handleSearchCon(fields, removeShow) {\n        this.fields = fields\n        this.removeShow = removeShow\n        console.log(fields)\n      },\n      removeColdChosen() {\n        this.$refs.advFilterR.bondCodeClear()\n      },\n      removeFieldChosen(fields) {\n        this.$refs.advFilterR.removeFieldChosen(fields)\n      },\n      removeAll() {\n        this.searchConA = false\n        this.$refs.advFilterR.removeAll()\n        this.removeColdChosen()\n      },\n      dynamicTabInterFace() {\n        this.newTab({\n          id: 'ProductList',\n          name: 'ProductList',\n          title: '产品管理',\n          closable: false, // 不允许关闭\n          isCache: true // 缓存当前页面\n        })\n        this.newTab({\n          id: 'DataStatistics', // 动态标签的ID，用来判断唯一性，避免重复创建\n          name: 'DataStatistics', // 动态标签需要绑定到的路由，与路由配置中的name值要一致\n          title: '数据统计',\n          autoOpen: false, // 不需要自动打开\n          closable: false, // 不允许关闭\n          isCache: true // 缓存当前页面\n        })\n//         this.newTab({\n//           id: 'WorkStatistics',\n//           name: 'WorkStatistics',\n//           title: '工作统计',\n//           autoOpen: false,\n//           closable: false,\n//           isCache: true\n//         })\n      },\n      doProductListFilter(condition,bondCode) {\n          this.listFilter = condition;\n          this.bondCode = bondCode;\n      },\n      searchSC() {\n        this.searchS = !this.searchS\n      },\n      handleCommand(dialogName) {\n        this.uploadType = dialogName;\n        if (dialogName == 'excelUpload') {\n          this.excelUploadVisible = true\n          this.clearUploadedText()\n        } else if (dialogName == 'distributionUpload') {\n          $(\"#InstructionsUpload\").val('');\n          this.dialogUploadFileName = null;\n          this.instructionstUploadVisible = true;\n        } else if (dialogName == 'ratingReportUpload') {\n          $(\"#RatingUpload\").val('');\n          this.dialogUploadFileName = null;\n          this.RatingUploadVisible = true;\n        } else if (dialogName == 'trusteeUpload') {\n          $(\"#trusteeUpload\").val('');\n          this.dialogUploadFileName = null;\n          this.trusteeUploadVisible = true;\n        } else if (dialogName == 'assetPoolPayment' || dialogName == 'TaxTable') {\n          this.dialogUploadFileName = null;\n          this.dlgAssetPoolPayment = true;\n          if (dialogName == 'assetPoolPayment') {\n            this.dialogTitle = '上传资产池还款记录'\n          } else {\n            this.dialogTitle = '上传税费表'\n          }\n        } else {\n          switch (dialogName) {\n            case 'PoolStatistics':\n              this.dialogTitle = '上传资产池统计';\n              break;\n            case 'PoolDistributions':\n              this.dialogTitle = '上传资产池分布';\n              break;\n            case 'PoolCashFlow':\n              this.dialogTitle = '上传资产池现金流';\n              break;\n            case 'TrustServiceProvider':\n              this.dialogTitle = '上传相关参与方';\n            default:\n              break;\n          }\n          this.dialogUploadFileName = null;\n          this.dlgAssetPoolPayment = true;\n        }\n      },\n      handleCommandExport(type) {\n        switch (type) {\n          case '0':\n            this.exportTrustBondPayment('1');\n            break;\n          case '1':\n            this.exportTrustBondPayment('2');\n            break;\n          case '2':\n            this.exportAssetPoolPayment();\n            break;\n          case '3':\n            this.exportTaxTable();\n            break;\n          case '5':\n            this.exportTrustPro();\n            break;\n          case '4':\n            this.exportTrustXML();\n          default:\n            break;\n        }\n      },\n      reInit() {\n        this.$refs.advfStructureList.LoadFiledsAndInit();\n        this.$refs.pagerViewTrust.getListWithPager();\n      },\n      listDataLoaded(data) {\n        this.listData = data;\n      },\n      listSortChange(sorter) {\n        if (!sorter.prop || !sorter.order) {\n          return;\n        }\n\n        let order = sorter.order === \"descending\" ? \" desc\" : \" asc\";\n        let targetOrder = sorter.prop + order;\n        if (targetOrder === this.listOrder) {\n          return;\n        }\n\n        this.listOrder = targetOrder;\n      },\n      listSelectionChange: function (data) {\n        this.listData = data;\n      },\n    //   advFilterButtonClick(conditions) {\n    //     this.listFilter = conditions;\n    //   },\n      openInTab(id, title) {\n        this.addTab({\n          name: '' + id,\n          title,\n          id,\n          component: 'structureCustomize'\n\n        });\n      },\n      advsFilterPositionClick() {\n        $(\".advsFilterPosition\").slideToggle(180);\n      },\n      editStructure() {\n        if (this.listData.length > 0) {\n          this.openInTab(\n            this.listData[0].TrustId,\n            this.listData[0].TrustName\n          );\n        }\n      },\n      downloadReport(scope, category) {\n        // console.log(scope);\n        fsvc.DownLoadFileByPath(scope)\n      },\n      //上传数据\n      exportTrustBondPayment(type) {\n        let self = this;\n        var svc = new fsvc.Export(\"PortfolioManagement\", \"DV.FactBondPayment_Export\");\n        svc.AddParam({\n          Name: \"TrustID\",\n          Value: self.listData[0].TrustId,\n          DBType: \"int\"\n        });\n        svc.AddParam({\n          Name: \"ResultType\",\n          Value: type,\n          DBType: \"int\"\n        });\n        //语言\n        svc.ExportExcelFile(\"债券收益分配\");\n      },\n      exportAssetPoolPayment() {\n        let self = this;\n\n        var tp = new taskprocess(\"Task\", \"DV_ExportPaymentScheduleAggregation\", \"TaskProcess\");\n        tp.AddVariableItem(\"TrustID\", self.listData[0].TrustId, \"String\");\n        tp.ShowIndicator(function () {\n          var fName = '资产池还款记录_' + self.listData[0].TrustId + '.xlsx';\n          var filePath = transformSeparator(FileBaseFolder + 'DealViewer\\\\Output\\\\' + fName);\n          fsvc.DownLoadFileByPath(filePath);\n        });\n      },\n      exportTaxTable() {\n        let self = this;\n\n        var tp = new taskprocess(\"Task\", \"DV_ExportFeeStructureReconciliation\", \"TaskProcess\");\n        tp.AddVariableItem(\"TrustID\", self.listData[0].TrustId, \"String\");\n        tp.ShowIndicator(function () {\n          var fName = '税费表_' + self.listData[0].TrustId + '.xlsx';\n          var filePath = transformSeparator(FileBaseFolder + 'DealViewer\\\\Output\\\\' + fName);\n          fsvc.DownLoadFileByPath(filePath);\n\n        });\n\n        // \t\t\t\t    var svc = new fsvc.Export(\"PortfolioManagement\", \"DV.FeeStructureReconciliation_Export\");\n        // \t\t\t\t    svc.AddParam({\n        // \t\t\t\t        Name: \"TrustID\",\n        // \t\t\t\t        Value: self.listData[0].TrustId,\n        // \t\t\t\t        DBType: \"int\"\n        // \t\t\t\t    });\n        // \t\t\t\t    //语言\n        // \t\t\t\t    svc.ExportExcelFile(\"税费表\");\n      },\n      //导出XML 给QuickDeal用\n      exportTrustXML() {\n        let self = this;\n        var tp = new taskprocess(\n          \"Task\",\n          \"FixedIncomeSuite_TrustInfoExport\",\n          \"TaskProcess\"\n        );\n        tp.AddVariableItem(\"TrustId\", self.listData[0].TrustId, \"int\");\n        tp.ShowIndicator(function () {\n          let filePath =\n            \"../../TrustManagementService/TrustImportAndExportModel/AnalysisFramework_TrustInfoImportAndExportModel_\" +\n            self.listData[0].TrustId + \".xml\";\n          let filename = 'AnalysisFramework_TrustInfoImportAndExportModel_' + self.listData[0]\n            .TrustId + '.xml'\n          let link = document.createElement('a');\n          link.download = filename;\n          link.style.display = 'none';\n          link.href = filePath;\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        });\n      },\n      exportTrustPro() {\n        var self = this\n        let trustId = self.listData[0].TrustId\n        console.log(trustId)\n        let callApi = this.$http('TaskProcess', 'Task.initTaskStatusByTrustId', 1);\n        callApi.AddParam({\n          Name: 'trustId',\n          Value: trustId,\n          DBType: 'int'\n        });\n        callApi.ExecResult().then(res => {});\n        let tpi = new taskprocess(\"Task\", 'FixedIncomeSuite_TrustInfoExport', \"TaskProcess\")\n        tpi.AddVariableItem('TrustId', trustId, 'String');\n        tpi.ShowIndicator(() => {\n          let svc = this.$http('TaskProcess', 'Task.checkTaskStatusByTrustId', 1);\n          svc.AddParam({\n            Name: 'trustId',\n            Value: trustId,\n            DBType: 'int'\n          });\n          svc.ExecTable().then(res => {\n            if (res.length == 0) {\n              return\n            }\n            if (res[0].Status == \"1\") {\n              let filePath =\n                \"/TrustManagementService/TrustImportAndExportModel/QuickDeal_TrustInfoImportAndExportModel_\" +\n                trustId + \".xml\";\n              let filename = 'QuickDeal_TrustInfoImportAndExportModel_' + trustId + '.xml'\n              let link = document.createElement('a');\n              link.download = filename;\n              link.style.display = 'none';\n              link.href = filePath;\n              document.body.appendChild(link);\n              link.click();\n              document.body.removeChild(link);\n            }\n          })\n        })\n      },\n      clearUploadedText() {\n        this.dialogUploadFileName = null;\n      },\n      excelUploadFile: function () {\n        var self = this;\n        console.log(self.userName)\n        var postData = $(\"#excelUpload\")[0].files[0];\n        if (!postData) {\n          self.$message({\n            message: '请选文件',\n            type: 'warning'\n          });\n          return;\n        }\n        var postDataName = postData.name;\n        var timestamp = new Date().getTime();\n        let trustId = self.listData[0].TrustId;\n        fsvc.Upload(postData, timestamp + postDataName, \"DealViewer\\\\ExcelModelData\").then(\n          function (\n            fpath) {\n            self.excelUploadVisible = false; // 关闭上传弹窗\n\n            self.filePath = transformSeparator(FileBaseFolder + fpath.UploadResult);\n            self.excelUpload = false;\n            var tp = new taskprocess(\n              \"Task\",\n              \"DV_UploadProductInfo\",\n              \"TaskProcess\"\n            );\n            tp.AddVariableItem(\"TrustID\", trustId, \"String\");\n            tp.AddVariableItem(\"UserName\", self.userName, \"String\");\n            tp.AddVariableItem(\"DataType\", 'ExcelModel', \"String\");\n            tp.AddVariableItem(\"SourceFilePath\", FileBaseFolder + fpath\n              .UploadResult, \"String\");\n            tp.ShowIndicator(function () {\n              self.$refs.refDataGrid.refresh();\n            });\n          });\n      },\n      trusteeUploadFile: function () {\n        var self = this;\n        var postData = $(\"#trusteeUpload\")[0].files[0];\n        if (!postData) {\n          self.$message({\n            message: '请选文件',\n            type: 'warning'\n          });\n          return;\n        }\n        var postDataName = postData.name;\n        var timestamp = new Date().getTime();\n        let trustId = self.listData[0].TrustId;\n        fsvc.Upload(postData, timestamp + postDataName, transformSeparator(\"DealViewer\\\\TrusteeReportData\")).then(\n          function (fpath) {\n            self.trusteeUploadVisible = false; // 关闭上传弹窗\n\n            self.filePath = FileBaseFolder + fpath.UploadResult;\n            self.excelUpload = false;\n            var tp = new taskprocess(\n              \"Task\",\n              \"DV_UploadTrustFactBondPayment\",\n              \"TaskProcess\"\n            );\n            tp.AddVariableItem(\"TrustID\", trustId, \"String\");\n            tp.AddVariableItem(\"UserName\", self.userName, \"String\");\n            tp.AddVariableItem(\"DataType\", 'FactBondPayment', \"String\");\n            tp.AddVariableItem(\"SourceFilePath\", FileBaseFolder + fpath\n              .UploadResult, \"String\");\n            tp.ShowIndicator(function () {\n              self.$refs.refDataGrid.refresh();\n            });\n          });\n      },\n      assetPoolPaymentUpload: function () {\n        var self = this;\n        var postData = $(\"#assetPoolPayment\")[0].files[0];\n        if (!postData) {\n          self.$message({\n            message: '请选文件',\n            type: 'warning'\n          });\n          return;\n        }\n        var timestamp = new Date().getTime();\n        var postDataName = postData.name;\n        let trustId = self.listData[0].TrustId;\n        var upFile = '',\n          taskName = '',\n          dataType = '';\n        switch (self.uploadType) {\n          case 'assetPoolPayment':\n            upFile = \"DealViewer\\\\AssetPoolData\";\n            taskName = \"DV_UploadFactAssetPoolPayment\";\n            dataType = 'FactAssetPoolPayment';\n            break;\n          case 'TaxTable':\n            upFile = \"DealViewer\\\\TrustFee\";\n            taskName = 'DV_UploadFeeStructureReconciliation';\n            dataType = 'TaxFee';\n            break;\n          case 'PoolStatistics':\n            upFile = \"DealViewer\\\\PoolStatistics\";\n            taskName = 'DV_UploadPoolStatistics';\n            dataType = 'PoolStatistics';\n            break;\n          case 'PoolDistributions':\n            upFile = \"DealViewer\\\\PoolDistributions\";\n            taskName = 'DV_UploadPoolDistributions';\n            dataType = 'PoolDistributions';\n            break;\n          case 'PoolCashFlow':\n            upFile = \"DealViewer\\\\PoolCashflowAggregation\";\n            taskName = 'DV_UploadCashflowAggregation';\n            dataType = 'PoolCashFlow';\n            break;\n          case 'TrustServiceProvider':\n            upFile = \"DealViewer\\\\TrustServiceProvider\";\n            taskName = 'DV_UploadTrustServiceProvider';\n            dataType = 'TrustServiceProvider';\n            break;\n          default:\n            break;\n        }\n        fsvc.Upload(postData, timestamp + postDataName, upFile).then(function (fpath) {\n          self.filePath = FileBaseFolder + fpath.UploadResult;\n          self.excelUpload = false;\n          var tp = new taskprocess(\n            \"Task\",\n            taskName,\n            \"TaskProcess\"\n          );\n          tp.AddVariableItem(\"TrustID\", trustId, \"String\");\n          tp.AddVariableItem(\"UserName\", self.userName, \"String\");\n          tp.AddVariableItem(\"DataType\", dataType, \"String\");\n          tp.AddVariableItem(\"SourceFilePath\", FileBaseFolder + fpath\n            .UploadResult, \"String\");\n          tp.ShowIndicator(function () {\n            self.dlgAssetPoolPayment = false;\n            self.$refs.refDataGrid.refresh();\n          });\n        });\n      },\n      //上传文件处理\n      dialogFileInput(event) {\n        var file = event.target.files;\n        console.log(file)\n        let self = this\n        if (file.length > 1) {\n          this.dialogUploadFileName = ''\n          for (let key in file) {\n            if (key == \"length\") {\n              self.dialogUploadFileName = self.dialogUploadFileName.substring(0, self\n                .dialogUploadFileName.length - 1)\n              return\n            }\n            self.dialogUploadFileName = self.dialogUploadFileName + file[key].name + ','\n          }\n        } else if (file.length == 1) {\n          this.dialogUploadFileName = file[0].name;\n        }\n      },\n      dialogUploadCilck(id) {\n        $(\"#\" + id).click();\n      },\n      checklist() {\n        let id = this.listData[0].TrustId;\n        this.dlgCheckList.TrustId = id;\n        this.dlgCheckList.Visiable = true;\n      },\n      closeCheckList() {\n        this.dlgCheckList.Visiable = false;\n      },\n      createTrust(isEdit) {\n        if (isEdit) {\n          let id = this.listData[0].TrustId;\n          this.dlgTrustInfo.TrustId = id;\n        } else {\n          this.dlgTrustInfo.TrustId = 0;\n        }\n        this.dlgTrustInfo.Visiable = true;\n      },\n      trustUpdated(haveUpdate) {\n        this.dlgTrustInfo.Visiable = false;\n        if (haveUpdate) {\n          this.$refs.refDataGrid.refresh();\n        }\n      },\n      removeDealStructures() {\n        let self = this;\n        if (confirm(\"确定要删除所选产品吗?\")) {\n          let list = [];\n          if (self.listData && self.listData.length > 0) {\n            self.listData.forEach((item, index) => {\n              list.push(item.TrustId);\n            });\n            let strDealStructures = \"\";\n            if (list.length > 0) {\n              strDealStructures = list.join(\",\");\n            }\n            if (strDealStructures) {\n              var svc = new csvc(\n                \"PortfolioManagement\",\n                \"DV.Trust_Remove\",\n                1\n              );\n              svc.AddParam({\n                Name: \"DealStructuresString\",\n                Value: strDealStructures,\n                DBType: \"string\"\n              });\n              svc.AddParam({\n                Name: \"UserName\",\n                Value: self.userName,\n                DBType: \"string\"\n              });\n              svc.ExecTable().then(res => {\n                self.$refs.refDataGrid.refresh();\n                self.$message.success('删除成功');\n                var tp = new taskprocess(\n                  \"Task\",\n                  \"FixedIncomeSuite_DeleteTrustFromDealViewer\",\n                  \"TaskProcess\"\n                );\n                tp.AddVariableItem(\"TrustID\", list[0], \"String\");\n                tp.RunTask();\n              });\n            }\n          }\n        }\n      },\n      //补充经典交易结构\n      supplementTrust() {\n        let self = this;\n        //DealStructure.TrustManagement.usp_GenerateClassicDealStructure\n        if (self.listData && self.listData.length > 0) {\n          let tid = self.listData[0].TrustId;\n          let svc = new csvc(\n            \"PortfolioManagement\",\n            \"TrustManagement.usp_GenerateClassicDealStructure\"\n          );\n          svc.AddParam({\n            Name: \"TrustId\",\n            Value: tid,\n            DBType: \"string\"\n          });\n          svc.ExecTable().then(res => {\n            self.$refs.refDataGrid.refresh();\n            this.$message({\n              message: '补充成功',\n              type: 'success'\n            });\n          });\n        }\n      },\n      //获取select下拉数据\n      getDropdown() {\n        let self = this\n        let svc = new csvc(\n          \"PortfolioManagement\",\n          \"DV.ItemData_GetByCategoryCode\"\n        );\n        svc.AddParam({\n          Name: \"CategoryCode\",\n          Value: 'AssetType',\n          DBType: \"string\"\n        });\n\n        svc.ExecTable().then(res => {\n          self.dropdownData = res\n        });\n      },\n      //            导入统计图表数据\n\n      //导入统计\n      ImportStatistics() {\n        this.statisticsDialogVisible = true\n      },\n      openDetailDialog(TrustId) {\n        this.ShowDetailDialog = true;\n      },\n    }\n  };\n\n</script>\n\n<style scoped lang=\"scss\" type=\"text/scss\">\n  .productList{\n\t\t\t  background: #fff;\n\t\t\t display: flex;\n\t\t\t flex: 1;\n\t\t\t min-height: 0;\n\t\t\t height: 100%;\n\t\t\t flex-direction: row;\n\t\t\t overflow: hidden;\n\t\t\t .transactionBox {\n\t\t\t   height: 100%;\n\t\t\t   flex:1;\n\t\t\t   width: 0;\n\t\t\t }\n\t\t\t .tableWrap {\n\t\t\t   width: 75%;\n\t\t\t   height: 100%;\n\n\t\t\t   > .data-grid{\n\t\t\t     display: flex;\n\t\t\t     flex-direction: column;\n\t\t\t     height: 100%;\n\t\t\t   }\n\t\t\t }\n\n\n    .searchBox{\n      flex: 0 0 300px;\n      width: 0;\n      background-color: #f4f5fe;\n      padding-left: 15px;\n    }\n    .transactionBoxStyle {\n      background: #ffffff;\n      padding: 5px 15px 8px 15px;\n      box-shadow: 0px 0px 2px 3px rgba(218, 231, 255, 0.6);\n    }\n\n    .transactionBoxStyle .transactionStyle {\n      position: relative;\n      height: 40px;\n      line-height: 35px;\n      border-bottom: 1px solid #cccccc;\n      margin-bottom: 8px;\n    }\n\n    .transactionBoxStyle .el-table {\n      box-shadow: none;\n    }\n\n    .ratingList {\n      margin: 0px;\n      padding: 0px;\n\n      li {\n        display: flex;\n        padding: 10px;\n        cursor: pointer;\n\n        &:hover {\n          background-color: #ebeef5;\n        }\n      }\n    }\n\n    .el-icon-remove.remove-button {\n      color: $--color-danger;\n      font-size: 16px;\n      vertical-align: middle;\n      margin-right: 15px;\n      cursor: pointer;\n    }\n    .icon-chenggong{\n      color: limegreen;\n      font-size: 12px;\n    }\n    .icon-shibai{\n      color: red;\n      font-size: 12px;\n    }\n    .el-button i{\n      font-size: 13px!important;\n      margin-right: 5px;\n    }\n    /deep/ .tool-bar{\n      height: 39px;\n      .tool-right{\n        height: 39px!important;\n      }\n      .tool-left{\n        height: 39px!important;\n      }\n    }\n    .openSearch{\n      font-size: 12px;\n      line-height: 39px;\n      padding-left: 20px;\n      cursor: pointer;\n      vertical-align: middle;\n      i{\n        color: $--color-primary;\n        margin-right: 5px;\n        vertical-align: middle;\n      }\n    }\n    /deep/ .advance-filter-header{\n      .left{\n        margin-left: 0;\n      }\n\n    }\n    /deep/ .advance-filter-body{\n      padding-left: 0;\n    }\n\t\t}\n.clear-condition{\n    font-size: 12px;\n    text-align: center;\n    color: $--color-primary;\n    display: inline-block;\n    width: 100%;\n    cursor: pointer;\n  }\n.chosen-fields {\n      display: inline-block;\n      margin-bottom: 10px;\n      margin-right: 10px;\n      background-color: #fff;\n      border:1px solid $--color-grey-light;\n      color: $--color-primary;\n      border-radius: 3px;\n      font-size: 12px;\n      position: relative;\n      padding-right: 22px;\n      overflow: hidden;\n      &:hover{\n        border-color: $--color-primary;\n        .field-remove{\n          background-color: $--color-primary;\n          color: #fff;\n        }\n      }\n\n      .field-titles {\n        margin-right: 5px;\n        display: inline-block;\n        padding: 3px 0 3px 10px;\n        .title{\n          color: $--color-black;\n        }\n      }\n\n      .field-remove {\n        display: inline-block;\n        height: 100%;\n        cursor: pointer;\n        padding:0 5px;\n        position: absolute;\n        top: 0;right: -1px;\n        line-height: 26px;\n        width: 15px;\n        background-color: #f1f1f1;\n        i{\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform:translate(-50%,-50%)\n        }\n      }\n    }\n  </style>\n"],"sourceRoot":"src/components/admin"}]}