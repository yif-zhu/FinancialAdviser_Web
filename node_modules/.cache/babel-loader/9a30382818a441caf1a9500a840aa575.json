{"remainingRequest":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\src\\router\\index.js","mtime":1604374204499},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yif_z\\Desktop\\DealViewer\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport store from '../store/';\nVue.use(Router); // 搜索当前目录\n\nvar context = require.context('.', false, /\\.js$/);\n\nvar modules = context.keys().filter(function (item) {\n  return item !== './index.js';\n}).map(function (key) {\n  return context(key).default;\n});\nvar routes = [{\n  path: '/',\n  name: 'Welcome',\n  meta: {\n    requiresAuth: true\n  },\n  redirect: process.env.VUE_APP_CUSTOMER && process.env.VUE_APP_CUSTOMER === 'huatai' ? '/Product/ProductList' : '/Product/ProductList'\n}, {\n  path: '/Login',\n  name: 'Login',\n  meta: {\n    title: '登录'\n  },\n  component: function component() {\n    return import('../views/Login.vue');\n  }\n}].concat(_toConsumableArray(modules)); // if (!process.env.VUE_APP_CUSTOMER || process.env.VUE_APP_CUSTOMER !== 'xiaomi') {\n//   routes.push({\n//     path: '/vvauto-login',\n//     name: 'AutoLogin',\n//     meta: {\n//       title: '登录'\n//     },\n//     component: () =>\n//       import('../views/AutoLogin.vue')\n//   })\n// }\n\nvar router = new Router({\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  // 验证登录权限\n  // 控制导航栏显示隐藏\n  if (to.path === '/login' || to.name === '404') {\n    store.commit('changeHeaderVisible', false);\n  } else {\n    store.commit('changeHeaderVisible', true);\n  }\n\n  if (to.meta.requiresAuth) {\n    if (store.getters.loggedIn) {\n      store.commit('setPageUrl', to.fullPath);\n      next();\n    } else {\n      var path = '';\n\n      if (process.env.VUE_APP_CUSTOMER && process.env.VUE_APP_CUSTOMER === 'huatai') {\n        // 华泰需要免登录\n        path = '/vvauto-login';\n      } else {\n        path = '/login';\n      }\n\n      next({\n        path: path,\n        query: {\n          redirectURL: to.fullPath\n        } // 将当前路由路径作为参数，登录成功后跳转回该路径\n\n      });\n    }\n  } else {\n    next();\n  }\n}); // 导出Router实例\n\nexport default router;",null]}